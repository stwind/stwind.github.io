{
  "version": 3,
  "sources": ["../../build/_snowpack/env.js", "../../build/_snowpack/pkg/common/is-function-b13d3e65.js", "../../build/_snowpack/pkg/common/is-array-a7fa88fb.js", "../../build/_snowpack/pkg/common/is-string-40d6c094.js", "../../build/_snowpack/pkg/common/implements-function-c507affc.js", "../../build/_snowpack/pkg/@thi.ng/hdom.js", "../../build/_snowpack/pkg/common/mixin-ad130ceb.js", "../../build/_snowpack/pkg/common/deferror-480a42fb.js", "../../build/_snowpack/pkg/common/atom-a18fc46f.js", "../../build/_snowpack/pkg/common/index-83d31ab0.js", "../../build/_snowpack/pkg/@thi.ng/atom.js", "../../build/_snowpack/pkg/common/illegal-arguments-f9331715.js", "../../build/_snowpack/pkg/@thi.ng/interceptors.js", "../../build/_snowpack/pkg/common/illegal-arity-019e6e09.js", "../../build/_snowpack/pkg/@thi.ng/router.js", "../../build/_snowpack/pkg/@thi.ng/date.js", "../../build/_snowpack/pkg/@thi.ng/transducers.js", "../../build/_snowpack/pkg/@thi.ng/hdom-components.js", "../../build/_snowpack/pkg/@thi.ng/hiccup-carbon-icons.js", "../../build/dist/utils.js", "../../build/dist/components.js", "../../build/dist/config.js", "../../build/dist/index.js"],
  "sourcesContent": ["export const MODE = \"development\";\nexport const NODE_ENV = \"development\";\nexport const SSR = false;", "const isFunction = (x) => typeof x === \"function\";\n\nexport { isFunction as i };\n", "const isArray = Array.isArray;\n\nexport { isArray as i };\n", "const isString = (x) => typeof x === \"string\";\n\nexport { isString as i };\n", "const implementsFunction = (x, fn) => x != null && typeof x[fn] === \"function\";\n\nexport { implementsFunction as i };\n", "import { i as isFunction } from '../common/is-function-b13d3e65.js';\nimport { i as isArray$3 } from '../common/is-array-a7fa88fb.js';\nimport { i as isString$1 } from '../common/is-string-40d6c094.js';\nimport { i as implementsFunction } from '../common/implements-function-c507affc.js';\n\nconst isNotStringAndIterable$2 = (x) => x != null &&\n    typeof x !== \"string\" &&\n    typeof x[Symbol.iterator] === \"function\";\n\nconst OBJP$3 = Object.getPrototypeOf;\n/**\n * Similar to {@link isObject}, but also checks if prototype is that of\n * `Object` (or `null`).\n *\n * @param x -\n */\nconst isPlainObject$1 = (x) => {\n    let p;\n    return (x != null &&\n        typeof x === \"object\" &&\n        ((p = OBJP$3(x)) === null || OBJP$3(p) === null));\n};\n\n/**\n * Internal use only. **Do NOT use in user land code!**\n *\n * @internal\n */\nconst SEMAPHORE = Symbol();\n\nconst OBJP$2 = Object.getPrototypeOf({});\nconst FN$2 = \"function\";\nconst STR$2 = \"string\";\nconst equiv$2 = (a, b) => {\n    let proto;\n    if (a === b) {\n        return true;\n    }\n    if (a != null) {\n        if (typeof a.equiv === FN$2) {\n            return a.equiv(b);\n        }\n    }\n    else {\n        return a == b;\n    }\n    if (b != null) {\n        if (typeof b.equiv === FN$2) {\n            return b.equiv(a);\n        }\n    }\n    else {\n        return a == b;\n    }\n    if (typeof a === STR$2 || typeof b === STR$2) {\n        return false;\n    }\n    if (((proto = Object.getPrototypeOf(a)), proto == null || proto === OBJP$2) &&\n        ((proto = Object.getPrototypeOf(b)), proto == null || proto === OBJP$2)) {\n        return equivObject$1(a, b);\n    }\n    if (typeof a !== FN$2 &&\n        a.length !== undefined &&\n        typeof b !== FN$2 &&\n        b.length !== undefined) {\n        return equivArrayLike$1(a, b);\n    }\n    if (a instanceof Set && b instanceof Set) {\n        return equivSet$1(a, b);\n    }\n    if (a instanceof Map && b instanceof Map) {\n        return equivMap$1(a, b);\n    }\n    if (a instanceof Date && b instanceof Date) {\n        return a.getTime() === b.getTime();\n    }\n    if (a instanceof RegExp && b instanceof RegExp) {\n        return a.toString() === b.toString();\n    }\n    // NaN\n    return a !== a && b !== b;\n};\nconst equivArrayLike$1 = (a, b, _equiv = equiv$2) => {\n    let l = a.length;\n    if (l === b.length) {\n        while (--l >= 0 && _equiv(a[l], b[l]))\n            ;\n    }\n    return l < 0;\n};\nconst equivSet$1 = (a, b, _equiv = equiv$2) => a.size === b.size && _equiv([...a.keys()].sort(), [...b.keys()].sort());\nconst equivMap$1 = (a, b, _equiv = equiv$2) => a.size === b.size && _equiv([...a].sort(), [...b].sort());\nconst equivObject$1 = (a, b, _equiv = equiv$2) => {\n    if (Object.keys(a).length !== Object.keys(b).length) {\n        return false;\n    }\n    for (let k in a) {\n        if (!b.hasOwnProperty(k) || !_equiv(a[k], b[k])) {\n            return false;\n        }\n    }\n    return true;\n};\n\nlet _cachedFP;\nlet _cachedPath;\nlet _cachedEPC = [];\nlet _cachedPathPos = [];\nconst cachedFP = (size) => _cachedFP && _cachedFP.length >= size\n    ? _cachedFP\n    : (_cachedFP = new Int32Array(size));\nconst cachedPath = (size) => _cachedPath && _cachedPath.length >= size\n    ? _cachedPath\n    : (_cachedPath = new Int32Array(size));\nconst simpleDiff = (state, src, key, logDir, mode) => {\n    const n = src.length;\n    const linear = state.linear;\n    state.distance = n;\n    if (mode !== \"only-distance\") {\n        for (let i = 0, j = 0; i < n; i++, j += 3) {\n            linear[j] = logDir;\n            linear[j + 1] = i;\n            linear[j + 2] = src[i];\n        }\n        if (mode === \"full\") {\n            const _state = state[key];\n            for (let i = 0; i < n; i++) {\n                _state[i] = src[i];\n            }\n        }\n    }\n    return state;\n};\n/**\n * Based on \"An O(NP) Sequence Comparison Algorithm\"\" by Wu, Manber,\n * Myers and Miller.\n *\n * @remarks\n * Various optimizations, fixes & refactorings. By default uses\n * {@link @thi.ng/equiv#equiv} for equality checks.\n *\n * - {@link https://publications.mpi-cbg.de/Wu_1990_6334.pdf}\n * - {@link http://www.itu.dk/stud/speciale/bepjea/xwebtex/litt/an-onp-sequence-comparison-algorithm.pdf}\n * - {@link https://github.com/cubicdaiya/onp}\n *\n * @param a - \"old\" array\n * @param b - \"new\" array\n * @param mode - result mode\n * @param equiv - equality predicate function\n */\nconst diffArray = (a, b, mode = \"full\", equiv = equiv$2) => {\n    const state = {\n        distance: 0,\n        adds: {},\n        dels: {},\n        const: {},\n        linear: [],\n    };\n    if (a === b || (a == null && b == null)) {\n        return state;\n    }\n    else if (a == null || a.length === 0) {\n        return simpleDiff(state, b, \"adds\", 1, mode);\n    }\n    else if (b == null || b.length === 0) {\n        return simpleDiff(state, a, \"dels\", -1, mode);\n    }\n    const reverse = a.length >= b.length;\n    let _a, _b, na, nb;\n    if (reverse) {\n        _a = b;\n        _b = a;\n    }\n    else {\n        _a = a;\n        _b = b;\n    }\n    na = _a.length;\n    nb = _b.length;\n    const offset = na + 1;\n    const delta = nb - na;\n    const doff = delta + offset;\n    const size = na + nb + 3;\n    const path = cachedPath(size).fill(-1, 0, size);\n    const fp = cachedFP(size).fill(-1, 0, size);\n    const epc = _cachedEPC;\n    const pathPos = _cachedPathPos;\n    const snake = (k, p, pp) => {\n        let r, y;\n        if (p > pp) {\n            r = path[k - 1];\n            y = p;\n        }\n        else {\n            r = path[k + 1];\n            y = pp;\n        }\n        let x = y - (k - offset);\n        while (x < na && y < nb && equiv(_a[x], _b[y])) {\n            x++;\n            y++;\n        }\n        path[k] = pathPos.length / 3;\n        pathPos.push(x, y, r);\n        fp[k] = y;\n    };\n    let p = -1;\n    let k;\n    do {\n        p++;\n        for (k = -p + offset; k < doff; k++) {\n            snake(k, fp[k - 1] + 1, fp[k + 1]);\n        }\n        for (k = doff + p; k > doff; k--) {\n            snake(k, fp[k - 1] + 1, fp[k + 1]);\n        }\n        snake(doff, fp[doff - 1] + 1, fp[doff + 1]);\n    } while (fp[doff] !== nb);\n    state.distance = delta + 2 * p;\n    if (mode !== \"only-distance\") {\n        p = path[doff] * 3;\n        while (p >= 0) {\n            epc.push(p);\n            p = pathPos[p + 2] * 3;\n        }\n        if (mode === \"full\") {\n            buildFullLog(epc, pathPos, state, _a, _b, reverse);\n        }\n        else {\n            buildLinearLog(epc, pathPos, state, _a, _b, reverse, mode === \"only-distance-linear\");\n        }\n    }\n    epc.length = 0;\n    pathPos.length = 0;\n    return state;\n};\nconst buildFullLog = (epc, pathPos, state, a, b, reverse) => {\n    const linear = state.linear;\n    const _const = state.const;\n    let i = epc.length;\n    let px = 0;\n    let py = 0;\n    let adds;\n    let dels;\n    let aID;\n    let dID;\n    if (reverse) {\n        adds = state.dels;\n        dels = state.adds;\n        aID = -1;\n        dID = 1;\n    }\n    else {\n        adds = state.adds;\n        dels = state.dels;\n        aID = 1;\n        dID = -1;\n    }\n    for (; --i >= 0;) {\n        const e = epc[i];\n        const ppx = pathPos[e];\n        const ppy = pathPos[e + 1];\n        const d = ppy - ppx;\n        while (px < ppx || py < ppy) {\n            const dp = py - px;\n            if (d > dp) {\n                linear.push(aID, py, (adds[py] = b[py]));\n                py++;\n            }\n            else if (d < dp) {\n                linear.push(dID, px, (dels[px] = a[px]));\n                px++;\n            }\n            else {\n                linear.push(0, px, (_const[px] = a[px]));\n                px++;\n                py++;\n            }\n        }\n    }\n};\nconst buildLinearLog = (epc, pathPos, state, a, b, reverse, inclConst) => {\n    const linear = state.linear;\n    const aID = reverse ? -1 : 1;\n    const dID = reverse ? 1 : -1;\n    let i = epc.length, px = 0, py = 0;\n    for (; --i >= 0;) {\n        const e = epc[i];\n        const ppx = pathPos[e];\n        const ppy = pathPos[e + 1];\n        const d = ppy - ppx;\n        while (px < ppx || py < ppy) {\n            const dp = py - px;\n            if (d > dp) {\n                linear.push(aID, py, b[py]);\n                py++;\n            }\n            else if (d < dp) {\n                linear.push(dID, px, a[px]);\n                px++;\n            }\n            else {\n                inclConst && linear.push(0, px, a[px]);\n                px++;\n                py++;\n            }\n        }\n    }\n};\n\nconst diffObject = (a, b, mode = \"full\", _equiv = equiv$2) => a === b\n    ? { distance: 0 }\n    : mode === \"only-distance\"\n        ? diffObjectDist(a, b, _equiv)\n        : diffObjectFull(a, b, _equiv);\nconst diffObjectDist = (a, b, _equiv) => {\n    if (!a)\n        a = {};\n    if (!b)\n        b = {};\n    let d = 0;\n    for (let k in a) {\n        const vb = b[k];\n        (vb === undefined || !_equiv(a[k], vb)) && d++;\n    }\n    for (let k in b) {\n        !(k in a) && d++;\n    }\n    return { distance: d };\n};\nconst diffObjectFull = (a, b, _equiv) => {\n    if (!a)\n        a = {};\n    if (!b)\n        b = {};\n    let d = 0;\n    const adds = [];\n    const dels = [];\n    const edits = [];\n    for (let k in a) {\n        const vb = b[k];\n        if (vb === undefined) {\n            dels.push(k);\n            d++;\n        }\n        else if (!_equiv(a[k], vb)) {\n            edits.push(k, vb);\n            d++;\n        }\n    }\n    for (let k in b) {\n        if (!(k in a)) {\n            adds.push(k);\n            d++;\n        }\n    }\n    return { distance: d, adds, dels, edits };\n};\n\nconst OBJP$1 = Object.getPrototypeOf({});\nconst FN$1 = \"function\";\nconst STR$1 = \"string\";\nconst equiv$1 = (a, b) => {\n    let proto;\n    if (a === b) {\n        return true;\n    }\n    if (a != null) {\n        if (typeof a.equiv === FN$1) {\n            return a.equiv(b);\n        }\n    }\n    else {\n        return a == b;\n    }\n    if (b != null) {\n        if (typeof b.equiv === FN$1) {\n            return b.equiv(a);\n        }\n    }\n    else {\n        return a == b;\n    }\n    if (typeof a === STR$1 || typeof b === STR$1) {\n        return false;\n    }\n    if (((proto = Object.getPrototypeOf(a)), proto == null || proto === OBJP$1) &&\n        ((proto = Object.getPrototypeOf(b)), proto == null || proto === OBJP$1)) {\n        return equivObject(a, b);\n    }\n    if (typeof a !== FN$1 &&\n        a.length !== undefined &&\n        typeof b !== FN$1 &&\n        b.length !== undefined) {\n        return equivArrayLike(a, b);\n    }\n    if (a instanceof Set && b instanceof Set) {\n        return equivSet(a, b);\n    }\n    if (a instanceof Map && b instanceof Map) {\n        return equivMap(a, b);\n    }\n    if (a instanceof Date && b instanceof Date) {\n        return a.getTime() === b.getTime();\n    }\n    if (a instanceof RegExp && b instanceof RegExp) {\n        return a.toString() === b.toString();\n    }\n    // NaN\n    return a !== a && b !== b;\n};\nconst equivArrayLike = (a, b, _equiv = equiv$1) => {\n    let l = a.length;\n    if (l === b.length) {\n        while (--l >= 0 && _equiv(a[l], b[l]))\n            ;\n    }\n    return l < 0;\n};\nconst equivSet = (a, b, _equiv = equiv$1) => a.size === b.size && _equiv([...a.keys()].sort(), [...b.keys()].sort());\nconst equivMap = (a, b, _equiv = equiv$1) => a.size === b.size && _equiv([...a].sort(), [...b].sort());\nconst equivObject = (a, b, _equiv = equiv$1) => {\n    if (Object.keys(a).length !== Object.keys(b).length) {\n        return false;\n    }\n    for (let k in a) {\n        if (!b.hasOwnProperty(k) || !_equiv(a[k], b[k])) {\n            return false;\n        }\n    }\n    return true;\n};\n\nconst isArray$2 = Array.isArray;\nconst max = Math.max;\nconst OBJP = Object.getPrototypeOf({});\nconst FN = \"function\";\nconst STR = \"string\";\n// child index tracking template buffer\nconst INDEX = (() => {\n    const res = new Array(2048);\n    for (let i = 2, n = res.length; i < n; i++) {\n        res[i] = i - 2;\n    }\n    return res;\n})();\nconst buildIndex = (n) => {\n    if (n <= INDEX.length) {\n        return INDEX.slice(0, n);\n    }\n    const res = new Array(n);\n    while (--n >= 2) {\n        res[n] = n - 2;\n    }\n    return res;\n};\n/**\n * See {@link HDOMImplementation} interface for further details.\n *\n * @param opts - hdom config options\n * @param impl - hdom implementation\n * @param parent - parent element (DOM node)\n * @param prev - previous tree\n * @param curr - current tree\n * @param child - child index\n */\nconst diffTree = (opts, impl, parent, prev, curr, child = 0) => {\n    const attribs = curr[1];\n    if (attribs.__skip) {\n        return;\n    }\n    // always replace element if __diff = false\n    if (attribs.__diff === false) {\n        releaseTree(prev);\n        impl.replaceChild(opts, parent, child, curr);\n        return;\n    }\n    const pattribs = prev[1];\n    if (pattribs && pattribs.__skip) {\n        impl.replaceChild(opts, parent, child, curr, false);\n        return;\n    }\n    // delegate to branch-local implementation\n    let _impl = attribs.__impl;\n    if (_impl && _impl !== impl) {\n        return _impl.diffTree(opts, _impl, parent, prev, curr, child);\n    }\n    const delta = diffArray(prev, curr, \"only-distance-linear\", equiv);\n    if (delta.distance === 0) {\n        return;\n    }\n    const edits = delta.linear;\n    const el = impl.getChild(parent, child);\n    let ii;\n    let status;\n    let val;\n    if (edits[0] !== 0 || prev[1].key !== attribs.key) {\n        // LOGGER.fine(\"replace:\", prev, curr);\n        releaseTree(prev);\n        impl.replaceChild(opts, parent, child, curr);\n        return;\n    }\n    if ((val = prev.__release) && val !== curr.__release) {\n        releaseTree(prev);\n    }\n    if (edits[3] !== 0) {\n        diffAttributes(impl, el, prev[1], curr[1]);\n        // if attribs changed & distance == 2 then we're done here...\n        if (delta.distance === 2) {\n            return;\n        }\n    }\n    const numEdits = edits.length;\n    const prevLength = prev.length - 1;\n    const equivKeys = extractEquivElements(edits);\n    const offsets = buildIndex(prevLength + 1);\n    for (ii = 6; ii < numEdits; ii += 3) {\n        status = edits[ii];\n        if (!status)\n            continue;\n        if (status === -1) {\n            diffDeleted(opts, impl, el, prev, curr, edits, ii, equivKeys, offsets, prevLength);\n        }\n        else {\n            diffAdded(opts, impl, el, edits, ii, equivKeys, offsets, prevLength);\n        }\n    }\n    // call __init after all children have been added/updated\n    if ((val = curr.__init) && val != prev.__init) {\n        val.apply(curr, [el, ...curr.__args]);\n    }\n};\nconst diffDeleted = (opts, impl, el, prev, curr, edits, ii, equivKeys, offsets, prevLength) => {\n    const val = edits[ii + 2];\n    if (isArray$2(val)) {\n        let k = val[1].key;\n        if (k !== undefined && equivKeys[k][2] !== undefined) {\n            const eq = equivKeys[k];\n            k = eq[0];\n            // LOGGER.fine(`diff equiv key @ ${k}:`, prev[k], curr[eq[2]]);\n            diffTree(opts, impl, el, prev[k], curr[eq[2]], offsets[k]);\n        }\n        else {\n            const idx = edits[ii + 1];\n            // LOGGER.fine(\"remove @\", offsets[idx], val);\n            releaseTree(val);\n            impl.removeChild(el, offsets[idx]);\n            incOffsets(offsets, prevLength, idx);\n        }\n    }\n    else if (typeof val === STR) {\n        impl.setContent(el, \"\");\n    }\n};\nconst diffAdded = (opts, impl, el, edits, ii, equivKeys, offsets, prevLength) => {\n    const val = edits[ii + 2];\n    if (typeof val === STR) {\n        impl.setContent(el, val);\n    }\n    else if (isArray$2(val)) {\n        const k = val[1].key;\n        if (k === undefined || equivKeys[k][0] === undefined) {\n            const idx = edits[ii + 1];\n            // LOGGER.fine(\"insert @\", offsets[idx], val);\n            impl.createTree(opts, el, val, offsets[idx]);\n            decOffsets(offsets, prevLength, idx);\n        }\n    }\n};\nconst incOffsets = (offsets, j, idx) => {\n    for (; j > idx; j--) {\n        offsets[j] = max(offsets[j] - 1, 0);\n    }\n};\nconst decOffsets = (offsets, j, idx) => {\n    for (; j >= idx; j--) {\n        offsets[j]++;\n    }\n};\n/**\n * Helper function for {@link diffTree} to compute & apply the difference\n * between a node's `prev` and `curr` attributes.\n *\n * @param impl - hdom implementation\n * @param el - DOM element\n * @param prev - previous attributes\n * @param curr - current attributes\n *\n * @internal\n */\nconst diffAttributes = (impl, el, prev, curr) => {\n    const delta = diffObject(prev, curr, \"full\", equiv$1);\n    impl.removeAttribs(el, delta.dels, prev);\n    let val = SEMAPHORE;\n    let i, e, edits;\n    for (edits = delta.edits, i = edits.length; (i -= 2) >= 0;) {\n        e = edits[i];\n        e[0] === \"o\" && e[1] === \"n\" && impl.removeAttribs(el, [e], prev);\n        e !== \"value\"\n            ? impl.setAttrib(el, e, edits[i + 1], curr)\n            : (val = edits[i + 1]);\n    }\n    for (edits = delta.adds, i = edits.length; --i >= 0;) {\n        e = edits[i];\n        e !== \"value\" ? impl.setAttrib(el, e, curr[e], curr) : (val = curr[e]);\n    }\n    val !== SEMAPHORE && impl.setAttrib(el, \"value\", val, curr);\n};\n/**\n * Recursively attempts to call the {@link ILifecycle.release} lifecycle\n * method on every element in given tree (branch), using depth-first\n * descent. Each element is checked for the presence of the `__release`\n * control attribute. If (and only if) it is set to `false`, further\n * descent into that element's branch is skipped.\n *\n * @param tree - hdom sub-tree\n *\n * @internal\n */\nconst releaseTree = (tree) => {\n    if (isArray$2(tree)) {\n        let x;\n        if ((x = tree[1]) && x.__release === false) {\n            return;\n        }\n        if (tree.__release) {\n            // LOGGER.fine(\"call __release\", tag);\n            tree.__release.apply(tree.__this, tree.__args);\n            delete tree.__release;\n        }\n        for (x = tree.length; --x >= 2;) {\n            releaseTree(tree[x]);\n        }\n    }\n};\nconst extractEquivElements = (edits) => {\n    let k;\n    let val;\n    let ek;\n    const equiv = {};\n    for (let i = edits.length; (i -= 3) >= 0;) {\n        val = edits[i + 2];\n        if (isArray$2(val) && (k = val[1].key) !== undefined) {\n            ek = equiv[k];\n            !ek && (equiv[k] = ek = [, ,]);\n            ek[edits[i] + 1] = edits[i + 1];\n        }\n    }\n    return equiv;\n};\n/**\n * Customized version {@link @thi.ng/equiv#equiv} which takes `__diff`\n * attributes into account (at any nesting level). If an hdom element's\n * attribute object contains `__diff: false`, the object will ALWAYS be\n * considered unequal, even if all other attributes in the object are\n * equivalent.\n *\n * @param a -\n * @param b -\n *\n * @internal\n */\nconst equiv = (a, b) => {\n    let proto;\n    if (a === b) {\n        return true;\n    }\n    if (a != null) {\n        if (typeof a.equiv === FN) {\n            return a.equiv(b);\n        }\n    }\n    else {\n        return a == b;\n    }\n    if (b != null) {\n        if (typeof b.equiv === FN) {\n            return b.equiv(a);\n        }\n    }\n    else {\n        return a == b;\n    }\n    if (typeof a === STR || typeof b === STR) {\n        return false;\n    }\n    if (((proto = Object.getPrototypeOf(a)), proto == null || proto === OBJP) &&\n        ((proto = Object.getPrototypeOf(b)), proto == null || proto === OBJP)) {\n        return (!(a.__diff === false || b.__diff === false) &&\n            equivObject(a, b, equiv));\n    }\n    if (typeof a !== FN &&\n        a.length !== undefined &&\n        typeof b !== FN &&\n        b.length !== undefined) {\n        return equivArrayLike(a, b, equiv);\n    }\n    if (a instanceof Set && b instanceof Set) {\n        return equivSet(a, b, equiv);\n    }\n    if (a instanceof Map && b instanceof Map) {\n        return equivMap(a, b, equiv);\n    }\n    if (a instanceof Date && b instanceof Date) {\n        return a.getTime() === b.getTime();\n    }\n    if (a instanceof RegExp && b instanceof RegExp) {\n        return a.toString() === b.toString();\n    }\n    // NaN\n    return a !== a && b !== b;\n};\n\n/** @internal */\n/** @internal */\nconst ENTITIES = {\n    \"&\": \"&amp;\",\n    \"<\": \"&lt;\",\n    \">\": \"&gt;\",\n    '\"': \"&quot;\",\n    \"'\": \"&apos;\",\n};\n/** @internal */\nconst RE_TAG = /^([^\\s\\.#]+)(?:#([^\\s\\.#]+))?(?:\\.([^\\s#]+))?$/;\n/** @internal */\nnew RegExp(`[${Object.keys(ENTITIES).join(\"\")}]`, \"g\");\n/** @internal */\nconst NO_SPANS = {\n    button: 1,\n    option: 1,\n    script: 1,\n    style: 1,\n    text: 1,\n    textarea: 1,\n    title: 1,\n};\nconst tagMap = (tags) => tags.split(\" \").reduce((acc, x) => ((acc[x] = true), acc), {});\n/** @internal */\n// tslint:disable-next-line\nconst SVG_TAGS = tagMap(\"animate animateColor animateMotion animateTransform circle clipPath color-profile defs desc discard ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feDropShadow feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font foreignObject g image line linearGradient marker mask metadata mpath path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view\");\n/** @internal */\n// tslint:disable-next-line\ntagMap(\"area base br col command embed hr img input keygen link meta param source stop track use wbr ?xml\");\n/** @internal */\n// tslint:disable-next-line\ntagMap(\"animate circle ellipse line path polygon polyline rect\");\n\n/**\n * Returns true iff `x` implements {@link IDeref}.\n *\n * @param x\n */\nconst isDeref = (x) => x != null && typeof x[\"deref\"] === \"function\";\n/**\n * If `x` implements {@link IDeref}, returns its wrapped value, else\n * returns `x` itself.\n *\n * @param x -\n */\nconst deref = (x) => (isDeref(x) ? x.deref() : x);\n\n/**\n * Takes a space separated string of existing CSS class names and merges\n * it with `val`, which is either another string of class names, an\n * object of booleans or an `IDeref` evaluating to either. Returns\n * updated class string.\n *\n * @remarks\n * If `val` evaluates to a string, it will be appended to `existing`.\n *\n * If `val` is an object, its keys are used as class names and their\n * values indicate if the class should be added or removed from the\n * existing set.\n *\n * @example\n * ```ts\n * mergeClasses(\"foo bar\", { foo: false, baz: true })\n * // \"bar baz\"\n *\n * mergeClasses(\"foo bar\", \"baz\");\n * // \"baz\"\n * ```\n *\n * @param existing\n * @param val\n */\nconst mergeClasses = (existing, val) => {\n    val = deref(val);\n    if (val == null)\n        return existing;\n    if (isString$1(val))\n        return existing + \" \" + val;\n    const classes = new Set(existing.split(\" \"));\n    for (let id in val) {\n        deref(val[id]) ? classes.add(id) : classes.delete(id);\n    }\n    return [...classes].join(\" \");\n};\n/**\n * Takes an attrib object and optional element ID and CSS class names from Emmet-style\n * hiccup tag, then transforms and merges definitions, returns attribs.\n *\n * @param attribs\n * @param id\n * @param classes\n */\nconst mergeEmmetAttribs = (attribs, id, classes) => {\n    id && (attribs.id = id);\n    let aclass = deref(attribs.class);\n    if (classes) {\n        classes = classes.replace(/\\./g, \" \");\n        attribs.class = aclass ? mergeClasses(classes, aclass) : classes;\n    }\n    else if (aclass) {\n        attribs.class = isString$1(aclass) ? aclass : mergeClasses(\"\", aclass);\n    }\n    return attribs;\n};\n\nconst css = (rules) => {\n    let css = \"\";\n    let v;\n    for (let r in rules) {\n        v = deref(rules[r]);\n        isFunction(v) && (v = v(rules));\n        v != null && (css += `${r}:${v};`);\n    }\n    return css;\n};\n\n/**\n * Takes an arbitrary `ctx` object and array of `keys`. Attempts to call\n * `.deref()` on all given keys' values and stores result values instead\n * of original. Returns updated copy of `ctx` or original if `ctx` is\n * `null` or no keys were given.\n *\n * @param ctx - user context object\n * @param keys - keys to deref\n *\n * @internal\n */\nconst derefContext = (ctx, keys) => {\n    if (ctx == null || !keys || !keys.length)\n        return ctx;\n    const res = Object.assign({}, ctx);\n    for (let k of keys) {\n        const v = res[k];\n        implementsFunction(v, \"deref\") && (res[k] = v.deref());\n    }\n    return res;\n};\n\n/**\n * Takes an object of RDF/XML prefixes and returns formatted string for\n * the RDFa `prefix` attribute.\n *\n * @example\n * ```ts\n * import { foaf, xsd } from \"@thi.ng/prefixes\";\n *\n * formatPrefixes({ foaf, xsd })\n * // \"foaf: http://xmlns.com/foaf/0.1/ rdf: http://www.w3.org/2001/XMLSchema#\"\n * ```\n *\n * @param prefixes -\n */\nconst formatPrefixes = (prefixes) => Object.keys(prefixes)\n    .reduce((acc, k) => (acc.push(`${k}: ${prefixes[k]}`), acc), [])\n    .join(\" \");\n\nconst XML_SVG = \"http://www.w3.org/2000/svg\";\n\nconst isArray$1 = isArray$3;\nconst isNotStringAndIterable$1 = isNotStringAndIterable$2;\nconst isString = isString$1;\nconst maybeInitElement = (el, tree) => tree.__init && tree.__init.apply(tree.__this, [el, ...tree.__args]);\n/**\n * See {@link HDOMImplementation} interface for further details.\n *\n * @param opts - hdom config options\n * @param parent - DOM element\n * @param tree - component tree\n * @param insert - child index\n */\nconst createTree = (opts, impl, parent, tree, insert, init = true) => {\n    if (isArray$1(tree)) {\n        const tag = tree[0];\n        if (typeof tag === \"function\") {\n            return createTree(opts, impl, parent, tag.apply(null, [opts.ctx, ...tree.slice(1)]), insert);\n        }\n        const attribs = tree[1];\n        if (attribs.__impl) {\n            return attribs.__impl.createTree(opts, parent, tree, insert, init);\n        }\n        const el = impl.createElement(parent, tag, attribs, insert);\n        if (tree.length > 2) {\n            const n = tree.length;\n            for (let i = 2; i < n; i++) {\n                createTree(opts, impl, el, tree[i], undefined, init);\n            }\n        }\n        init && maybeInitElement(el, tree);\n        return el;\n    }\n    if (isNotStringAndIterable$1(tree)) {\n        const res = [];\n        for (let t of tree) {\n            res.push(createTree(opts, impl, parent, t, insert, init));\n        }\n        return res;\n    }\n    if (tree == null) {\n        return parent;\n    }\n    return impl.createTextElement(parent, tree);\n};\n/**\n * See {@link HDOMImplementation} interface for further details.\n *\n * @param opts - hdom config options\n * @param parent - DOM element\n * @param tree - component tree\n * @param index - child index\n */\nconst hydrateTree = (opts, impl, parent, tree, index = 0) => {\n    if (isArray$1(tree)) {\n        const el = impl.getChild(parent, index);\n        if (typeof tree[0] === \"function\") {\n            hydrateTree(opts, impl, parent, tree[0].apply(null, [opts.ctx, ...tree.slice(1)]), index);\n        }\n        const attribs = tree[1];\n        if (attribs.__impl) {\n            return attribs.__impl.hydrateTree(opts, parent, tree, index);\n        }\n        maybeInitElement(el, tree);\n        for (let a in attribs) {\n            a[0] === \"o\" && a[1] === \"n\" && impl.setAttrib(el, a, attribs[a]);\n        }\n        for (let n = tree.length, i = 2; i < n; i++) {\n            hydrateTree(opts, impl, el, tree[i], i - 2);\n        }\n    }\n    else if (isNotStringAndIterable$1(tree)) {\n        for (let t of tree) {\n            hydrateTree(opts, impl, parent, t, index);\n            index++;\n        }\n    }\n};\n/**\n * Creates a new DOM element of type `tag` with optional `attribs`. If\n * `parent` is not `null`, the new element will be inserted as child at\n * given `insert` index. If `insert` is missing, the element will be\n * appended to the `parent`'s list of children. Returns new DOM node.\n *\n * If `tag` is a known SVG element name, the new element will be created\n * with the proper SVG XML namespace.\n *\n * @param parent - DOM element\n * @param tag - component tree\n * @param attribs - attributes\n * @param insert - child index\n */\nconst createElement = (parent, tag, attribs, insert) => {\n    const el = SVG_TAGS[tag]\n        ? document.createElementNS(XML_SVG, tag)\n        : document.createElement(tag);\n    attribs && setAttribs(el, attribs);\n    return addChild(parent, el, insert);\n};\nconst createTextElement = (parent, content, insert) => addChild(parent, document.createTextNode(content), insert);\nconst addChild = (parent, child, insert) => parent\n    ? insert === undefined\n        ? parent.appendChild(child)\n        : parent.insertBefore(child, parent.children[insert])\n    : child;\nconst getChild = (parent, child) => parent.children[child];\nconst replaceChild = (opts, impl, parent, child, tree, init = true) => (impl.removeChild(parent, child),\n    impl.createTree(opts, parent, tree, child, init));\nconst setContent = (el, body) => (el.textContent = body);\nconst setAttribs = (el, attribs) => {\n    for (let k in attribs) {\n        setAttrib(el, k, attribs[k], attribs);\n    }\n    return el;\n};\n/**\n * Sets a single attribute on given element. If attrib name is NOT an\n * event name (prefix: \"on\") and its value is a function, it is called\n * with given `attribs` object (usually the full attrib object passed to\n * {@link setAttribs}) and the function's return value is used as the actual\n * attrib value.\n *\n * Special rules apply for certain attributes:\n *\n * - \"style\": delegated to {@link setStyle}\n * - \"value\": delegated to {@link updateValueAttrib}\n * - attrib IDs starting with \"on\" are treated as event listeners\n *\n * If the given (or computed) attrib value is `false` or `undefined` the\n * attrib is removed from the element.\n *\n * @param el - DOM element\n * @param id - attribute name\n * @param val - attribute value\n * @param attribs - object of all attribs\n */\nconst setAttrib = (el, id, val, attribs) => {\n    if (id.startsWith(\"__\"))\n        return;\n    const isListener = id[0] === \"o\" && id[1] === \"n\";\n    if (!isListener && typeof val === \"function\") {\n        val = val(attribs);\n    }\n    if (val !== undefined && val !== false) {\n        switch (id) {\n            case \"style\":\n                setStyle(el, val);\n                break;\n            case \"value\":\n                updateValueAttrib(el, val);\n                break;\n            case \"prefix\":\n                el.setAttribute(id, isString(val) ? val : formatPrefixes(val));\n                break;\n            case \"accesskey\":\n                el.accessKey = val;\n                break;\n            case \"contenteditable\":\n                el.contentEditable = val;\n                break;\n            case \"tabindex\":\n                el.tabIndex = val;\n                break;\n            case \"align\":\n            case \"autocapitalize\":\n            case \"checked\":\n            case \"dir\":\n            case \"draggable\":\n            case \"hidden\":\n            case \"id\":\n            case \"lang\":\n            case \"namespaceURI\":\n            case \"scrollTop\":\n            case \"scrollLeft\":\n            case \"title\":\n                // TODO add more properties / enumerated attribs?\n                el[id] = val;\n                break;\n            default:\n                isListener\n                    ? setListener(el, id.substr(2), val)\n                    : el.setAttribute(id, val === true ? \"\" : val);\n        }\n    }\n    else {\n        el[id] != null ? (el[id] = null) : el.removeAttribute(id);\n    }\n    return el;\n};\n/**\n * Updates an element's `value` property. For form elements it too\n * ensures the edit cursor retains its position.\n *\n * @param el - DOM element\n * @param value - value\n */\nconst updateValueAttrib = (el, value) => {\n    let ev;\n    switch (el.type) {\n        case \"text\":\n        case \"textarea\":\n        case \"password\":\n        case \"search\":\n        case \"number\":\n        case \"email\":\n        case \"url\":\n        case \"tel\":\n        case \"date\":\n        case \"datetime-local\":\n        case \"time\":\n        case \"week\":\n        case \"month\":\n            if ((ev = el.value) !== undefined && typeof value === \"string\") {\n                const off = value.length - (ev.length - (el.selectionStart || 0));\n                el.value = value;\n                el.selectionStart = el.selectionEnd = off;\n                break;\n            }\n        default:\n            el.value = value;\n    }\n};\nconst removeAttribs = (el, attribs, prev) => {\n    for (let i = attribs.length; --i >= 0;) {\n        const a = attribs[i];\n        if (a[0] === \"o\" && a[1] === \"n\") {\n            removeListener(el, a.substr(2), prev[a]);\n        }\n        else {\n            el.hasAttribute(a) ? el.removeAttribute(a) : (el[a] = null);\n        }\n    }\n};\nconst setStyle = (el, styles) => (el.setAttribute(\"style\", css(styles)), el);\n/**\n * Adds event listener (possibly with options).\n *\n * @param el - DOM element\n * @param id - event name (w/o `on` prefix)\n * @param listener -\n */\nconst setListener = (el, id, listener) => isString(listener)\n    ? el.setAttribute(\"on\" + id, listener)\n    : isArray$1(listener)\n        ? el.addEventListener(id, ...listener)\n        : el.addEventListener(id, listener);\n/**\n * Removes event listener (possibly with options).\n *\n * @param el - DOM element\n * @param id - event name (w/o `on` prefix)\n * @param listener -\n */\nconst removeListener = (el, id, listener) => isArray$1(listener)\n    ? el.removeEventListener(id, ...listener)\n    : el.removeEventListener(id, listener);\nconst removeChild = (parent, childIdx) => {\n    const n = parent.children[childIdx];\n    n !== undefined && parent.removeChild(n);\n};\n\nconst defError = (prefix, suffix = (msg) => (msg !== undefined ? \": \" + msg : \"\")) => class extends Error {\n    constructor(msg) {\n        super(prefix(msg) + suffix(msg));\n    }\n};\n\nconst IllegalArgumentError = defError(() => \"illegal argument(s)\");\nconst illegalArgs = (msg) => {\n    throw new IllegalArgumentError(msg);\n};\n\nconst isArray = isArray$3;\nconst isNotStringAndIterable = isNotStringAndIterable$2;\nconst isPlainObject = isPlainObject$1;\n/**\n * Expands single hiccup element/component into its canonical form:\n *\n * ```\n * [tagname, {attribs}, ...children]\n * ```\n *\n * Emmet-style ID and class names in the original tagname are moved into\n * the attribs object, e.g.:\n *\n * ```\n * [\"div#foo.bar.baz\"] => [\"div\", {id: \"foo\", class: \"bar baz\"}]\n * ```\n *\n * If both Emmet-style classes AND a `class` attrib exists, the former\n * are appended to the latter:\n *\n * ```\n * [\"div.bar.baz\", {class: \"foo\"}] => [\"div\", {class: \"foo bar baz\"}]\n * ```\n *\n * Elements with `__skip` attrib enabled and no children, will have an\n * empty text child element injected.\n *\n * @param spec - single hdom component\n * @param keys -\n *\n * @internal\n */\nconst normalizeElement = (spec, keys) => {\n    let tag = spec[0];\n    let hasAttribs = isPlainObject(spec[1]);\n    let match;\n    let name;\n    let attribs;\n    if (typeof tag !== \"string\" || !(match = RE_TAG.exec(tag))) {\n        illegalArgs(`${tag} is not a valid tag name`);\n    }\n    name = match[1];\n    // return orig if already normalized and satisfies key requirement\n    if (tag === name && hasAttribs && (!keys || spec[1].key)) {\n        return spec;\n    }\n    attribs = mergeEmmetAttribs(hasAttribs ? Object.assign({}, spec[1]) : {}, match[2], match[3]);\n    return attribs.__skip && spec.length < 3\n        ? [name, attribs]\n        : [name, attribs, ...spec.slice(hasAttribs ? 2 : 1)];\n};\n/**\n * See {@link HDOMImplementation} interface for further details.\n *\n * @param opts - hdom config options\n * @param tree - component tree\n */\nconst normalizeTree = (opts, tree) => _normalizeTree(tree, opts, opts.ctx, [0], opts.keys !== false, opts.span !== false);\nconst _normalizeTree = (tree, opts, ctx, path, keys, span) => {\n    if (tree == null) {\n        return;\n    }\n    if (isArray(tree)) {\n        if (tree.length === 0) {\n            return;\n        }\n        let norm, nattribs = tree[1], impl;\n        // if available, use branch-local normalize implementation\n        if (nattribs &&\n            (impl = nattribs.__impl) &&\n            (impl = impl.normalizeTree)) {\n            return impl(opts, tree);\n        }\n        const tag = tree[0];\n        // use result of function call\n        // pass ctx as first arg and remaining array elements as rest args\n        if (typeof tag === \"function\") {\n            return _normalizeTree(tag.apply(null, [ctx, ...tree.slice(1)]), opts, ctx, path, keys, span);\n        }\n        // component object w/ life cycle methods\n        // (render() is the only required hook)\n        if (typeof tag.render === \"function\") {\n            const args = [ctx, ...tree.slice(1)];\n            norm = _normalizeTree(tag.render.apply(tag, args), opts, ctx, path, keys, span);\n            if (isArray(norm)) {\n                norm.__this = tag;\n                norm.__init = tag.init;\n                norm.__release = tag.release;\n                norm.__args = args;\n            }\n            return norm;\n        }\n        norm = normalizeElement(tree, keys);\n        nattribs = norm[1];\n        if (nattribs.__normalize === false) {\n            return norm;\n        }\n        if (keys && nattribs.key === undefined) {\n            nattribs.key = path.join(\"-\");\n        }\n        return norm.length > 2\n            ? normalizeChildren(norm, nattribs, opts, ctx, path, keys, span)\n            : norm;\n    }\n    return typeof tree === \"function\"\n        ? _normalizeTree(tree(ctx), opts, ctx, path, keys, span)\n        : typeof tree.toHiccup === \"function\"\n            ? _normalizeTree(tree.toHiccup(opts.ctx), opts, ctx, path, keys, span)\n            : typeof tree.deref === \"function\"\n                ? _normalizeTree(tree.deref(), opts, ctx, path, keys, span)\n                : span\n                    ? [\"span\", keys ? { key: path.join(\"-\") } : {}, tree.toString()]\n                    : tree.toString();\n};\nconst normalizeChildren = (norm, nattribs, opts, ctx, path, keys, span) => {\n    const tag = norm[0];\n    const res = [tag, nattribs];\n    span = span && !NO_SPANS[tag];\n    for (let i = 2, j = 2, k = 0, n = norm.length; i < n; i++) {\n        let el = norm[i];\n        if (el != null) {\n            const isarray = isArray(el);\n            if ((isarray && isArray(el[0])) ||\n                (!isarray && isNotStringAndIterable(el))) {\n                for (let c of el) {\n                    c = _normalizeTree(c, opts, ctx, path.concat(k), keys, span);\n                    if (c !== undefined) {\n                        res[j++] = c;\n                    }\n                    k++;\n                }\n            }\n            else {\n                el = _normalizeTree(el, opts, ctx, path.concat(k), keys, span);\n                if (el !== undefined) {\n                    res[j++] = el;\n                }\n                k++;\n            }\n        }\n    }\n    return res;\n};\n\n/**\n * Default target implementation to manipulate browser DOM.\n */\nconst DEFAULT_IMPL = {\n    createTree(opts, parent, tree, child, init) {\n        return createTree(opts, this, parent, tree, child, init);\n    },\n    hydrateTree(opts, parent, tree, child) {\n        return hydrateTree(opts, this, parent, tree, child);\n    },\n    diffTree(opts, parent, prev, curr, child) {\n        diffTree(opts, this, parent, prev, curr, child);\n    },\n    normalizeTree,\n    getElementById(id) {\n        return document.getElementById(id);\n    },\n    getChild,\n    createElement,\n    createTextElement,\n    replaceChild(opts, parent, child, tree, init) {\n        replaceChild(opts, this, parent, child, tree, init);\n    },\n    removeChild,\n    setContent,\n    removeAttribs,\n    setAttrib,\n};\n\nconst resolveRoot = (root, impl) => isString$1(root) ? impl.getElementById(root) : root;\n\n/**\n * Takes an hiccup tree (array, function or component object w/ life\n * cycle methods) and an optional object of DOM update options. Starts\n * RAF update loop, in each iteration first normalizing given tree, then\n * computing diff to previous frame's tree and applying any changes to\n * the real DOM. The `ctx` option can be used for passing arbitrary\n * config data or state down into the hiccup component tree. Any\n * embedded component function in the tree will receive this context\n * object (shallow copy) as first argument, as will life cycle methods\n * in component objects. If the `autoDerefKeys` option is given,\n * attempts to auto-expand/deref the given keys in the user supplied\n * context object (`ctx` option) prior to *each* tree normalization. All\n * of these values should implement the {@link @thi.ng/api#IDeref}\n * interface (e.g. atoms, cursors, views, rstreams etc.). This feature\n * can be used to define dynamic contexts linked to the main app state,\n * e.g. using derived views provided by {@link @thi.ng/atom# | @thi.ng/atom}.\n *\n * **Selective updates**: No updates will be applied if the given hiccup\n * tree is `undefined` or `null` or a root component function returns no\n * value. This way a given root function can do some state handling of\n * its own and implement fail-fast checks to determine no DOM updates\n * are necessary, save effort re-creating a new hiccup tree and request\n * skipping DOM updates via this function. In this case, the previous\n * DOM tree is kept around until the root function returns a tree again,\n * which then is diffed and applied against the previous tree kept as\n * usual. Any number of frames may be skipped this way.\n *\n * **Important:** Unless the `hydrate` option is enabled, the parent\n * element given is assumed to have NO children at the time when\n * `start()` is called. Since hdom does NOT track the real DOM, the\n * resulting changes will result in potentially undefined behavior if\n * the parent element wasn't empty. Likewise, if `hydrate` is enabled,\n * it is assumed that an equivalent DOM (minus listeners) already exists\n * (i.e. generated via SSR) when `start()` is called. Any other\n * discrepancies between the pre-existing DOM and the hdom trees will\n * cause undefined behavior.\n *\n * Returns a function, which when called, immediately cancels the update\n * loop.\n *\n * @param tree - hiccup DOM tree\n * @param opts - options\n * @param impl - hdom target implementation\n */\nconst start = (tree, opts = {}, impl = DEFAULT_IMPL) => {\n    const _opts = Object.assign({ root: \"app\" }, opts);\n    let prev = [];\n    let isActive = true;\n    const root = resolveRoot(_opts.root, impl);\n    const update = () => {\n        if (isActive) {\n            _opts.ctx = derefContext(opts.ctx, _opts.autoDerefKeys);\n            const curr = impl.normalizeTree(_opts, tree);\n            if (curr != null) {\n                if (_opts.hydrate) {\n                    impl.hydrateTree(_opts, root, curr);\n                    _opts.hydrate = false;\n                }\n                else {\n                    impl.diffTree(_opts, root, prev, curr);\n                }\n                prev = curr;\n            }\n            // check again in case one of the components called cancel\n            isActive && requestAnimationFrame(update);\n        }\n    };\n    requestAnimationFrame(update);\n    return () => (isActive = false);\n};\n\nexport { start };\n", "/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\n\n/**\n * Class behavior mixin based on:\n * {@link http://raganwald.com/2015/06/26/decorators-in-es7.html}\n *\n * Additionally only injects/overwrites properties in target, which are\n * NOT marked with `@nomixin` (i.e. haven't set their `configurable`\n * property descriptor flag to `false`)\n *\n * @param behaviour - to mixin\n * @param sharedBehaviour -\n * @returns decorator function\n */\nconst mixin = (behaviour, sharedBehaviour = {}) => {\n    const instanceKeys = Reflect.ownKeys(behaviour);\n    const sharedKeys = Reflect.ownKeys(sharedBehaviour);\n    const typeTag = Symbol(\"isa\");\n    function _mixin(clazz) {\n        for (let key of instanceKeys) {\n            const existing = Object.getOwnPropertyDescriptor(clazz.prototype, key);\n            if (!existing || existing.configurable) {\n                Object.defineProperty(clazz.prototype, key, {\n                    value: behaviour[key],\n                    writable: true,\n                });\n            }\n            else {\n                console.log(`not patching: ${clazz.name}.${key.toString()}`);\n            }\n        }\n        Object.defineProperty(clazz.prototype, typeTag, { value: true });\n        return clazz;\n    }\n    for (let key of sharedKeys) {\n        Object.defineProperty(_mixin, key, {\n            value: sharedBehaviour[key],\n            enumerable: sharedBehaviour.propertyIsEnumerable(key),\n        });\n    }\n    Object.defineProperty(_mixin, Symbol.hasInstance, {\n        value: (x) => !!x[typeTag],\n    });\n    return _mixin;\n};\n\nexport { __decorate as _, mixin as m };\n", "const defError = (prefix, suffix = (msg) => (msg !== undefined ? \": \" + msg : \"\")) => class extends Error {\n    constructor(msg) {\n        super(prefix(msg) + suffix(msg));\n    }\n};\n\nexport { defError as d };\n", "import { m as mixin, _ as __decorate } from './mixin-ad130ceb.js';\nimport { d as defError } from './deferror-480a42fb.js';\nimport { i as isArray } from './is-array-a7fa88fb.js';\nimport { i as isString } from './is-string-40d6c094.js';\n\nconst IWatchMixin = mixin({\n    addWatch(id, fn) {\n        this._watches = this._watches || {};\n        if (this._watches[id]) {\n            return false;\n        }\n        this._watches[id] = fn;\n        return true;\n    },\n    removeWatch(id) {\n        if (!this._watches)\n            return;\n        if (this._watches[id]) {\n            delete this._watches[id];\n            return true;\n        }\n        return false;\n    },\n    notifyWatches(oldState, newState) {\n        if (!this._watches)\n            return;\n        const w = this._watches;\n        for (let id in w) {\n            w[id](id, oldState, newState);\n        }\n    },\n});\n\nconst IllegalStateError = defError(() => \"illegal state\");\nconst illegalState = (msg) => {\n    throw new IllegalStateError(msg);\n};\n\nconst isTypedArray = (x) => x &&\n    (x instanceof Float32Array ||\n        x instanceof Float64Array ||\n        x instanceof Uint32Array ||\n        x instanceof Int32Array ||\n        x instanceof Uint8Array ||\n        x instanceof Int8Array ||\n        x instanceof Uint16Array ||\n        x instanceof Int16Array ||\n        x instanceof Uint8ClampedArray);\n\n/**\n * Converts the given key path to canonical form (array).\n *\n * ```\n * toPath(\"a.b.c\");\n * // [\"a\", \"b\", \"c\"]\n *\n * toPath(0)\n * // [0]\n *\n * toPath([\"a\", \"b\", \"c\"])\n * // [\"a\", \"b\", \"c\"]\n * ```\n *\n * @param path -\n */\nconst toPath = (path) => isArray(path)\n    ? path\n    : isString(path)\n        ? path.length > 0\n            ? path.split(\".\")\n            : []\n        : path != null\n            ? [path]\n            : [];\n\n/**\n * Unchecked version of {@link defGetter}.\n *\n * @remarks\n * The type parameter `T` can be used to indicate the type of the nested\n * value to be retrieved (default: `any`).\n *\n * Also see: {@link getIn}, {@link getInUnsafe}\n *\n * @example\n * ```ts\n * const g = defGetterUnsafe(\"a.b.c\");\n *\n * g({ a: { b: { c: 23} } }) // 23\n * g({ x: 23 }) // undefined\n * g() // undefined\n * ```\n *\n * @param path -\n */\nconst defGetterUnsafe = (path) => defGetter(path);\nfunction defGetter(path) {\n    const ks = toPath(path);\n    const [a, b, c, d] = ks;\n    switch (ks.length) {\n        case 0:\n            return (s) => s;\n        case 1:\n            return (s) => (s != null ? s[a] : undefined);\n        case 2:\n            return (s) => s != null ? ((s = s[a]) != null ? s[b] : undefined) : undefined;\n        case 3:\n            return (s) => s != null\n                ? (s = s[a]) != null\n                    ? (s = s[b]) != null\n                        ? s[c]\n                        : undefined\n                    : undefined\n                : undefined;\n        case 4:\n            return (s) => s != null\n                ? (s = s[a]) != null\n                    ? (s = s[b]) != null\n                        ? (s = s[c]) != null\n                            ? s[d]\n                            : undefined\n                        : undefined\n                    : undefined\n                : undefined;\n        default:\n            return (s) => {\n                const n = ks.length - 1;\n                let res = s;\n                for (let i = 0; res != null && i <= n; i++) {\n                    res = res[ks[i]];\n                }\n                return res;\n            };\n    }\n}\n\n/**\n * Composes a setter function for given nested update path. Optimized\n * fast execution paths are provided for path lengths less up to 4.\n *\n * @remarks\n * Supports both arrays and objects and creates intermediate shallow\n * copies at each level of the path. Thus provides structural sharing\n * with the original data for any branches not being updated by the\n * setter.\n *\n * The type parameter `T` can be used to indicate the type of the nested\n * value to be updated (default: `any`).\n *\n * If `path` is given as string, it will be split using `.`. Returns\n * function which accepts single object and when called, **immutably**\n * updates value at given path, i.e. produces a partial deep copy of obj\n * up until given path.\n *\n * If any intermediate key is not present in the given obj, creates a\n * plain empty object for that key and descends further.\n *\n * If `path` is an empty string or array, the returned setter will\n * simply return the new value.\n *\n * Only keys in the path will be modified, all other keys present in the\n * given object retain their original values to provide efficient\n * structural sharing / re-use.\n *\n * @example\n * ```ts\n * s = defSetterUnsafe(\"a.b.c\");\n * // or\n * s = defSetterUnsafe([\"a\", \"b\", \"c\"]);\n *\n * s({ a: { b: { c: 23} } }, 24)\n * // { a: { b: { c: 24} } }\n *\n * s({ x: 23 }, 24)\n * // { x: 23, a: { b: { c: 24 } } }\n *\n * s(null, 24)\n * // { a: { b: { c: 24 } } }\n * ```\n *\n * @example\n * ```ts\n * s = defSetterUnsafe(\"a.b.c\");\n *\n * a = { x: { y: { z: 1 } } };\n * b = s(a, 2);\n * // { x: { y: { z: 1 } }, a: { b: { c: 2 } } }\n *\n * a.x === b.x // true\n * a.x.y === b.x.y // true\n * ```\n *\n * @param path -\n */\nconst defSetterUnsafe = (path) => defSetter(path);\nfunction defSetter(path) {\n    const ks = toPath(path);\n    const [a, b, c, d] = ks;\n    switch (ks.length) {\n        case 0:\n            return (_, v) => v;\n        case 1:\n            return (s, v) => ((s = copy(s)), (s[a] = v), s);\n        case 2:\n            return (s, v) => {\n                let x;\n                s = copy(s);\n                s[a] = x = copy(s[a]);\n                x[b] = v;\n                return s;\n            };\n        case 3:\n            return (s, v) => {\n                let x, y;\n                s = copy(s);\n                s[a] = x = copy(s[a]);\n                x[b] = y = copy(x[b]);\n                y[c] = v;\n                return s;\n            };\n        case 4:\n            return (s, v) => {\n                let x, y, z;\n                s = copy(s);\n                s[a] = x = copy(s[a]);\n                x[b] = y = copy(x[b]);\n                y[c] = z = copy(y[c]);\n                z[d] = v;\n                return s;\n            };\n        default:\n            let f;\n            for (let i = ks.length; --i >= 0;) {\n                f = compS(ks[i], f);\n            }\n            return f;\n    }\n}\n/**\n * Creates a shallow copy of given array, typed array or plain object.\n *\n * @param x\n */\nconst copy = (x) => isArray(x) || isTypedArray(x) ? x.slice() : Object.assign({}, x);\n/**\n * Helper for {@link defSetter}. Returns setter for a single step.\n *\n * @param k -\n * @param f -\n *\n * @internal\n */\nconst compS = (k, f) => (s, v) => ((s = copy(s)), (s[k] = f ? f(s[k], v) : v), s);\n\n/**\n * Similar to {@link setInUnsafe}, but applies given function to current\n * path value (incl. any additional/optional arguments passed to\n * `updateIn`) and uses result as new value. Does not modify original\n * state.\n *\n * @remarks\n * Unchecked version of {@link updateIn}. The type parameter `T` can be\n * used to indicate the type of the nested value to be updated (default:\n * `any`).\n *\n * @example\n * ```ts\n * add = (x: number, y: number) => x + y;\n * updateInUnsafe({ a: { b: { c: 23 } } }, \"a.b.c\", add, 10);\n * // { a: { b: { c: 33 } } }\n *\n * // type checked\n * updateIn({ a: { b: { c: 23 } } }, [\"a\",\"b\",\"c\"], add, 10);\n * // { a: { b: { c: 33 } } }\n *\n * // type error (value at \"a.b\" is not a number)\n * updateIn({ a: { b: { c: 23 } } }, [\"a\",\"b\"], add, 10);\n * ```\n *\n * @param state - state to update\n * @param path - update path\n * @param fn - update function\n * @param args - optional args for `fn`\n */\nconst updateInUnsafe = (state, path, fn, ...args) => \n// @ts-ignore\nupdateIn(state, path, fn, ...args);\nfunction updateIn(state, path, fn, ...args) {\n    return defSetter(path)(state, \n    // @ts-ignore\n    fn.apply(null, (args.unshift(defGetter(path)(state)), args)));\n}\n\n/**\n * Unchecked version of {@link setIn}.\n *\n * @remarks\n * The type parameter `T` can be used to indicate the type of the nested\n * value to be set (default: `any`).\n *\n * @example\n * ```ts\n * setInUnsafe({}, \"a.b.c\", 23);\n * // { a: { b: { c: 23} } }\n * ```\n *\n * @param state -\n * @param path -\n */\nconst setInUnsafe = (state, path, val) => defSetter(path)(state, val);\n\n/**\n * Mutable wrapper for an (usually) immutable value. Support for\n * watches.\n */\nlet Atom = class Atom {\n    constructor(val, valid) {\n        if (valid && !valid(val)) {\n            illegalState(\"initial state value did not validate\");\n        }\n        this._value = val;\n        this.valid = valid;\n    }\n    get value() {\n        return this._value;\n    }\n    set value(val) {\n        this.reset(val);\n    }\n    deref() {\n        return this._value;\n    }\n    equiv(o) {\n        return this === o;\n    }\n    reset(val) {\n        const old = this._value;\n        if (this.valid && !this.valid(val)) {\n            return old;\n        }\n        this._value = val;\n        this.notifyWatches(old, val);\n        return val;\n    }\n    resetIn(path, val) {\n        return this.reset(setInUnsafe(this._value, path, val));\n    }\n    resetInUnsafe(path, val) {\n        return this.reset(setInUnsafe(this._value, path, val));\n    }\n    swap(fn, ...args) {\n        return this.reset(fn.apply(null, [this._value, ...args]));\n    }\n    swapIn(path, fn, ...args) {\n        return this.reset(updateInUnsafe(this._value, path, fn, ...args));\n    }\n    swapInUnsafe(path, fn, ...args) {\n        return this.reset(updateInUnsafe(this._value, path, fn, ...args));\n    }\n    // @ts-ignore: mixin\n    addWatch(id, fn) { }\n    // @ts-ignore: mixin\n    removeWatch(id) { }\n    // @ts-ignore: mixin\n    notifyWatches(old, prev) { }\n    release() {\n        delete this._watches;\n        delete this._value;\n        return true;\n    }\n};\nAtom = __decorate([\n    IWatchMixin\n], Atom);\n\nexport { Atom as A, defSetterUnsafe as a, defGetterUnsafe as d, setInUnsafe as s, toPath as t, updateInUnsafe as u };\n", "const OBJP = Object.getPrototypeOf({});\nconst FN = \"function\";\nconst STR = \"string\";\nconst equiv = (a, b) => {\n    let proto;\n    if (a === b) {\n        return true;\n    }\n    if (a != null) {\n        if (typeof a.equiv === FN) {\n            return a.equiv(b);\n        }\n    }\n    else {\n        return a == b;\n    }\n    if (b != null) {\n        if (typeof b.equiv === FN) {\n            return b.equiv(a);\n        }\n    }\n    else {\n        return a == b;\n    }\n    if (typeof a === STR || typeof b === STR) {\n        return false;\n    }\n    if (((proto = Object.getPrototypeOf(a)), proto == null || proto === OBJP) &&\n        ((proto = Object.getPrototypeOf(b)), proto == null || proto === OBJP)) {\n        return equivObject(a, b);\n    }\n    if (typeof a !== FN &&\n        a.length !== undefined &&\n        typeof b !== FN &&\n        b.length !== undefined) {\n        return equivArrayLike(a, b);\n    }\n    if (a instanceof Set && b instanceof Set) {\n        return equivSet(a, b);\n    }\n    if (a instanceof Map && b instanceof Map) {\n        return equivMap(a, b);\n    }\n    if (a instanceof Date && b instanceof Date) {\n        return a.getTime() === b.getTime();\n    }\n    if (a instanceof RegExp && b instanceof RegExp) {\n        return a.toString() === b.toString();\n    }\n    // NaN\n    return a !== a && b !== b;\n};\nconst equivArrayLike = (a, b, _equiv = equiv) => {\n    let l = a.length;\n    if (l === b.length) {\n        while (--l >= 0 && _equiv(a[l], b[l]))\n            ;\n    }\n    return l < 0;\n};\nconst equivSet = (a, b, _equiv = equiv) => a.size === b.size && _equiv([...a.keys()].sort(), [...b.keys()].sort());\nconst equivMap = (a, b, _equiv = equiv) => a.size === b.size && _equiv([...a].sort(), [...b].sort());\nconst equivObject = (a, b, _equiv = equiv) => {\n    if (Object.keys(a).length !== Object.keys(b).length) {\n        return false;\n    }\n    for (let k in a) {\n        if (!b.hasOwnProperty(k) || !_equiv(a[k], b[k])) {\n            return false;\n        }\n    }\n    return true;\n};\n\nexport { equiv as e };\n", "import { t as toPath, d as defGetterUnsafe } from '../common/atom-a18fc46f.js';\nexport { A as Atom } from '../common/atom-a18fc46f.js';\nimport { e as equiv } from '../common/index-83d31ab0.js';\nimport '../common/mixin-ad130ceb.js';\nimport '../common/deferror-480a42fb.js';\nimport '../common/is-array-a7fa88fb.js';\nimport '../common/is-string-40d6c094.js';\n\nlet NEXT_ID = 0;\nconst nextID = () => NEXT_ID++;\n\nfunction defViewUnsafe(parent, path, tx, lazy, equiv) {\n    return new View(parent, path, tx, lazy, equiv);\n}\n/**\n * This class implements readonly access to a deeply nested value with\n * in an Atom/Cursor. An optional transformer function can be supplied\n * at creation time to produce a derived/materialized view of the actual\n * value held in the atom.\n *\n * @remarks\n * Views can be created directly or via the {@link IViewable.addView}\n * method of the parent state. Views can be\n * {@link @thi.ng/api#IDeref.deref}'d like atoms and polled for value\n * changes using {@link IView.changed}. The transformer is only applied\n * once per value change and its result cached until the next change.\n *\n * If the optional `lazy` is true (default), the transformer will only\n * be executed with the first {@link @thi.ng/api#IDeref.deref} after\n * each value change. If `lazy` is false, the transformer function will\n * be executed immediately after a value change occurred and so can be\n * used like a watch which only triggers if there was an actual value\n * change (in contrast to normal watches, which execute with each\n * update, regardless of value change).\n *\n * Related, the actual value change predicate can be customized. If not\n * given, the default {@link @thi.ng/equiv#equiv} will be used.\n *\n * @example\n * ```ts\n * a = defAtom({ a: { b: 1 } });\n * v = defView(a, [\"a\", \"b\"], (x) => x * 10);\n *\n * v.deref()\n * // 10\n *\n * // update atom state\n * a.resetIn([\"a\", \"b\"], 2);\n * // { a: { b: 2 } }\n *\n * v.changed()\n * // true\n * v.deref()\n * // 20\n *\n * // remove view from parent state\n * v.release()\n * ```\n */\nclass View {\n    constructor(parent, path, tx, lazy = true, equiv$1 = equiv) {\n        this.parent = parent;\n        this.id = `view-${nextID()}`;\n        this.tx = tx || ((x) => x);\n        this.path = toPath(path);\n        this.isDirty = true;\n        this.isLazy = lazy;\n        const lookup = defGetterUnsafe(this.path);\n        const state = this.parent.deref();\n        this.unprocessed = state ? lookup(state) : undefined;\n        if (!lazy) {\n            this.state = this.tx(this.unprocessed);\n            this.unprocessed = undefined;\n        }\n        parent.addWatch(this.id, (_, prev, curr) => {\n            const pval = prev ? lookup(prev) : prev;\n            const val = curr ? lookup(curr) : curr;\n            if (!equiv$1(val, pval)) {\n                if (lazy) {\n                    this.unprocessed = val;\n                }\n                else {\n                    this.state = this.tx(val);\n                }\n                this.isDirty = true;\n            }\n        });\n    }\n    get value() {\n        return this.deref();\n    }\n    /**\n     * Returns view's value. If the view has a transformer, the\n     * transformed value is returned. The transformer is only run once\n     * per value change.\n     *\n     * @remarks\n     * See class comments about difference between lazy/eager behaviors.\n     */\n    deref() {\n        if (this.isDirty) {\n            if (this.isLazy) {\n                this.state = this.tx(this.unprocessed);\n                this.unprocessed = undefined;\n            }\n            this.isDirty = false;\n        }\n        return this.state;\n    }\n    /**\n     * Returns true, if the view's value has changed since last\n     * {@link @thi.ng/api#IDeref.deref}.\n     */\n    changed() {\n        return this.isDirty;\n    }\n    /**\n     * Like {@link @thi.ng/api#IDeref.deref}, but doesn't update view's\n     * cached state and dirty flag if value has changed.\n     *\n     * @remarks\n     * If there's an unprocessed value change, returns result of this\n     * sub's transformer or else the cached value.\n     *\n     * **Important:** Use this function only if the view has none or or\n     * a stateless transformer. Else might cause undefined/inconsistent\n     * behavior when calling `view` or {@link @thi.ng/api#IDeref.deref}\n     * subsequently.\n     */\n    view() {\n        return this.isDirty && this.isLazy\n            ? this.tx(this.unprocessed)\n            : this.state;\n    }\n    /**\n     * Disconnects this view from parent state, marks itself\n     * dirty/changed and sets its unprocessed raw value to `undefined`.\n     */\n    release() {\n        this.unprocessed = undefined;\n        if (!this.isLazy) {\n            this.state = this.tx(undefined);\n        }\n        this.isDirty = true;\n        return this.parent.removeWatch(this.id);\n    }\n}\n\nexport { defViewUnsafe };\n", "import { d as defError } from './deferror-480a42fb.js';\n\nconst IllegalArgumentError = defError(() => \"illegal argument(s)\");\nconst illegalArgs = (msg) => {\n    throw new IllegalArgumentError(msg);\n};\n\nexport { illegalArgs as i };\n", "import { A as Atom, s as setInUnsafe, u as updateInUnsafe, a as defSetterUnsafe } from '../common/atom-a18fc46f.js';\nimport { i as implementsFunction } from '../common/implements-function-c507affc.js';\nimport { i as illegalArgs } from '../common/illegal-arguments-f9331715.js';\nimport { i as isArray } from '../common/is-array-a7fa88fb.js';\nimport { i as isFunction } from '../common/is-function-b13d3e65.js';\nimport '../common/mixin-ad130ceb.js';\nimport '../common/deferror-480a42fb.js';\nimport '../common/is-string-40d6c094.js';\n\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"FINE\"] = 0] = \"FINE\";\n    LogLevel[LogLevel[\"DEBUG\"] = 1] = \"DEBUG\";\n    LogLevel[LogLevel[\"INFO\"] = 2] = \"INFO\";\n    LogLevel[LogLevel[\"WARN\"] = 3] = \"WARN\";\n    LogLevel[LogLevel[\"SEVERE\"] = 4] = \"SEVERE\";\n    LogLevel[LogLevel[\"NONE\"] = 5] = \"NONE\";\n})(LogLevel || (LogLevel = {}));\n\nconst NULL_LOGGER = Object.freeze({\n    level: LogLevel.NONE,\n    fine() { },\n    debug() { },\n    info() { },\n    warn() { },\n    severe() { },\n});\n\nconst isPromise = (x) => x instanceof Promise;\n\n// Built-in event ID constants\nconst EV_SET_VALUE = \"--set-value\";\nconst EV_UPDATE_VALUE = \"--update-value\";\nconst EV_TOGGLE_VALUE = \"--toggle-value\";\n// Built-in side effect ID constants\nconst FX_CANCEL = \"--cancel\";\nconst FX_DISPATCH = \"--dispatch\";\nconst FX_DISPATCH_ASYNC = \"--dispatch-async\";\nconst FX_DISPATCH_NOW = \"--dispatch-now\";\nconst FX_DELAY = \"--delay\";\nconst FX_FETCH = \"--fetch\";\nconst FX_STATE = \"--state\";\n/**\n * Event ID to trigger redo action.\n * See `EventBus.addBuiltIns()` for further details.\n * Also see {@link snapshot} interceptor docs.\n */\nconst EV_REDO = \"--redo\";\n/**\n * Event ID to trigger undo action.\n * See `EventBus.addBuiltIns()` for further details.\n * Also see {@link snapshot} interceptor docs.\n */\nconst EV_UNDO = \"--undo\";\nlet LOGGER = NULL_LOGGER;\n\n/**\n * Batched event processor for using composable interceptors for event\n * handling and side effects to execute the result of handled events.\n *\n * @remarks\n * Events processed by this class are simple 2-element tuples/arrays of\n * this form: `[\"event-id\", payload?]`, where the `payload` is optional\n * and can be of any type.\n *\n * Events are processed by registered handlers which transform each\n * event into a number of side effect descriptions to be executed later.\n * This separation ensures event handlers themselves are pure functions\n * and leads to more efficient reuse of side effecting operations. The\n * pure data nature until the last stage of processing (the application\n * side effects) too means that event flow can be much easier inspected\n * and debugged.\n *\n * In this model a single event handler itself is an array of objects\n * with `pre` and/or `post` keys and functions attached to each key.\n * These functions are called interceptors, since each intercepts the\n * processing of an event and can contribute their own side effects.\n * Each event's interceptor chain is processed bi-directionally (`pre`\n * in forward, `post` in reverse order) and the effects returned from\n * each interceptor are merged/collected. The outcome of this setup is a\n * more aspect-oriented, composable approach to event handling and\n * allows to inject common, re-usable behaviors for multiple event types\n * (logging, validation, undo/redo triggers etc.).\n *\n * Side effects are only processed after all event handlers have run.\n * Furthermore, their order of execution can be configured with optional\n * priorities.\n *\n * See for further details:\n *\n * - {@link StatelessEventBus.processQueue}\n * - {@link StatelessEventBus.processEvent}\n * - {@link StatelessEventBus.processEffects}\n * - {@link StatelessEventBus.mergeEffects}\n *\n * The overall approach of this type of event processing is heavily\n * based on the pattern initially pioneered by @Day8/re-frame, with the\n * following differences:\n *\n * - stateless (see {@link EventBus} for the more common stateful\n *   alternative)\n * - standalone implementation (no assumptions about surrounding\n *   context/framework)\n * - manual control over event queue processing\n * - supports event cancellation (via FX_CANCEL side effect)\n * - side effect collection (multiple side effects for same effect type\n *   per frame)\n * - side effect priorities (to control execution order)\n * - dynamic addition/removal of handlers & effects\n */\nclass StatelessEventBus {\n    /**\n     * Creates a new event bus instance with given handler and effect\n     * definitions (all optional).\n     *\n     * @remarks\n     * In addition to the user provided handlers & effects, a number of\n     * built-ins are added automatically. See\n     * {@link StatelessEventBus.addBuiltIns}. User handlers can override\n     * built-ins.\n     *\n     * @param handlers -\n     * @param effects -\n     */\n    constructor(handlers, effects) {\n        this.handlers = {};\n        this.effects = {};\n        this.eventQueue = [];\n        this.priorities = [];\n        this.addBuiltIns();\n        if (handlers) {\n            this.addHandlers(handlers);\n        }\n        if (effects) {\n            this.addEffects(effects);\n        }\n    }\n    /**\n     * Adds built-in event & side effect handlers.\n     *\n     * @remarks\n     * Also see additional built-ins defined by the stateful\n     * {@link EventBus} extension of this class, as well as comments for\n     * these class methods:\n     *\n     * - {@link StatelessEventBus.mergeEffects}\n     * - {@link StatelessEventBus.processEvent}\n     *\n     * ### Handlers\n     *\n     * currently none...\n     *\n     * ### Side effects\n     *\n     * #### `FX_CANCEL`\n     *\n     * If assigned `true`, cancels processing of current event, though\n     * still applies any side effects already accumulated.\n     *\n     * #### `FX_DISPATCH`\n     *\n     * Dispatches assigned events to be processed in next frame.\n     *\n     * #### `FX_DISPATCH_ASYNC`\n     *\n     * Async wrapper for promise based side effects.\n     *\n     * #### `FX_DISPATCH_NOW`\n     *\n     * Dispatches assigned events as part of currently processed event\n     * queue (no delay).\n     *\n     * #### `FX_DELAY`\n     *\n     * Async side effect. Only to be used in conjunction with\n     * `FX_DISPATCH_ASYNC`. Triggers given event after `x` milliseconds.\n     *\n     * ```\n     * // this triggers `[EV_SUCCESS, \"ok\"]` event after 1000 ms\n     * { [FX_DISPATCH_ASYNC]: [FX_DELAY, [1000, \"ok\"], EV_SUCCESS, EV_ERROR] }\n     * ```\n     *\n     * #### `FX_FETCH`\n     *\n     * Async side effect. Only to be used in conjunction with\n     * `FX_DISPATCH_ASYNC`. Performs `fetch()` HTTP request and triggers\n     * success with received response, or if there was an error with\n     * response's `statusText`. The error event is only triggered if the\n     * fetched response's `ok` field is non-truthy.\n     *\n     * - {@link https://developer.mozilla.org/en-US/docs/Web/API/Response/ok}\n     * - {@link https://developer.mozilla.org/en-US/docs/Web/API/Response/statusText}\n     *\n     * ```\n     * // fetches \"foo.json\" and then dispatches EV_SUCCESS or EV_ERROR event\n     * { [FX_DISPATCH_ASYNC]: [FX_FETCH, \"foo.json\", EV_SUCCESS, EV_ERROR] }\n     * ```\n     */\n    addBuiltIns() {\n        this.addEffects({\n            [FX_DISPATCH]: [(e) => this.dispatch(e), -999],\n            [FX_DISPATCH_ASYNC]: [\n                ([id, arg, success, err], bus, ctx) => {\n                    const fx = this.effects[id];\n                    if (fx) {\n                        const p = fx(arg, bus, ctx);\n                        if (isPromise(p)) {\n                            p.then((res) => this.dispatch([success, res])).catch((e) => this.dispatch([err, e]));\n                        }\n                        else {\n                            LOGGER.warn(\"async effect did not return Promise\");\n                        }\n                    }\n                    else {\n                        LOGGER.warn(`skipping invalid async effect: ${id}`);\n                    }\n                },\n                -999,\n            ],\n            [FX_DELAY]: [\n                ([x, body]) => new Promise((res) => setTimeout(() => res(body), x)),\n                1000,\n            ],\n            [FX_FETCH]: [\n                (req) => fetch(req).then((resp) => {\n                    if (!resp.ok) {\n                        throw new Error(resp.statusText);\n                    }\n                    return resp;\n                }),\n                1000,\n            ],\n        });\n    }\n    addHandler(id, spec) {\n        const iceps = this.interceptorsFromSpec(spec);\n        if (iceps.length > 0) {\n            if (this.handlers[id]) {\n                this.removeHandler(id);\n                LOGGER.warn(`overriding handler for ID: ${id}`);\n            }\n            this.handlers[id] = iceps;\n        }\n        else {\n            illegalArgs(`no handlers in spec for ID: ${id}`);\n        }\n    }\n    addHandlers(specs) {\n        for (let id in specs) {\n            this.addHandler(id, specs[id]);\n        }\n    }\n    addEffect(id, fx, priority = 1) {\n        if (this.effects[id]) {\n            this.removeEffect(id);\n            LOGGER.warn(`overriding effect for ID: ${id}`);\n        }\n        this.effects[id] = fx;\n        const p = [id, priority];\n        const priors = this.priorities;\n        for (let i = 0; i < priors.length; i++) {\n            if (p[1] < priors[i][1]) {\n                priors.splice(i, 0, p);\n                return;\n            }\n        }\n        priors.push(p);\n    }\n    addEffects(specs) {\n        for (let id in specs) {\n            const fx = specs[id];\n            if (isArray(fx)) {\n                this.addEffect(id, fx[0], fx[1]);\n            }\n            else {\n                this.addEffect(id, fx);\n            }\n        }\n    }\n    /**\n     * Prepends given interceptors (or interceptor functions) to\n     * selected handlers. If no handler IDs are given, applies\n     * instrumentation to all currently registered handlers.\n     *\n     * @param inject -\n     * @param ids -\n     */\n    instrumentWith(inject, ids) {\n        const iceps = inject.map(asInterceptor);\n        const handlers = this.handlers;\n        for (let id of ids || Object.keys(handlers)) {\n            const h = handlers[id];\n            if (h) {\n                handlers[id] = iceps.concat(h);\n            }\n        }\n    }\n    removeHandler(id) {\n        delete this.handlers[id];\n    }\n    removeHandlers(ids) {\n        for (let id of ids) {\n            this.removeHandler(id);\n        }\n    }\n    removeEffect(id) {\n        delete this.effects[id];\n        const p = this.priorities;\n        for (let i = p.length - 1; i >= 0; i--) {\n            if (id === p[i][0]) {\n                p.splice(i, 1);\n                return;\n            }\n        }\n    }\n    removeEffects(ids) {\n        for (let id of ids) {\n            this.removeEffect(id);\n        }\n    }\n    /**\n     * If called during event processing, returns current side effect\n     * accumulator / interceptor context. Otherwise returns nothing.\n     */\n    context() {\n        return this.currCtx;\n    }\n    /**\n     * Adds given events to event queue to be processed by\n     * {@link StatelessEventBus.processQueue} later on.\n     *\n     * @remarks\n     * It's the user's responsibility to call that latter function\n     * repeatedly in a timely manner, preferably via\n     * `requestAnimationFrame()` or similar.\n     *\n     * @param e -\n     */\n    dispatch(...e) {\n        this.eventQueue.push(...e);\n    }\n    /**\n     * Adds given events to whatever is the current event queue. If\n     * triggered via the `FX_DISPATCH_NOW` side effect from an event\n     * handler / interceptor, the event will still be executed in the\n     * currently active batch / frame. If called from elsewhere, the\n     * result is the same as calling {@link dispatch}.\n     *\n     * @param e -\n     */\n    dispatchNow(...e) {\n        (this.currQueue || this.eventQueue).push(...e);\n    }\n    /**\n     * Dispatches given event after `delay` milliseconds (by default\n     * 17).\n     *\n     * @remarks\n     * Since events are only processed by calling\n     * {@link StatelessEventBus.processQueue}, it's the user's\n     * responsibility to call that latter function repeatedly in a\n     * timely manner, preferably via `requestAnimationFrame()` or\n     * similar.\n     *\n     * @param e -\n     * @param delay -\n     */\n    dispatchLater(e, delay = 17) {\n        setTimeout(() => this.dispatch(e), delay);\n    }\n    /**\n     * Triggers processing of current event queue and returns `true` if\n     * any events have been processed.\n     *\n     * @remarks\n     * If an event handler triggers the `FX_DISPATCH_NOW` side effect,\n     * the new event will be added to the currently processed batch and\n     * therefore executed in the same frame. Also see {@link dispatchNow}.\n     *\n     * An optional `ctx` (context) object can be provided, which is used\n     * to collect any side effect definitions during processing. This\n     * can be useful for debugging, inspection or post-processing\n     * purposes.\n     *\n     * @param ctx -\n     */\n    processQueue(ctx) {\n        if (this.eventQueue.length > 0) {\n            this.currQueue = [...this.eventQueue];\n            this.eventQueue.length = 0;\n            ctx = this.currCtx = ctx || {};\n            for (let e of this.currQueue) {\n                this.processEvent(ctx, e);\n            }\n            this.currQueue = this.currCtx = undefined;\n            this.processEffects(ctx);\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Processes a single event using its configured handler/interceptor\n     * chain. Logs warning message and skips processing if no handler is\n     * available for the event type.\n     *\n     * @remarks\n     * The array of interceptors is processed in bi-directional order.\n     * First any `pre` interceptors are processed in forward order. Then\n     * `post` interceptors are processed in reverse.\n     *\n     * Each interceptor can return a result object of side effects,\n     * which are being merged and collected for\n     * {@link StatelessEventBus.processEffects}.\n     *\n     * Any interceptor can trigger zero or more known side effects, each\n     * (side effect) will be collected in an array to support multiple\n     * invocations of the same effect type per frame. If no side effects\n     * are requested, an interceptor can return `undefined`.\n     *\n     * Processing of the current event stops immediately, if an\n     * interceptor sets the `FX_CANCEL` side effect key to `true`.\n     * However, the results of any previous interceptors (incl. the one\n     * which cancelled) are kept and processed further as usual.\n     *\n     * @param ctx -\n     * @param e -\n     */\n    processEvent(ctx, e) {\n        const iceps = this.handlers[e[0]];\n        if (!iceps) {\n            LOGGER.warn(`missing handler for event type: ${e[0].toString()}`);\n            return;\n        }\n        if (!this.processForward(ctx, iceps, e)) {\n            return;\n        }\n        this.processReverse(ctx, iceps, e);\n    }\n    processForward(ctx, iceps, e) {\n        let hasPost = false;\n        for (let i = 0, n = iceps.length; i < n && !ctx[FX_CANCEL]; i++) {\n            const icep = iceps[i];\n            if (icep.pre) {\n                this.mergeEffects(ctx, icep.pre(ctx[FX_STATE], e, this, ctx));\n            }\n            hasPost = hasPost || !!icep.post;\n        }\n        return hasPost;\n    }\n    processReverse(ctx, iceps, e) {\n        for (let i = iceps.length; --i >= 0 && !ctx[FX_CANCEL];) {\n            const icep = iceps[i];\n            if (icep.post) {\n                this.mergeEffects(ctx, icep.post(ctx[FX_STATE], e, this, ctx));\n            }\n        }\n    }\n    /**\n     * Takes a collection of side effects generated during event\n     * processing and applies them in order of configured priorities.\n     *\n     * @param ctx -\n     */\n    processEffects(ctx) {\n        const effects = this.effects;\n        for (let p of this.priorities) {\n            const id = p[0];\n            const val = ctx[id];\n            val !== undefined && this.processEffect(ctx, effects, id, val);\n        }\n    }\n    processEffect(ctx, effects, id, val) {\n        const fn = effects[id];\n        if (id !== FX_STATE) {\n            for (let v of val) {\n                fn(v, this, ctx);\n            }\n        }\n        else {\n            fn(val, this, ctx);\n        }\n    }\n    /**\n     * Merges the new side effects returned from an interceptor into the\n     * internal effect accumulator.\n     *\n     * @remarks\n     * Any events assigned to the `FX_DISPATCH_NOW` effect key are\n     * immediately added to the currently active event batch.\n     *\n     * If an interceptor wishes to cause multiple invocations of a\n     * single side effect type (e.g. dispatch multiple other events), it\n     * MUST return an array of these values. The only exceptions to this\n     * are the following effects, which for obvious reasons can only\n     * accept a single value.\n     *\n     * **Note:** the `FX_STATE` effect is not actually defined by this\n     * class here, but is supported to avoid code duplication in\n     * {@link EventBus}.\n     *\n     * - `FX_CANCEL`\n     * - `FX_STATE`\n     *\n     * Because of this support (multiple values), the value of a single\n     * side effect MUST NOT be a nested array itself, or rather its\n     * first item can't be an array.\n     *\n     * For example:\n     *\n     * ```\n     * // interceptor result map to dispatch a single event\n     * { [FX_DISPATCH]: [\"foo\", \"bar\"]}\n     *\n     * // result map format to dispatch multiple events\n     * { [FX_DISPATCH]: [ [\"foo\", \"bar\"], [\"baz\", \"beep\"] ]}\n     * ```\n     *\n     * Any `null` / `undefined` values directly assigned to a side\n     * effect are ignored and will not trigger the effect.\n     *\n     * @param fx -\n     * @param ret -\n     */\n    mergeEffects(ctx, ret) {\n        if (!ret) {\n            return;\n        }\n        for (let k in ret) {\n            const v = ret[k];\n            if (v == null) {\n                continue;\n            }\n            if (k === FX_STATE || k === FX_CANCEL) {\n                ctx[k] = v;\n            }\n            else if (k === FX_DISPATCH_NOW) {\n                if (isArray(v[0])) {\n                    for (let e of v) {\n                        e && this.dispatchNow(e);\n                    }\n                }\n                else {\n                    this.dispatchNow(v);\n                }\n            }\n            else {\n                ctx[k] || (ctx[k] = []);\n                if (isArray(v[0])) {\n                    for (let e of v) {\n                        e !== undefined && ctx[k].push(e);\n                    }\n                }\n                else {\n                    ctx[k].push(v);\n                }\n            }\n        }\n    }\n    interceptorsFromSpec(spec) {\n        return isArray(spec)\n            ? spec.map(asInterceptor)\n            : isFunction(spec)\n                ? [{ pre: spec }]\n                : [spec];\n    }\n}\n/**\n * Stateful version of {@link StatelessEventBus}.\n *\n * @remarks\n * Wraps an {@link @thi.ng/atom#IAtom} state container (i.e.\n * `Atom`/`Cursor`/`History`) and provides additional pre-defined event\n * handlers and side effects to manipulate wrapped state. Prefer this as\n * the default implementation for most use cases.\n */\nclass EventBus extends StatelessEventBus {\n    /**\n     * Creates a new event bus instance with given parent state, handler\n     * and effect definitions (all optional).\n     *\n     * @remarks\n     * If no state is given, automatically creates an\n     * {@link @thi.ng/atom#Atom} with empty state object.\n     *\n     * In addition to the user provided handlers & effects, a number of\n     * built-ins are added automatically. See\n     * {@link EventBus.addBuiltIns}. User handlers can override\n     * built-ins.\n     *\n     * @param state -\n     * @param handlers -\n     * @param effects -\n     */\n    constructor(state, handlers, effects) {\n        super(handlers, effects);\n        this.state = state || new Atom({});\n    }\n    /**\n     * Returns value of internal state. Shorthand for:\n     * `bus.state.deref()`\n     */\n    deref() {\n        return this.state.deref();\n    }\n    /**\n     * Adds same built-in event & side effect handlers as in\n     * `StatelessEventBus.addBuiltIns()` and the following additions:\n     *\n     * ### Handlers\n     *\n     * #### `EV_SET_VALUE`\n     *\n     * Resets state path to provided value. See\n     * {@link @thi.ng/paths#setIn}.\n     *\n     * Example event definition:\n     * ```\n     * [EV_SET_VALUE, [\"path.to.value\", val]]\n     * ```\n     *\n     * #### `EV_UPDATE_VALUE`\n     *\n     * Updates a state path's value with provided function and optional\n     * extra arguments. See {@link @thi.ng/paths#updateIn}.\n     *\n     * Example event definition:\n     * ```\n     * [EV_UPDATE_VALUE, [\"path.to.value\", (x, y) => x + y, 1]]\n     * ```\n     *\n     * #### `EV_TOGGLE_VALUE`\n     *\n     * Negates a boolean state value at given path.\n     *\n     * Example event definition:\n     * ```\n     * [EV_TOGGLE_VALUE, \"path.to.value\"]\n     * ```\n     *\n     * #### `EV_UNDO`\n     *\n     * Calls `ctx[id].undo()` and uses return value as new state.\n     * Assumes `ctx[id]` is a {@link @thi.ng/atom#History} instance,\n     * provided via e.g. `processQueue({ history })`. The event can be\n     * triggered with or without ID. By default `\"history\"` is used as\n     * default key to lookup the `History` instance. Furthermore, an\n     * additional event can be triggered based on if a previous state\n     * has been restored or not (basically, if the undo was successful).\n     * This is useful for resetting/re-initializing stateful resources\n     * after a successful undo action or to notify the user that no more\n     * undo's are possible. The new event will be processed in the same\n     * frame and has access to the (possibly) restored state. The event\n     * structure for these options is shown below:\n     *\n     * ```\n     * // using default ID\n     * bus.dispatch([EV_UNDO]);\n     *\n     * // using custom history ID\n     * bus.dispatch([EV_UNDO, [\"custom\"]]);\n     *\n     * // using custom ID and dispatch another event after undo\n     * bus.dispatch([EV_UNDO, [\"custom\", [\"ev-undo-success\"], [\"ev-undo-fail\"]]]);\n     * ```\n     *\n     * #### `EV_REDO`\n     *\n     * Similar to `EV_UNDO`, but for redo actions.\n     *\n     * ### Side effects\n     *\n     * #### `FX_STATE`\n     *\n     * Resets state atom to provided value (only a single update per\n     * processing frame).\n     */\n    addBuiltIns() {\n        super.addBuiltIns();\n        // handlers\n        this.addHandlers({\n            [EV_SET_VALUE]: (state, [_, [path, val]]) => ({\n                [FX_STATE]: setInUnsafe(state, path, val),\n            }),\n            [EV_UPDATE_VALUE]: (state, [_, [path, fn, ...args]]) => ({\n                [FX_STATE]: updateInUnsafe(state, path, fn, ...args),\n            }),\n            [EV_TOGGLE_VALUE]: (state, [_, path]) => ({\n                [FX_STATE]: updateInUnsafe(state, path, (x) => !x),\n            }),\n            [EV_UNDO]: undoHandler(\"undo\"),\n            [EV_REDO]: undoHandler(\"redo\"),\n        });\n        // effects\n        this.addEffects({\n            [FX_STATE]: [(state) => this.state.reset(state), -1000],\n        });\n    }\n    /**\n     * Triggers processing of current event queue and returns `true` if\n     * the any of the processed events caused a state change.\n     *\n     * If an event handler triggers the `FX_DISPATCH_NOW` side effect,\n     * the new event will be added to the currently processed batch and\n     * therefore executed in the same frame. Also see {@link dispatchNow}.\n     *\n     * If the optional `ctx` arg is provided it will be merged into the\n     * {@link InterceptorContext} object passed to each interceptor. Since the\n     * merged object is also used to collect triggered side effects,\n     * care must be taken that there're no key name clashes.\n     *\n     * In order to use the built-in `EV_UNDO`, `EV_REDO` events, users\n     * MUST provide a {@link @thi.ng/atom#History} (or compatible undo\n     * history instance) via the `ctx` arg, e.g.\n     *\n     * ```\n     * bus.processQueue({ history });\n     * ```\n     */\n    processQueue(ctx) {\n        if (this.eventQueue.length > 0) {\n            const prev = this.state.deref();\n            this.currQueue = [...this.eventQueue];\n            this.eventQueue.length = 0;\n            ctx = this.currCtx = Object.assign(Object.assign({}, ctx), { [FX_STATE]: prev });\n            for (let e of this.currQueue) {\n                this.processEvent(ctx, e);\n            }\n            this.currQueue = this.currCtx = undefined;\n            this.processEffects(ctx);\n            return this.state.deref() !== prev;\n        }\n        return false;\n    }\n}\nconst asInterceptor = (i) => isFunction(i) ? { pre: i } : i;\nconst undoHandler = (action) => (_, [__, ev], bus, ctx) => {\n    const id = ev ? ev[0] : \"history\";\n    if (implementsFunction(ctx[id], action)) {\n        const ok = ctx[id][action]();\n        return {\n            [FX_STATE]: bus.state.deref(),\n            [FX_DISPATCH_NOW]: ev\n                ? ok !== undefined\n                    ? ev[1]\n                    : ev[2]\n                : undefined,\n        };\n    }\n    else {\n        LOGGER.warn(\"no history in context\");\n    }\n};\n\n/**\n * Debug interceptor to log the current event to the console.\n */\nconst trace = (_, e) => console.log(\"event:\", e);\n/**\n * Higher-order interceptor. Returns interceptor which assigns given\n * event to `FX_DISPATCH_NOW` side effect.\n *\n * @param event -\n */\nconst dispatchNow = (event) => () => ({\n    [FX_DISPATCH_NOW]: event,\n});\n/**\n * Higher-order interceptor. Returns new interceptor to set state value\n * at provided path. This allows for dedicated events to set state\n * values more concisely, e.g. given this event definition:\n *\n * @example\n * ```ts\n * setFoo: valueSetter(\"foo.bar\")\n * ```\n *\n * ...the `setFoo` event then can be triggered like so to update the\n * state value at `foo.bar`:\n *\n * @example\n * ```ts\n * bus.dispatch([\"setFoo\", 23])\n * ```\n *\n * @param path -\n * @param tx -\n */\nconst valueSetter = (path, tx) => {\n    const $ = defSetterUnsafe(path);\n    return (state, [_, val]) => ({ [FX_STATE]: $(state, tx ? tx(val) : val) });\n};\n\nexport { EV_SET_VALUE, EV_TOGGLE_VALUE, EventBus, FX_DISPATCH_ASYNC, FX_FETCH, dispatchNow, trace, valueSetter };\n", "import { d as defError } from './deferror-480a42fb.js';\n\n/**\n * Internal use only. **Do NOT use in user land code!**\n *\n * @internal\n */\nconst SEMAPHORE = Symbol();\n/**\n * No-effect placeholder function.\n */\nconst NO_OP = () => { };\n/**\n * Catch-all event ID\n */\nconst EVENT_ALL = \"*\";\n\nconst IllegalArityError = defError(() => \"illegal arity\");\nconst illegalArity = (n) => {\n    throw new IllegalArityError(n);\n};\n\nexport { EVENT_ALL as E, NO_OP as N, SEMAPHORE as S, illegalArity as i };\n", "import { e as equiv } from '../common/index-83d31ab0.js';\nimport { m as mixin, _ as __decorate } from '../common/mixin-ad130ceb.js';\nimport { N as NO_OP, E as EVENT_ALL, i as illegalArity } from '../common/illegal-arity-019e6e09.js';\nimport { i as illegalArgs } from '../common/illegal-arguments-f9331715.js';\nimport { i as isString } from '../common/is-string-40d6c094.js';\nimport '../common/deferror-480a42fb.js';\n\nvar process = {};\n\n/**\n * Takes a `test` result or predicate function without args and throws\n * error with given `msg` if test failed (i.e. is falsy).\n *\n * @remarks\n * The function is only enabled if `\"production\" != \"production\"`\n * or if the `UMBRELLA_ASSERTS` env var is set to 1.\n */\nconst assert = (() => {\n    try {\n        return (\"production\" !== \"production\" ||\n            process.env.UMBRELLA_ASSERTS === \"1\");\n    }\n    catch (e) { }\n    return false;\n})()\n    ? (test, msg = \"assertion failed\") => {\n        if ((typeof test === \"function\" && !test()) || !test) {\n            throw new Error(typeof msg === \"function\" ? msg() : msg);\n        }\n    }\n    : NO_OP;\n\nconst inotify_dispatch = (listeners, e) => {\n    if (!listeners)\n        return;\n    for (let i = 0, n = listeners.length, l; i < n; i++) {\n        l = listeners[i];\n        l[0].call(l[1], e);\n        if (e.canceled) {\n            return;\n        }\n    }\n};\n/**\n * Mixin class decorator, injects INotify default implementation, incl.\n * a lazily instantiated `_listeners` property object, storing\n * registered listeners.\n */\nconst INotifyMixin = mixin({\n    addListener(id, fn, scope) {\n        let l = (this._listeners = this._listeners || {})[id];\n        !l && (l = this._listeners[id] = []);\n        if (this.__listener(l, fn, scope) === -1) {\n            l.push([fn, scope]);\n            return true;\n        }\n        return false;\n    },\n    removeListener(id, fn, scope) {\n        let listeners;\n        if (!(listeners = this._listeners))\n            return false;\n        const l = listeners[id];\n        if (l) {\n            const idx = this.__listener(l, fn, scope);\n            if (idx !== -1) {\n                l.splice(idx, 1);\n                !l.length && delete listeners[id];\n                return true;\n            }\n        }\n        return false;\n    },\n    notify(e) {\n        let listeners;\n        if (!(listeners = this._listeners))\n            return false;\n        e.target === undefined && (e.target = this);\n        inotify_dispatch(listeners[e.id], e);\n        inotify_dispatch(listeners[EVENT_ALL], e);\n    },\n    __listener(listeners, f, scope) {\n        let i = listeners.length;\n        while (--i >= 0) {\n            const l = listeners[i];\n            if (l[0] === f && l[1] === scope) {\n                break;\n            }\n        }\n        return i;\n    },\n});\n\n/**\n * ID of success event being triggered by `router.match()`\n */\nconst EVENT_ROUTE_CHANGED = \"route-changed\";\n\nlet BasicRouter = class BasicRouter {\n    constructor(config) {\n        config.authenticator =\n            config.authenticator ||\n                ((route, _, params) => ({\n                    id: route.id,\n                    title: route.title,\n                    params,\n                }));\n        config.prefix = config.prefix === undefined ? \"/\" : config.prefix;\n        config.separator = config.separator || \"/\";\n        this.config = config;\n        assert(this.routeForID(this.config.defaultRouteID) !== undefined, `missing config for default route: '${this.config.defaultRouteID}'`);\n        if (config.initialRouteID) {\n            const route = this.routeForID(config.initialRouteID);\n            assert(route !== undefined, `missing config for initial route: ${this.config.initialRouteID}`);\n            assert(!isParametricRoute(route), \"initial route MUST not be parametric\");\n        }\n    }\n    /** {@inheritDoc @thi.ng/api#INotify.addListener} */\n    // @ts-ignore: arguments\n    addListener(id, fn, scope) { }\n    /** {@inheritDoc @thi.ng/api#INotify.removeListener} */\n    // @ts-ignore: arguments\n    removeListener(id, fn, scope) { }\n    /** {@inheritDoc @thi.ng/api#INotify.notify} */\n    // @ts-ignore: arguments\n    notify(event) { }\n    start() {\n        if (this.config.initialRouteID) {\n            const route = this.routeForID(this.config.initialRouteID);\n            this.current = { id: route.id, title: route.title, params: {} };\n            this.notify({ id: EVENT_ROUTE_CHANGED, value: this.current });\n        }\n    }\n    /**\n     * Main router function. Attempts to match given input string\n     * against all configured routes. If none matches, falls back\n     * to default route. Before returning, triggers event with\n     * return value as well.\n     *\n     * @param raw - route path to match\n     */\n    route(src) {\n        if (src.charAt(0) === \"#\") {\n            src = src.substr(1);\n        }\n        src = src.substr(this.config.prefix.length);\n        let match = this.matchRoutes(src);\n        if (!match) {\n            if (!this.handleRouteFailure()) {\n                return;\n            }\n            const route = this.routeForID(this.config.defaultRouteID);\n            match = { id: route.id, title: route.title, params: {} };\n        }\n        if (!equiv(match, this.current)) {\n            this.current = match;\n            this.notify({ id: EVENT_ROUTE_CHANGED, value: match });\n        }\n        return match;\n    }\n    format(...args) {\n        let [id, params, hash] = args;\n        let match;\n        switch (args.length) {\n            case 3:\n                match = { id, params };\n                break;\n            case 2:\n                if (isString(id)) {\n                    match = { id, params };\n                }\n                else {\n                    hash = params;\n                    match = id;\n                }\n                break;\n            case 1:\n                match = isString(id) ? { id } : id;\n                break;\n            default:\n                illegalArity(args.length);\n        }\n        const route = this.routeForID(match.id);\n        if (route) {\n            const params = match.params || {};\n            return ((hash ? \"#\" : \"\") +\n                this.config.prefix +\n                route.match\n                    .map((x) => x.charAt(0) === \"?\"\n                    ? (x = params[x.substr(1)]) != null\n                        ? x\n                        : \"NULL\"\n                    : x)\n                    .join(this.config.separator));\n        }\n        else {\n            illegalArgs(`invalid route ID: ${match.id}`);\n        }\n    }\n    routeForID(id) {\n        return this.config.routes.find((route) => route.id === id);\n    }\n    matchRoutes(src) {\n        const routes = this.config.routes;\n        const curr = src.split(this.config.separator);\n        for (let i = 0, n = routes.length; i < n; i++) {\n            const match = this.matchRoute(curr, routes[i]);\n            if (match) {\n                return match;\n            }\n        }\n    }\n    matchRoute(curr, route) {\n        const match = route.match, n = match.length;\n        if (curr.length === n) {\n            const params = {};\n            for (let i = 0; i < n; i++) {\n                const m = match[i];\n                if (m.charAt(0) === \"?\") {\n                    params[m.substr(1)] = curr[i];\n                }\n                else if (curr[i] !== m) {\n                    return;\n                }\n            }\n            if (route.validate &&\n                !this.validateRouteParams(params, route.validate)) {\n                return;\n            }\n            return route.auth\n                ? this.config.authenticator(route, curr, params)\n                : { id: route.id, title: route.title, params };\n        }\n    }\n    validateRouteParams(params, validators) {\n        for (let id in validators) {\n            if (params[id] !== undefined) {\n                const val = validators[id];\n                if (val.coerce) {\n                    params[id] = val.coerce(params[id]);\n                }\n                if (val.check && !val.check(params[id])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    handleRouteFailure() {\n        return true;\n    }\n};\nBasicRouter = __decorate([\n    INotifyMixin\n], BasicRouter);\nconst isParametricRoute = (route) => route.match.some((p) => p.charAt(0) === \"?\");\n\nclass HTMLRouter extends BasicRouter {\n    constructor(config) {\n        super(config);\n        this.useFragment = config.useFragment !== false;\n        this.ignoreHashChange = false;\n    }\n    start() {\n        window.addEventListener(\"popstate\", this.handlePopChange());\n        if (this.useFragment) {\n            window.addEventListener(\"hashchange\", this.handleHashChange());\n        }\n        if (this.config.initialRouteID) {\n            const route = this.routeForID(this.config.initialRouteID);\n            this.route(this.format({\n                id: route.id,\n                title: route.title,\n            }));\n        }\n        else {\n            this.route(this.useFragment ? location.hash : location.pathname);\n        }\n    }\n    release() {\n        window.removeEventListener(\"popstate\", this.popHandler);\n        if (this.useFragment) {\n            window.removeEventListener(\"hashchange\", this.hashHandler);\n        }\n    }\n    /**\n     * Like `BasicRouter.route()`, but takes additional arg to control\n     * if this routing operation should manipulate the browser's `history`.\n     * If called from userland, this normally is true. However, we want\n     * to avoid this if called from this router's own event handlers.\n     *\n     * @param raw -\n     * @param pushState -\n     */\n    route(src, pushState = true) {\n        const old = this.current;\n        const route = super.route(src);\n        if (route && !equiv(route, old)) {\n            this.currentPath = this.format(route);\n            if (pushState) {\n                history.pushState(this.currentPath, route.title || window.document.title || \"\", this.currentPath);\n            }\n        }\n        return route;\n    }\n    routeTo(route) {\n        if (this.useFragment) {\n            location.hash = route;\n        }\n        this.route(route);\n    }\n    format(...args) {\n        let match;\n        switch (args.length) {\n            case 2:\n                match = { id: args[0], params: args[1] };\n                break;\n            case 1:\n                match = isString(args[0]) ? { id: args[0] } : args[0];\n                break;\n            default:\n                illegalArity(args.length);\n        }\n        return super.format(match, this.useFragment);\n    }\n    handlePopChange() {\n        return (this.popHandler =\n            this.popHandler ||\n                ((e) => {\n                    this.route(e.state ||\n                        (this.useFragment ? location.hash : location.pathname), false);\n                }).bind(this));\n    }\n    handleHashChange() {\n        return (this.hashHandler =\n            this.hashHandler ||\n                ((e) => {\n                    if (!this.ignoreHashChange) {\n                        const hash = e.newURL.substr(e.newURL.indexOf(\"#\"));\n                        if (hash !== this.currentPath) {\n                            this.route(hash, false);\n                        }\n                    }\n                }).bind(this));\n    }\n    handleRouteFailure() {\n        this.ignoreHashChange = true;\n        location.hash = this.format({\n            id: this.routeForID(this.config.defaultRouteID).id,\n        });\n        this.ignoreHashChange = false;\n        return true;\n    }\n}\n\nexport { EVENT_ROUTE_CHANGED, HTMLRouter };\n", "/**\n * Second duration in milliseconds\n */\nconst SECOND = 1000;\n/**\n * Minute duration in milliseconds\n */\nconst MINUTE = 60 * SECOND;\n/**\n * Days per month LUT (non-leap year)\n */\nconst DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nconst dateTime = (epoch, prec) => new DateTime(epoch, prec);\n/**\n * Epoch abstraction with adjustable coarseness/precision. All date fields in\n * UTC only.\n */\nclass DateTime {\n    constructor(epoch = Date.now(), prec = \"t\") {\n        const x = ensureDate(epoch);\n        const id = \"yMdhmst\".indexOf(prec);\n        this.y = x.getUTCFullYear();\n        this.M = id >= 1 ? x.getUTCMonth() : 0;\n        this.d = id >= 2 ? x.getUTCDate() : 1;\n        this.h = id >= 3 ? x.getUTCHours() : 0;\n        this.m = id >= 4 ? x.getUTCMinutes() : 0;\n        this.s = id >= 5 ? x.getUTCSeconds() : 0;\n        this.t = id >= 6 ? x.getUTCMilliseconds() : 0;\n    }\n    copy() {\n        return new DateTime(this.getTime());\n    }\n    getTime() {\n        return Date.UTC(this.y, this.M, this.d, this.h, this.m, this.s, this.t);\n    }\n    compare(d) {\n        return this.getTime() - ensureDate(d).getTime();\n    }\n    equiv(o) {\n        return o instanceof DateTime ||\n            o instanceof Date ||\n            typeof o === \"number\"\n            ? this.compare(o) === 0\n            : false;\n    }\n    eqDelta(d, eps = 0) {\n        return Math.abs(this.getTime() - ensureDate(d).getTime()) <= eps;\n    }\n    daysInMonth() {\n        const days = DAYS_IN_MONTH[this.M];\n        return days + (this.M === 1 && this.isLeapYear() ? 1 : 0);\n    }\n    /**\n     * Leap years are multiple of 4, excludingcentennial years that aren’t\n     * multiples of 400.\n     */\n    isLeapYear() {\n        return !(this.y % 4) && (!!(this.y % 100) || !(this.y % 400));\n    }\n    incMillisecond() {\n        if (++this.t > 999) {\n            this.t = 0;\n            this.incSecond();\n        }\n        return this.t;\n    }\n    decMillisecond() {\n        if (--this.t < 0) {\n            this.t = 999;\n            this.decSecond();\n        }\n        return this.t;\n    }\n    incSecond() {\n        if (++this.s > 59) {\n            this.s = 0;\n            this.incMinute();\n        }\n        return this.s;\n    }\n    decSecond() {\n        if (--this.s < 0) {\n            this.s = 59;\n            this.decMinute();\n        }\n        return this.s;\n    }\n    incMinute() {\n        if (++this.m > 59) {\n            this.m = 0;\n            this.incHour();\n        }\n        return this.m;\n    }\n    decMinute() {\n        if (--this.m < 0) {\n            this.m = 59;\n            this.decHour();\n        }\n        return this.m;\n    }\n    incHour() {\n        if (++this.h > 23) {\n            this.h = 0;\n            this.incDay();\n        }\n        return this.h;\n    }\n    decHour() {\n        if (--this.h < 0) {\n            this.h = 23;\n            this.decDay();\n        }\n        return this.h;\n    }\n    incDay() {\n        if (++this.d > this.daysInMonth()) {\n            this.d = 1;\n            this.incMonth();\n        }\n        return this.d;\n    }\n    decDay() {\n        if (--this.d < 1) {\n            this.decMonth();\n            this.d = this.daysInMonth();\n        }\n        return this.d;\n    }\n    incWeek() {\n        this.d += 7;\n        const max = this.daysInMonth();\n        if (this.d > max) {\n            this.d -= max;\n            this.incMonth();\n        }\n        return this.d;\n    }\n    decWeek() {\n        this.d -= 7;\n        if (this.d < 1) {\n            this.decMonth();\n            this.d += this.daysInMonth();\n        }\n        return this.d;\n    }\n    incMonth() {\n        if (++this.M > 11) {\n            this.M = 0;\n            ++this.y;\n        }\n        return this.M;\n    }\n    decMonth() {\n        if (--this.M < 0) {\n            this.M = 11;\n            --this.y;\n        }\n        return this.M;\n    }\n    incYear() {\n        // TODO epoch overflow handling, throw error?\n        return ++this.y;\n    }\n    decYear() {\n        // TODO epoch underflow handling, throw error?\n        return --this.y;\n    }\n    toDate() {\n        return new Date(this.getTime());\n    }\n    toJSON() {\n        return this.toISOString();\n    }\n    toString() {\n        return this.toDate().toUTCString();\n    }\n    toISOString() {\n        return this.toDate().toISOString();\n    }\n}\nconst ensureDate = (x) => typeof x === \"number\"\n    ? new Date(x)\n    : x instanceof DateTime\n        ? x.toDate()\n        : x;\n\nconst EN_SHORT = {\n    months: [\n        \"Jan\",\n        \"Feb\",\n        \"Mar\",\n        \"Apr\",\n        \"May\",\n        \"Jun\",\n        \"Jul\",\n        \"Aug\",\n        \"Sep\",\n        \"Oct\",\n        \"Nov\",\n        \"Dec\",\n    ],\n    days: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n};\nlet LOCALE = EN_SHORT;\n\nconst Z2 = (x) => (x < 10 ? \"0\" + x : String(x));\nconst FORMATTERS = {\n    /**\n     * Full year (4 digits)\n     */\n    yyyy: (d) => String(d.getFullYear()),\n    /**\n     * Short year (2 digits, e.g. `2020 % 100` => 20)\n     */\n    yy: (d) => String(d.getFullYear() % 100),\n    /**\n     * 3-letter month name (e.g. `Feb`)\n     */\n    MMM: (d) => LOCALE.months[d.getMonth()],\n    /**\n     * Zero-padded 2-digit month\n     */\n    MM: (d) => Z2(d.getMonth() + 1),\n    /**\n     * Unpadded month\n     */\n    M: (d) => String(d.getMonth() + 1),\n    /**\n     * Zero-padded 2-digit day of month\n     */\n    dd: (d) => Z2(d.getDate()),\n    /**\n     * Unpadded day of month\n     */\n    d: (d) => String(d.getDate()),\n    /**\n     * 3-letter weekday name (e.g. `Mon`)\n     */\n    E: (d) => LOCALE.days[d.getDay()],\n    /**\n     * Zero-padded 2-digit hour of day (0-23)\n     */\n    HH: (d) => Z2(d.getHours()),\n    /**\n     * Zero-padded hour of day (1-12)\n     */\n    hh: (d) => {\n        const h = d.getHours() % 12;\n        return Z2(h > 0 ? h : 12);\n    },\n    /**\n     * Unpadded hour of day (1-12)\n     */\n    h: (d) => {\n        const h = d.getHours() % 12;\n        return String(h > 0 ? h : 12);\n    },\n    /**\n     * Zero-padded 2-digit minute of hour\n     */\n    mm: (d) => Z2(d.getMinutes()),\n    /**\n     * Unpadded minute of hour\n     */\n    m: (d) => String(d.getMinutes()),\n    /**\n     * Zero-padded 2-digit second of minute\n     */\n    ss: (d) => Z2(d.getSeconds()),\n    /**\n     * Unpadded second of minute\n     */\n    s: (d) => String(d.getSeconds()),\n    /**\n     * Unpadded millisecond of second\n     */\n    S: (d) => String(d.getMilliseconds()),\n    /**\n     * 12-hour AM/PM marker\n     */\n    A: (d) => String(d.getHours() < 12 ? \"AM\" : \"PM\"),\n    /**\n     * Timezone offset in signed `HH:mm` format\n     */\n    Z: (d) => {\n        const z = d.getTimezoneOffset();\n        const za = Math.abs(z);\n        return `${z < 0 ? \"-\" : \"+\"}${Z2((za / 60) | 0)}:${Z2(za % 60)}`;\n    },\n    /**\n     * Returns literal `\"Z\"` iff timezone offset is zero (UTC), else the same as\n     * `Z` formatter.\n     *\n     * @param d\n     */\n    ZZ: (d) => (d.getTimezoneOffset() === 0 ? \"Z\" : FORMATTERS.Z(d)),\n};\n/**\n * Returns a new date formatter for given array of format strings (or\n * functions). The returned function accepts timestamps (epoch), `Date` or\n * `DateTime` instances and accepts an optional boolean arg to output UTC\n * instead of local time (default).\n *\n * @remarks\n * See {@link FORMATTERS} for available date component format IDs. To escape a\n * formatter and use as a string literal, prefix the term with `\\\\`.\n *\n * @example\n * ```ts\n * const fmt = defFormat([\"yyyy\", \"-\", \"MM\", \"-\", \"dd\"]);\n *\n * fmt(new Date(2015, 3, 23))\n * // \"2015-04-23\"\n *\n * defFormat([\"\\\\yyyy\"])(new Date(2015, 3, 23))\n * // \"yyyy\"\n * ```\n *\n * @param fmt\n */\nconst defFormat = (fmt) => (x, utc = false) => {\n    let d = ensureDate(x);\n    utc && (d = new Date(d.getTime() + d.getTimezoneOffset() * MINUTE));\n    return fmt\n        .map((x) => {\n        let fmt;\n        return typeof x === \"string\"\n            ? x.startsWith(\"\\\\\")\n                ? x.substr(1)\n                : (fmt = FORMATTERS[x])\n                    ? fmt(d)\n                    : x\n            : typeof x === \"function\"\n                ? x(d)\n                : x;\n    })\n        .join(\"\");\n};\n\nexport { dateTime, defFormat };\n", "import { i as implementsFunction } from '../common/implements-function-c507affc.js';\nimport { i as illegalArity, N as NO_OP, S as SEMAPHORE } from '../common/illegal-arity-019e6e09.js';\nimport '../common/deferror-480a42fb.js';\n\nconst isArrayLike = (x) => x != null && typeof x !== \"function\" && x.length !== undefined;\n\nconst isIterable = (x) => x != null && typeof x[Symbol.iterator] === \"function\";\n\nconst ensureTransducer = (x) => implementsFunction(x, \"xform\")\n    ? x.xform()\n    : x;\n\nclass Reduced {\n    constructor(val) {\n        this.value = val;\n    }\n    deref() {\n        return this.value;\n    }\n}\nconst isReduced = (x) => x instanceof Reduced;\nconst unreduced = (x) => (x instanceof Reduced ? x.deref() : x);\n\nconst parseArgs = (args) => args.length === 2\n    ? [undefined, args[1]]\n    : args.length === 3\n        ? [args[1], args[2]]\n        : illegalArity(args.length);\nfunction reduce(...args) {\n    const rfn = args[0];\n    const init = rfn[0];\n    const complete = rfn[1];\n    const reduce = rfn[2];\n    args = parseArgs(args);\n    const acc = args[0] == null ? init() : args[0];\n    const xs = args[1];\n    return unreduced(complete(implementsFunction(xs, \"$reduce\")\n        ? xs.$reduce(reduce, acc)\n        : isArrayLike(xs)\n            ? reduceArray(reduce, acc, xs)\n            : reduceIterable(reduce, acc, xs)));\n}\nconst reduceArray = (rfn, acc, xs) => {\n    for (let i = 0, n = xs.length; i < n; i++) {\n        acc = rfn(acc, xs[i]);\n        if (isReduced(acc)) {\n            acc = acc.deref();\n            break;\n        }\n    }\n    return acc;\n};\nconst reduceIterable = (rfn, acc, xs) => {\n    for (let x of xs) {\n        acc = rfn(acc, x);\n        if (isReduced(acc)) {\n            acc = acc.deref();\n            break;\n        }\n    }\n    return acc;\n};\n/**\n * Convenience helper for building a full {@link Reducer} using the identity\n * function (i.e. `(x) => x`) as completion step (true for 90% of all\n * bundled transducers).\n *\n * @param init - init step of reducer\n * @param rfn - reduction step of reducer\n */\nconst reducer = (init, rfn) => [init, (acc) => acc, rfn];\n\nfunction push(xs) {\n    return xs\n        ? [...xs]\n        : reducer(() => [], (acc, x) => (acc.push(x), acc));\n}\n\n/**\n * Optimized version of {@link iterator} for transducers which are\n * guaranteed to:\n *\n * 1) Only produce none or a single result per input\n * 2) Do not require a `completion` reduction step\n *\n * @param xform -\n * @param xs -\n */\nfunction* iterator1(xform, xs) {\n    const reduce = (ensureTransducer(xform)([NO_OP, NO_OP, (_, x) => x]))[2];\n    for (let x of xs) {\n        let y = reduce(SEMAPHORE, x);\n        if (isReduced(y)) {\n            y = unreduced(y.deref());\n            if (y !== SEMAPHORE) {\n                yield y;\n            }\n            return;\n        }\n        if (y !== SEMAPHORE) {\n            yield y;\n        }\n    }\n}\n\n/**\n * Reducer composition helper, internally used by various transducers\n * during initialization. Takes existing reducer `rfn` (a 3-tuple) and a\n * reducing function `fn`. Returns a new reducer tuple.\n *\n * @remarks\n * `rfn[2]` reduces values of type `B` into an accumulator of type `A`.\n * `fn` accepts values of type `C` and produces interim results of type\n * `B`, which are then (possibly) passed to the \"inner\" `rfn[2]`\n * function. Therefore the resulting reducer takes inputs of `C` and an\n * accumulator of type `A`.\n *\n * It is assumed that `fn` internally calls `rfn[2]` to pass its own\n * results for further processing by the nested reducer `rfn`.\n *\n * @example\n * ```ts\n * compR(rfn, fn)\n * // [rfn[0], rfn[1], fn]\n * ```\n *\n * @param rfn -\n * @param fn -\n */\nconst compR = (rfn, fn) => [rfn[0], rfn[1], fn];\n\nfunction map(fn, src) {\n    return isIterable(src)\n        ? iterator1(map(fn), src)\n        : (rfn) => {\n            const r = rfn[2];\n            return compR(rfn, (acc, x) => r(acc, fn(x)));\n        };\n}\n\nfunction transduce(...args) {\n    return $transduce(transduce, reduce, args);\n}\nconst $transduce = (tfn, rfn, args) => {\n    let acc, xs;\n    switch (args.length) {\n        case 4:\n            xs = args[3];\n            acc = args[2];\n            break;\n        case 3:\n            xs = args[2];\n            break;\n        case 2:\n            return map((x) => tfn(args[0], args[1], x));\n        default:\n            illegalArity(args.length);\n    }\n    return rfn(ensureTransducer(args[0])(args[1]), acc, xs);\n};\n\nfunction comp$1(...fns) {\n    let [a, b, c, d, e, f, g, h, i, j] = fns;\n    switch (fns.length) {\n        case 0:\n            illegalArity(0);\n        case 1:\n            return a;\n        case 2:\n            return (...xs) => a(b(...xs));\n        case 3:\n            return (...xs) => a(b(c(...xs)));\n        case 4:\n            return (...xs) => a(b(c(d(...xs))));\n        case 5:\n            return (...xs) => a(b(c(d(e(...xs)))));\n        case 6:\n            return (...xs) => a(b(c(d(e(f(...xs))))));\n        case 7:\n            return (...xs) => a(b(c(d(e(f(g(...xs)))))));\n        case 8:\n            return (...xs) => a(b(c(d(e(f(g(h(...xs))))))));\n        case 9:\n            return (...xs) => a(b(c(d(e(f(g(h(i(...xs)))))))));\n        case 10:\n        default:\n            const fn = (...xs) => a(b(c(d(e(f(g(h(i(j(...xs))))))))));\n            return fns.length === 10 ? fn : comp$1(fn, ...fns.slice(10));\n    }\n}\n\nfunction drop(n, src) {\n    return isIterable(src)\n        ? iterator1(drop(n), src)\n        : (rfn) => {\n            const r = rfn[2];\n            let m = n;\n            return compR(rfn, (acc, x) => m > 0 ? (m--, acc) : r(acc, x));\n        };\n}\n\nfunction comp(...fns) {\n    fns = fns.map(ensureTransducer);\n    return comp$1.apply(null, fns);\n}\n\nexport { comp, drop, map, push, transduce };\n", "import { i as isString } from '../common/is-string-40d6c094.js';\n\n/**\n * Helper function to immutably merge attribs from two sources and\n * concatenate their `class` values and merge their `style` maps (if\n * present). Returns merged result object.\n *\n * @param base - base attribs\n * @param xs - overrides\n *\n * @internal\n */\nconst mergeAttribs = (base, xs) => {\n    if (!xs)\n        return base;\n    const res = Object.assign(Object.assign({}, base), xs);\n    base.class && xs.class && (res.class = base.class + \" \" + xs.class);\n    base.style && xs.style && (res.style = Object.assign(Object.assign({}, base.style), xs.style));\n    return res;\n};\n\nconst link = (attribs, body) => [\n    \"a\",\n    isString(attribs) ? { href: attribs } : attribs,\n    body,\n];\n\nexport { link, mergeAttribs };\n", "const svg = (...body) => [\n    \"svg\",\n    { viewBox: \"0 0 32 32\" },\n    ...body,\n];\n\n/**\n * https://demo.thi.ng/umbrella/hiccup-carbon-icons/#CLOSE\n */\n// prettier-ignore\nconst CLOSE = svg([\"path\", { d: \"M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4l6.6 6.6L8 22.6 9.4 24l6.6-6.6 6.6 6.6 1.4-1.4-6.6-6.6L24 9.4z\" }]);\n\n/**\n * https://demo.thi.ng/umbrella/hiccup-carbon-icons/#MENU\n */\n// prettier-ignore\nconst MENU = svg([\"path\", { d: \"M4 24h24v2H4zM4 12h24v2H4zM4 18h24v2H4zM4 6h24v2H4z\" }]);\n\nexport { CLOSE, MENU };\n", "import {defViewUnsafe} from \"../_snowpack/pkg/@thi.ng/atom.js\";\nimport {isArray} from \"../_snowpack/pkg/@thi.ng/checks.js\";\nimport {EV_SET_VALUE} from \"../_snowpack/pkg/@thi.ng/interceptors.js\";\nimport {defFormat} from \"../_snowpack/pkg/@thi.ng/date.js\";\nimport {EV} from \"./config.js\";\nexport const makeViews = (state, specs) => {\n  const views = {};\n  for (let id in specs) {\n    const spec = specs[id];\n    views[id] = isArray(spec) ? defViewUnsafe(state, spec[0], spec[1]) : defViewUnsafe(state, spec);\n  }\n  return views;\n};\nexport const routeTo = (bus, id, params = null) => {\n  bus.dispatch([EV_SET_VALUE, [\"nav.visible\", false]]);\n  bus.dispatch([EV.ROUTE_TO, [id, params]]);\n};\nexport const fmtDate = defFormat([\"yyyy\", \".\", \"MM\"]);\nexport const readJson = (res, cb) => {\n  const reader = res.body.getReader();\n  const decoder = new TextDecoder();\n  let data = \"\";\n  reader.read().then(function process({done, value}) {\n    if (done) {\n      cb(JSON.parse(data.replace(/(?:\\r\\n|\\r|\\n)/g, \"\")));\n    } else {\n      data += decoder.decode(value);\n      return reader.read().then(process);\n    }\n  });\n};\n", "import {map, comp, transduce, push, drop} from \"../_snowpack/pkg/@thi.ng/transducers.js\";\nimport {EV_TOGGLE_VALUE} from \"../_snowpack/pkg/@thi.ng/interceptors.js\";\nimport {link as link_, mergeAttribs} from \"../_snowpack/pkg/@thi.ng/hdom-components.js\";\nimport {CLOSE, MENU} from \"../_snowpack/pkg/@thi.ng/hiccup-carbon-icons.js\";\nimport {ROUTES} from \"./config.js\";\nimport {routeTo, fmtDate} from \"./utils.js\";\nexport const link = ({ui}, attribs, href, body) => link_({href, ...mergeAttribs(ui.link.default, attribs)}, body);\nexport const image = {\n  init(el, __, _, src) {\n    const img = new Image();\n    img.src = src;\n    img.onload = () => el.src = src;\n  },\n  render({ui}, attribs) {\n    return [\n      \"img\",\n      {\n        src: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=\",\n        ...mergeAttribs(ui.image.loading, attribs)\n      }\n    ];\n  },\n  release() {\n  }\n};\nexport const routeLink = (ctx, routeID, routeParams, attribs, body) => [\n  \"a\",\n  {\n    ...mergeAttribs(ctx.ui.link.default, attribs),\n    onclick: (e) => {\n      e.preventDefault();\n      routeTo(ctx.bus, routeID, routeParams);\n    }\n  },\n  body\n];\nconst itemThumbTitle = (ctx, item) => [\n  \"div\",\n  ctx.ui.item.thumb.title,\n  [routeLink, ROUTES.ITEM, {id: item.id}, null, item.title]\n];\nconst itemTags = (ctx, tags) => {\n  const elms = [];\n  for (const tag of tags) {\n    elms.push([\"span\", ctx.ui.tag.sign, \"#\"]);\n    elms.push([\"span\", ctx.ui.tag.normal, tag.name]);\n    elms.push([\"span\", \", \"]);\n  }\n  elms.pop();\n  return [\"div\", elms];\n};\nconst asset = (type, name) => `/assets/${type}/${name}`;\nconst itemCover = (ctx, item) => [\n  \"div\",\n  {\n    ...ctx.ui.item.thumb.cover,\n    onclick: (e) => {\n      e.preventDefault();\n      routeTo(ctx.bus, ROUTES.ITEM, {id: item.id});\n    }\n  },\n  [\n    image,\n    ctx.ui.item.thumb.image,\n    asset(\"images\", `${item.id}/${item.images[0].name}`)\n  ]\n];\nconst itemThumb = (ctx, item) => [\n  \"div\",\n  ctx.ui.item.thumb.main,\n  [itemCover, item],\n  [\n    \"div\",\n    ctx.ui.item.thumb.content,\n    [\"div\", ctx.ui.item.thumb.date, fmtDate(item.date)],\n    [itemThumbTitle, item],\n    [itemTags, item.tags]\n  ]\n];\nexport const featuredItemList = (ctx, items) => [\n  \"div\",\n  ctx.ui.item.list,\n  map((x) => [itemThumb, x], items)\n];\nconst itemHeader = (ctx, item) => [\n  \"div\",\n  ctx.ui.item.full.header,\n  [\"div\", ctx.ui.item.full.date, fmtDate(item.date)],\n  [\"h1\", ctx.ui.item.full.title, item.title],\n  [itemTags, item.tags]\n];\nconst itemImage = (ctx, item, img) => [\n  image,\n  ctx.ui.item.full.image,\n  asset(\"images\", `${item.id}/${img.name}`),\n  [img.width, img.height]\n];\nexport const itemFull = (ctx, item) => {\n  const images = transduce(comp(drop(1), map((img) => [\"p\", [itemImage, item, img]])), push(), item.images);\n  return [\n    \"div\",\n    {key: item.id, ...ctx.ui.item.full.main},\n    [itemHeader, item],\n    [\n      \"div\",\n      ctx.ui.item.full.content,\n      [\"p\", [itemImage, item, item.images[0]]],\n      [\"p\", item.description],\n      [\"p\", [link, ctx.ui.link.external, item.url, \"[more]\"]],\n      ...images\n    ]\n  ];\n};\nconst title = (ctx) => [\n  routeLink,\n  ROUTES.HOME,\n  null,\n  null,\n  [\"h1\", ctx.ui.title, \"Zihou Ng\"]\n];\nconst navToggle = (ctx) => {\n  const navVisible = ctx.views.nav.deref().visible;\n  const attribs = {\n    ...ctx.ui.nav.button,\n    onclick: () => ctx.bus.dispatch([EV_TOGGLE_VALUE, \"nav.visible\"])\n  };\n  return [\"div\", attribs, navVisible ? CLOSE : MENU];\n};\nconst header = (ctx) => [\"div\", ctx.ui.header, title, navToggle];\nconst itemSlim = (ctx, item) => [\n  \"div\",\n  ctx.ui.item.slim.main,\n  [\"div\", ctx.ui.item.slim.date, fmtDate(item.date)],\n  [\n    \"div\",\n    ctx.ui.item.slim.body,\n    [\n      routeLink,\n      ROUTES.ITEM,\n      {id: item.id},\n      ctx.ui.item.slim.title,\n      item.title\n    ],\n    [itemTags, item.tags]\n  ]\n];\nconst itemList = (ctx) => {\n  const items = ctx.views.items.deref();\n  return [\"div\", map((item) => [itemSlim, item], items)];\n};\nconst socialLink = (ctx, url, name) => [\n  link,\n  ctx.ui.link.external,\n  url,\n  name\n];\nconst nav = (ctx) => [\n  \"div\",\n  [\n    \"div\",\n    ctx.ui.nav.links,\n    [\"div\", [socialLink, \"https://github.com/stwind\", \"github\"]],\n    [\"div\", [socialLink, \"https://observablehq.com/@stwind\", \"observable\"]],\n    [\"div\", [socialLink, \"https://qiita.com/stwind\", \"qiita\"]],\n    [\"div\", ctx.ui.email, \"stwindfy#gmail dot com\"]\n  ],\n  [itemList]\n];\nexport const app = (ctx) => {\n  const navVisible = ctx.views.nav.deref().visible;\n  return [\n    \"div\",\n    ctx.ui.app,\n    header,\n    [\"div\", ctx.ui.profile, \"Software Engineer\"],\n    [\"div\", ctx.ui.content, navVisible ? nav : ctx.views.content]\n  ];\n};\n", "import {\n  valueSetter,\n  dispatchNow,\n  EV_SET_VALUE,\n  FX_DISPATCH_ASYNC,\n  FX_FETCH,\n  trace\n} from \"../_snowpack/pkg/@thi.ng/interceptors.js\";\nimport {EVENT_ROUTE_CHANGED} from \"../_snowpack/pkg/@thi.ng/router.js\";\nimport {dateTime} from \"../_snowpack/pkg/@thi.ng/date.js\";\nimport {featuredItemList, itemFull} from \"./components.js\";\nimport {routeTo, readJson} from \"./utils.js\";\nexport var ROUTES;\n(function(ROUTES2) {\n  ROUTES2[\"HOME\"] = \"home\";\n  ROUTES2[\"ITEM\"] = \"item\";\n  ROUTES2[\"TAG\"] = \"tag\";\n})(ROUTES || (ROUTES = {}));\nexport const routes = [\n  {id: ROUTES.HOME, title: \"Home page\", match: [\"home\"]},\n  {id: ROUTES.ITEM, title: \"Item\", match: [\"items\", \"?id\"]}\n];\nexport const ui = {\n  link: {\n    default: {class: \"cursor-pointer hover:underline\"},\n    external: {class: \"text-red\"}\n  },\n  image: {\n    default: {class: \"h-auto\"},\n    loading: {class: \"bg-gray-200\"}\n  },\n  email: {class: \"text-green\"},\n  app: {\n    class: `\n    leading-snug\n    relative font-light subpixel-antialiased text-black fs--1\n    px-4 max-w-4xl mx-auto`\n  },\n  header: {\n    class: \"inset-x-0 sticky font-thin text-black top-0 py-5 mb-8 sm:mb-12 md:mb-20 z-10\"\n  },\n  title: {class: \"fs-1 inline-block\"},\n  profile: {class: \"text-gray-600 fixed top-12 -z-1\"},\n  content: {class: \"w-full py-4\"},\n  nav: {\n    button: {\n      class: \"h-5 w-5 svg-icon absolute top-7 -right-0.5 cursor-pointer\"\n    },\n    links: {class: \"mb-16\"}\n  },\n  item: {\n    list: {class: \"grid gap-8 grid-cols-1 sm:grid-cols-2\"},\n    thumb: {\n      main: {class: \"relative\"},\n      cover: {\n        class: \"h-52 md:h-60 bg-gray-300 cursor-pointer overflow-hidden mb-2\"\n      },\n      image: {class: \"object-cover h-full w-full\"},\n      content: {class: \"\"},\n      title: {class: \"fs-0 text-gray-600\"},\n      date: {class: \"fs--2\"}\n    },\n    full: {\n      main: {class: \"item-full relative\"},\n      header: {class: \"mb-4 sm:mb-6\"},\n      date: {class: \"fs--2\"},\n      title: {\n        class: \"font-thin fs-2 sm:fs-3 sm:text-gray-600 leading-tight\"\n      },\n      content: {class: \"bg-gray-98\"},\n      image: {class: \"bg-gray-300 w-full object-cover\"}\n    },\n    slim: {\n      main: {class: \"relative mb-6\"},\n      date: {class: \"absolute font-mono top-1\"},\n      body: {class: \"ml-14\"},\n      title: {class: \"fs-0 text-gray-600\"}\n    }\n  },\n  tag: {\n    sign: {class: \"text-gray-500 fs--2\"},\n    normal: {class: \"text-gray-600\"},\n    highlight: {class: \"tag bg-black text-white\"}\n  }\n};\nexport const initialState = {\n  nav: {visible: false}\n};\nconst components = {\n  [ROUTES.HOME]: (ctx) => [\n    featuredItemList,\n    ctx.views.featured.deref() || []\n  ],\n  [ROUTES.ITEM]: ({views: views2, bus}) => {\n    const route = views2.route.deref();\n    const items = views2.items.deref();\n    if (!!items) {\n      const item = items.find((item2) => item2.id == route.params.id);\n      if (item)\n        return [itemFull, item];\n      else\n        routeTo(bus, ROUTES.HOME);\n    }\n  }\n};\nexport const views = {\n  nav: \"nav\",\n  items: \"items\",\n  tags: \"tags\",\n  featured: \"featured\",\n  route: \"route\",\n  content: [\"route.id\", (id) => components[id]]\n};\nexport var EV;\n(function(EV2) {\n  EV2[\"ROUTE_TO\"] = \"route-to\";\n  EV2[\"FETCH_DATA\"] = \"fetch-data\";\n  EV2[\"FETCH_DATA_DONE\"] = \"fetch-data-done\";\n  EV2[\"FETCH_DATA_ERROR\"] = \"fetch-data-error\";\n  EV2[\"INITIALIZE\"] = \"initialize\";\n})(EV || (EV = {}));\nexport var FX;\n(function(FX2) {\n  FX2[\"ROUTE_TO\"] = \"route-to\";\n})(FX || (FX = {}));\nexport const processData = (data) => {\n  const tags = Object.fromEntries(data.tags.map((tag) => [tag.id, tag]));\n  const items = data.items.map((item) => ({\n    ...item,\n    date: dateTime(Date.parse(item.date)),\n    tags: item.tags.map((x) => tags[x])\n  }));\n  const featured = data.featured.map((id) => items.find((x) => x.id == id));\n  return {items, tags, featured};\n};\nexport const events = {\n  [EV.FETCH_DATA]: () => ({\n    [FX_DISPATCH_ASYNC]: [\n      FX_FETCH,\n      \"/data.json\",\n      EV.FETCH_DATA_DONE,\n      EV.FETCH_DATA_ERROR\n    ]\n  }),\n  [EV.FETCH_DATA_DONE]: (_, [__, res], bus) => readJson(res, (data) => bus.dispatch([EV.INITIALIZE, processData(data)])),\n  [EV.FETCH_DATA_ERROR]: trace,\n  [EV.INITIALIZE]: [\n    valueSetter(\"items\", (x) => x.items),\n    valueSetter(\"tags\", (x) => x.tags),\n    valueSetter(\"featured\", (x) => x.featured)\n  ],\n  [EVENT_ROUTE_CHANGED]: [\n    valueSetter(\"route\"),\n    dispatchNow([EV_SET_VALUE, [\"nav.visible\", false]])\n  ],\n  [EV.ROUTE_TO]: (_, [__, route]) => ({[FX.ROUTE_TO]: route})\n};\n", "import * as __SNOWPACK_ENV__ from '../_snowpack/env.js';\nimport.meta.env = __SNOWPACK_ENV__;\n\nimport {start} from \"../_snowpack/pkg/@thi.ng/hdom.js\";\nimport {Atom} from \"../_snowpack/pkg/@thi.ng/atom.js\";\nimport {EventBus} from \"../_snowpack/pkg/@thi.ng/interceptors.js\";\nimport {HTMLRouter, EVENT_ROUTE_CHANGED} from \"../_snowpack/pkg/@thi.ng/router.js\";\nimport {\n  routes,\n  initialState,\n  ui,\n  events,\n  views,\n  EV,\n  FX,\n  ROUTES\n} from \"./config.js\";\nimport {app} from \"./components.js\";\nimport {makeViews, routeTo} from \"./utils.js\";\nconst state = new Atom(initialState);\nconst bus = new EventBus(state, events);\nconst router = new HTMLRouter({\n  useFragment: true,\n  defaultRouteID: ROUTES.HOME,\n  routes\n});\nrouter.addListener(EVENT_ROUTE_CHANGED, (e) => console.log(e.value));\nrouter.addListener(EVENT_ROUTE_CHANGED, (e) => bus.dispatch([EVENT_ROUTE_CHANGED, e.value]));\nbus.addEffect(FX.ROUTE_TO, ([id, params]) => router.routeTo(router.format(id, params)));\nconst ctx = {state, bus, ui, views: makeViews(state, views)};\nconst stop = start(({bus: bus2}) => bus2.processQueue() ? app : null, {ctx});\nbus.dispatch([EV.FETCH_DATA]);\nrouter.start();\nexport function refresh(route) {\n  const {id, params} = route;\n  routeTo(bus, id, params);\n}\nconst hot = undefined /* [snowpack] import.meta.hot */ ;\nif (hot) {\n  hot.accept(({module}) => {\n    module.refresh(hot.current);\n  });\n  hot.dispose(() => {\n    hot.current = router.current;\n    stop();\n    router.release();\n  });\n}\n"],
  "mappings": "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",
  "names": []
}
