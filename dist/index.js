var rn=Object.defineProperty;var on=(t,e)=>{for(var n in e)rn(t,n,{get:e[n],enumerable:!0})};var Ot={};on(Ot,{MODE:()=>cn,NODE_ENV:()=>an,SSR:()=>ln});var cn="development",an="development",ln=!1;var V=t=>typeof t=="function";var _=Array.isArray;var w=t=>typeof t=="string";var R=(t,e)=>t!=null&&typeof t[e]=="function";var Xt=t=>t!=null&&typeof t!="string"&&typeof t[Symbol.iterator]=="function",Jt=Object.getPrototypeOf,fn=t=>{let e;return t!=null&&typeof t=="object"&&((e=Jt(t))===null||Jt(e)===null)},Yt=Symbol(),Zt=Object.getPrototypeOf({}),et="function",Kt="string",P=(t,e)=>{let n;if(t===e)return!0;if(t!=null){if(typeof t.equiv===et)return t.equiv(e)}else return t==e;if(e!=null){if(typeof e.equiv===et)return e.equiv(t)}else return t==e;return typeof t===Kt||typeof e===Kt?!1:(n=Object.getPrototypeOf(t),(n==null||n===Zt)&&(n=Object.getPrototypeOf(e),n==null||n===Zt)?mn(t,e):typeof t!==et&&t.length!==void 0&&typeof e!==et&&e.length!==void 0?un(t,e):t instanceof Set&&e instanceof Set?hn(t,e):t instanceof Map&&e instanceof Map?dn(t,e):t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():t instanceof RegExp&&e instanceof RegExp?t.toString()===e.toString():t!==t&&e!==e)},un=(t,e,n=P)=>{let s=t.length;if(s===e.length)for(;--s>=0&&n(t[s],e[s]););return s<0},hn=(t,e,n=P)=>t.size===e.size&&n([...t.keys()].sort(),[...e.keys()].sort()),dn=(t,e,n=P)=>t.size===e.size&&n([...t].sort(),[...e].sort()),mn=(t,e,n=P)=>{if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let s in t)if(!e.hasOwnProperty(s)||!n(t[s],e[s]))return!1;return!0},nt,st,pn=[],gn=[],yn=t=>nt&&nt.length>=t?nt:nt=new Int32Array(t),_n=t=>st&&st.length>=t?st:st=new Int32Array(t),te=(t,e,n,s,i)=>{let r=e.length,o=t.linear;if(t.distance=r,i!=="only-distance"){for(let c=0,a=0;c<r;c++,a+=3)o[a]=s,o[a+1]=c,o[a+2]=e[c];if(i==="full"){let c=t[n];for(let a=0;a<r;a++)c[a]=e[a]}}return t},wn=(t,e,n="full",s=P)=>{let i={distance:0,adds:{},dels:{},const:{},linear:[]};if(t===e||t==null&&e==null)return i;if(t==null||t.length===0)return te(i,e,"adds",1,n);if(e==null||e.length===0)return te(i,t,"dels",-1,n);let r=t.length>=e.length,o,c,a,l;r?(o=e,c=t):(o=t,c=e),a=o.length,l=c.length;let u=a+1,h=l-a,f=h+u,d=a+l+3,p=_n(d).fill(-1,0,d),m=yn(d).fill(-1,0,d),y=pn,g=gn,k=(q,Wt,Qt)=>{let At,I;Wt>Qt?(At=p[q-1],I=Wt):(At=p[q+1],I=Qt);let tt=I-(q-u);for(;tt<a&&I<l&&s(o[tt],c[I]);)tt++,I++;p[q]=g.length/3,g.push(tt,I,At),m[q]=I},T=-1,A;do{for(T++,A=-T+u;A<f;A++)k(A,m[A-1]+1,m[A+1]);for(A=f+T;A>f;A--)k(A,m[A-1]+1,m[A+1]);k(f,m[f-1]+1,m[f+1])}while(m[f]!==l);if(i.distance=h+2*T,n!=="only-distance"){for(T=p[f]*3;T>=0;)y.push(T),T=g[T+2]*3;n==="full"?vn(y,g,i,o,c,r):En(y,g,i,o,c,r,n==="only-distance-linear")}return y.length=0,g.length=0,i},vn=(t,e,n,s,i,r)=>{let o=n.linear,c=n.const,a=t.length,l=0,u=0,h,f,d,p;for(r?(h=n.dels,f=n.adds,d=-1,p=1):(h=n.adds,f=n.dels,d=1,p=-1);--a>=0;){let m=t[a],y=e[m],g=e[m+1],k=g-y;for(;l<y||u<g;){let T=u-l;k>T?(o.push(d,u,h[u]=i[u]),u++):k<T?(o.push(p,l,f[l]=s[l]),l++):(o.push(0,l,c[l]=s[l]),l++,u++)}}},En=(t,e,n,s,i,r,o)=>{let c=n.linear,a=r?-1:1,l=r?1:-1,u=t.length,h=0,f=0;for(;--u>=0;){let d=t[u],p=e[d],m=e[d+1],y=m-p;for(;h<p||f<m;){let g=f-h;y>g?(c.push(a,f,i[f]),f++):y<g?(c.push(l,h,s[h]),h++):(o&&c.push(0,h,s[h]),h++,f++)}}},On=(t,e,n="full",s=P)=>t===e?{distance:0}:n==="only-distance"?Tn(t,e,s):An(t,e,s),Tn=(t,e,n)=>{t||(t={}),e||(e={});let s=0;for(let i in t){let r=e[i];(r===void 0||!n(t[i],r))&&s++}for(let i in e)!(i in t)&&s++;return{distance:s}},An=(t,e,n)=>{t||(t={}),e||(e={});let s=0,i=[],r=[],o=[];for(let c in t){let a=e[c];a===void 0?(r.push(c),s++):n(t[c],a)||(o.push(c,a),s++)}for(let c in e)c in t||(i.push(c),s++);return{distance:s,adds:i,dels:r,edits:o}},ee=Object.getPrototypeOf({}),it="function",ne="string",z=(t,e)=>{let n;if(t===e)return!0;if(t!=null){if(typeof t.equiv===it)return t.equiv(e)}else return t==e;if(e!=null){if(typeof e.equiv===it)return e.equiv(t)}else return t==e;return typeof t===ne||typeof e===ne?!1:(n=Object.getPrototypeOf(t),(n==null||n===ee)&&(n=Object.getPrototypeOf(e),n==null||n===ee)?oe(t,e):typeof t!==it&&t.length!==void 0&&typeof e!==it&&e.length!==void 0?se(t,e):t instanceof Set&&e instanceof Set?ie(t,e):t instanceof Map&&e instanceof Map?re(t,e):t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():t instanceof RegExp&&e instanceof RegExp?t.toString()===e.toString():t!==t&&e!==e)},se=(t,e,n=z)=>{let s=t.length;if(s===e.length)for(;--s>=0&&n(t[s],e[s]););return s<0},ie=(t,e,n=z)=>t.size===e.size&&n([...t.keys()].sort(),[...e.keys()].sort()),re=(t,e,n=z)=>t.size===e.size&&n([...t].sort(),[...e].sort()),oe=(t,e,n=z)=>{if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let s in t)if(!e.hasOwnProperty(s)||!n(t[s],e[s]))return!1;return!0},rt=Array.isArray,Sn=Math.max,ce=Object.getPrototypeOf({}),ot="function",ct="string",ae=(()=>{let t=new Array(2048);for(let e=2,n=t.length;e<n;e++)t[e]=e-2;return t})(),kn=t=>{if(t<=ae.length)return ae.slice(0,t);let e=new Array(t);for(;--t>=2;)e[t]=t-2;return e},le=(t,e,n,s,i,r=0)=>{let o=i[1];if(o.__skip)return;if(o.__diff===!1){G(s),e.replaceChild(t,n,r,i);return}let c=s[1];if(c&&c.__skip){e.replaceChild(t,n,r,i,!1);return}let a=o.__impl;if(a&&a!==e)return a.diffTree(t,a,n,s,i,r);let l=wn(s,i,"only-distance-linear",B);if(l.distance===0)return;let u=l.linear,h=e.getChild(n,r),f,d,p;if(u[0]!==0||s[1].key!==o.key){G(s),e.replaceChild(t,n,r,i);return}if((p=s.__release)&&p!==i.__release&&G(s),u[3]!==0&&(Dn(e,h,s[1],i[1]),l.distance===2))return;let m=u.length,y=s.length-1,g=Mn(u),k=kn(y+1);for(f=6;f<m;f+=3)d=u[f],!!d&&(d===-1?jn(t,e,h,s,i,u,f,g,k,y):In(t,e,h,u,f,g,k,y));(p=i.__init)&&p!=s.__init&&p.apply(i,[h,...i.__args])},jn=(t,e,n,s,i,r,o,c,a,l)=>{let u=r[o+2];if(rt(u)){let h=u[1].key;if(h!==void 0&&c[h][2]!==void 0){let f=c[h];h=f[0],le(t,e,n,s[h],i[f[2]],a[h])}else{let f=r[o+1];G(u),e.removeChild(n,a[f]),bn(a,l,f)}}else typeof u===ct&&e.setContent(n,"")},In=(t,e,n,s,i,r,o,c)=>{let a=s[i+2];if(typeof a===ct)e.setContent(n,a);else if(rt(a)){let l=a[1].key;if(l===void 0||r[l][0]===void 0){let u=s[i+1];e.createTree(t,n,a,o[u]),Rn(o,c,u)}}},bn=(t,e,n)=>{for(;e>n;e--)t[e]=Sn(t[e]-1,0)},Rn=(t,e,n)=>{for(;e>=n;e--)t[e]++},Dn=(t,e,n,s)=>{let i=On(n,s,"full",z);t.removeAttribs(e,i.dels,n);let r=Yt,o,c,a;for(a=i.edits,o=a.length;(o-=2)>=0;)c=a[o],c[0]==="o"&&c[1]==="n"&&t.removeAttribs(e,[c],n),c!=="value"?t.setAttrib(e,c,a[o+1],s):r=a[o+1];for(a=i.adds,o=a.length;--o>=0;)c=a[o],c!=="value"?t.setAttrib(e,c,s[c],s):r=s[c];r!==Yt&&t.setAttrib(e,"value",r,s)},G=t=>{if(rt(t)){let e;if((e=t[1])&&e.__release===!1)return;for(t.__release&&(t.__release.apply(t.__this,t.__args),delete t.__release),e=t.length;--e>=2;)G(t[e])}},Mn=t=>{let e,n,s,i={};for(let r=t.length;(r-=3)>=0;)n=t[r+2],rt(n)&&(e=n[1].key)!==void 0&&(s=i[e],!s&&(i[e]=s=[,,]),s[t[r]+1]=t[r+1]);return i},B=(t,e)=>{let n;if(t===e)return!0;if(t!=null){if(typeof t.equiv===ot)return t.equiv(e)}else return t==e;if(e!=null){if(typeof e.equiv===ot)return e.equiv(t)}else return t==e;return typeof t===ct||typeof e===ct?!1:(n=Object.getPrototypeOf(t),(n==null||n===ce)&&(n=Object.getPrototypeOf(e),n==null||n===ce)?!(t.__diff===!1||e.__diff===!1)&&oe(t,e,B):typeof t!==ot&&t.length!==void 0&&typeof e!==ot&&e.length!==void 0?se(t,e,B):t instanceof Set&&e instanceof Set?ie(t,e,B):t instanceof Map&&e instanceof Map?re(t,e,B):t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():t instanceof RegExp&&e instanceof RegExp?t.toString()===e.toString():t!==t&&e!==e)},Fn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"},Cn=/^([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?$/;new RegExp(`[${Object.keys(Fn).join("")}]`,"g");var Nn={button:1,option:1,script:1,style:1,text:1,textarea:1,title:1},St=t=>t.split(" ").reduce((e,n)=>(e[n]=!0,e),{}),Hn=St("animate animateColor animateMotion animateTransform circle clipPath color-profile defs desc discard ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feDropShadow feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font foreignObject g image line linearGradient marker mask metadata mpath path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view");St("area base br col command embed hr img input keygen link meta param source stop track use wbr ?xml");St("animate circle ellipse line path polygon polyline rect");var Pn=t=>t!=null&&typeof t.deref=="function",at=t=>Pn(t)?t.deref():t,fe=(t,e)=>{if(e=at(e),e==null)return t;if(w(e))return t+" "+e;let n=new Set(t.split(" "));for(let s in e)at(e[s])?n.add(s):n.delete(s);return[...n].join(" ")},Ln=(t,e,n)=>{e&&(t.id=e);let s=at(t.class);return n?(n=n.replace(/\./g," "),t.class=s?fe(n,s):n):s&&(t.class=w(s)?s:fe("",s)),t},xn=t=>{let e="",n;for(let s in t)n=at(t[s]),V(n)&&(n=n(t)),n!=null&&(e+=`${s}:${n};`);return e},Un=(t,e)=>{if(t==null||!e||!e.length)return t;let n=Object.assign({},t);for(let s of e){let i=n[s];R(i,"deref")&&(n[s]=i.deref())}return n},$n=t=>Object.keys(t).reduce((e,n)=>(e.push(`${n}: ${t[n]}`),e),[]).join(" "),qn="http://www.w3.org/2000/svg",lt=_,ue=Xt,he=w,de=(t,e)=>e.__init&&e.__init.apply(e.__this,[t,...e.__args]),ft=(t,e,n,s,i,r=!0)=>{if(lt(s)){let o=s[0];if(typeof o=="function")return ft(t,e,n,o.apply(null,[t.ctx,...s.slice(1)]),i);let c=s[1];if(c.__impl)return c.__impl.createTree(t,n,s,i,r);let a=e.createElement(n,o,c,i);if(s.length>2){let l=s.length;for(let u=2;u<l;u++)ft(t,e,a,s[u],void 0,r)}return r&&de(a,s),a}if(ue(s)){let o=[];for(let c of s)o.push(ft(t,e,n,c,i,r));return o}return s==null?n:e.createTextElement(n,s)},ut=(t,e,n,s,i=0)=>{if(lt(s)){let r=e.getChild(n,i);typeof s[0]=="function"&&ut(t,e,n,s[0].apply(null,[t.ctx,...s.slice(1)]),i);let o=s[1];if(o.__impl)return o.__impl.hydrateTree(t,n,s,i);de(r,s);for(let c in o)c[0]==="o"&&c[1]==="n"&&e.setAttrib(r,c,o[c]);for(let c=s.length,a=2;a<c;a++)ut(t,e,r,s[a],a-2)}else if(ue(s))for(let r of s)ut(t,e,n,r,i),i++},zn=(t,e,n,s)=>{let i=Hn[e]?document.createElementNS(qn,e):document.createElement(e);return n&&Vn(i,n),me(t,i,s)},Gn=(t,e,n)=>me(t,document.createTextNode(e),n),me=(t,e,n)=>t?n===void 0?t.appendChild(e):t.insertBefore(e,t.children[n]):e,Bn=(t,e)=>t.children[e],Wn=(t,e,n,s,i,r=!0)=>(e.removeChild(n,s),e.createTree(t,n,i,s,r)),Qn=(t,e)=>t.textContent=e,Vn=(t,e)=>{for(let n in e)pe(t,n,e[n],e);return t},pe=(t,e,n,s)=>{if(e.startsWith("__"))return;let i=e[0]==="o"&&e[1]==="n";if(!i&&typeof n=="function"&&(n=n(s)),n!==void 0&&n!==!1)switch(e){case"style":Jn(t,n);break;case"value":Xn(t,n);break;case"prefix":t.setAttribute(e,he(n)?n:$n(n));break;case"accesskey":t.accessKey=n;break;case"contenteditable":t.contentEditable=n;break;case"tabindex":t.tabIndex=n;break;case"align":case"autocapitalize":case"checked":case"dir":case"draggable":case"hidden":case"id":case"lang":case"namespaceURI":case"scrollTop":case"scrollLeft":case"title":t[e]=n;break;default:i?Yn(t,e.substr(2),n):t.setAttribute(e,n===!0?"":n)}else t[e]!=null?t[e]=null:t.removeAttribute(e);return t},Xn=(t,e)=>{let n;switch(t.type){case"text":case"textarea":case"password":case"search":case"number":case"email":case"url":case"tel":case"date":case"datetime-local":case"time":case"week":case"month":if((n=t.value)!==void 0&&typeof e=="string"){let s=e.length-(n.length-(t.selectionStart||0));t.value=e,t.selectionStart=t.selectionEnd=s;break}default:t.value=e}},Kn=(t,e,n)=>{for(let s=e.length;--s>=0;){let i=e[s];i[0]==="o"&&i[1]==="n"?Zn(t,i.substr(2),n[i]):t.hasAttribute(i)?t.removeAttribute(i):t[i]=null}},Jn=(t,e)=>(t.setAttribute("style",xn(e)),t),Yn=(t,e,n)=>he(n)?t.setAttribute("on"+e,n):lt(n)?t.addEventListener(e,...n):t.addEventListener(e,n),Zn=(t,e,n)=>lt(n)?t.removeEventListener(e,...n):t.removeEventListener(e,n),ts=(t,e)=>{let n=t.children[e];n!==void 0&&t.removeChild(n)},es=(t,e=n=>n!==void 0?": "+n:"")=>class extends Error{constructor(n){super(t(n)+e(n))}},ns=es(()=>"illegal argument(s)"),ss=t=>{throw new ns(t)},ht=_,is=Xt,rs=fn,os=(t,e)=>{let n=t[0],s=rs(t[1]),i,r,o;return(typeof n!="string"||!(i=Cn.exec(n)))&&ss(`${n} is not a valid tag name`),r=i[1],n===r&&s&&(!e||t[1].key)?t:(o=Ln(s?Object.assign({},t[1]):{},i[2],i[3]),o.__skip&&t.length<3?[r,o]:[r,o,...t.slice(s?2:1)])},cs=(t,e)=>D(e,t,t.ctx,[0],t.keys!==!1,t.span!==!1),D=(t,e,n,s,i,r)=>{if(t!=null){if(ht(t)){if(t.length===0)return;let o,c=t[1],a;if(c&&(a=c.__impl)&&(a=a.normalizeTree))return a(e,t);let l=t[0];if(typeof l=="function")return D(l.apply(null,[n,...t.slice(1)]),e,n,s,i,r);if(typeof l.render=="function"){let u=[n,...t.slice(1)];return o=D(l.render.apply(l,u),e,n,s,i,r),ht(o)&&(o.__this=l,o.__init=l.init,o.__release=l.release,o.__args=u),o}return o=os(t,i),c=o[1],c.__normalize===!1?o:(i&&c.key===void 0&&(c.key=s.join("-")),o.length>2?as(o,c,e,n,s,i,r):o)}return typeof t=="function"?D(t(n),e,n,s,i,r):typeof t.toHiccup=="function"?D(t.toHiccup(e.ctx),e,n,s,i,r):typeof t.deref=="function"?D(t.deref(),e,n,s,i,r):r?["span",i?{key:s.join("-")}:{},t.toString()]:t.toString()}},as=(t,e,n,s,i,r,o)=>{let c=t[0],a=[c,e];o=o&&!Nn[c];for(let l=2,u=2,h=0,f=t.length;l<f;l++){let d=t[l];if(d!=null){let p=ht(d);if(p&&ht(d[0])||!p&&is(d))for(let m of d)m=D(m,n,s,i.concat(h),r,o),m!==void 0&&(a[u++]=m),h++;else d=D(d,n,s,i.concat(h),r,o),d!==void 0&&(a[u++]=d),h++}}return a},ls={createTree(t,e,n,s,i){return ft(t,this,e,n,s,i)},hydrateTree(t,e,n,s){return ut(t,this,e,n,s)},diffTree(t,e,n,s,i){le(t,this,e,n,s,i)},normalizeTree:cs,getElementById(t){return document.getElementById(t)},getChild:Bn,createElement:zn,createTextElement:Gn,replaceChild(t,e,n,s,i){Wn(t,this,e,n,s,i)},removeChild:ts,setContent:Qn,removeAttribs:Kn,setAttrib:pe},fs=(t,e)=>w(t)?e.getElementById(t):t,ge=(t,e={},n=ls)=>{let s=Object.assign({root:"app"},e),i=[],r=!0,o=fs(s.root,n),c=()=>{if(r){s.ctx=Un(e.ctx,s.autoDerefKeys);let a=n.normalizeTree(s,t);a!=null&&(s.hydrate?(n.hydrateTree(s,o,a),s.hydrate=!1):n.diffTree(s,o,i,a),i=a),r&&requestAnimationFrame(c)}};return requestAnimationFrame(c),()=>r=!1};function dt(t,e,n,s){var i=arguments.length,r=i<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(t,e,n,s);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r}var mt=(t,e={})=>{let n=Reflect.ownKeys(t),s=Reflect.ownKeys(e),i=Symbol("isa");function r(o){for(let c of n){let a=Object.getOwnPropertyDescriptor(o.prototype,c);!a||a.configurable?Object.defineProperty(o.prototype,c,{value:t[c],writable:!0}):console.log(`not patching: ${o.name}.${c.toString()}`)}return Object.defineProperty(o.prototype,i,{value:!0}),o}for(let o of s)Object.defineProperty(r,o,{value:e[o],enumerable:e.propertyIsEnumerable(o)});return Object.defineProperty(r,Symbol.hasInstance,{value:o=>!!o[i]}),r};var L=(t,e=n=>n!==void 0?": "+n:"")=>class extends Error{constructor(n){super(t(n)+e(n))}};var us=mt({addWatch(t,e){return this._watches=this._watches||{},this._watches[t]?!1:(this._watches[t]=e,!0)},removeWatch(t){if(!!this._watches)return this._watches[t]?(delete this._watches[t],!0):!1},notifyWatches(t,e){if(!this._watches)return;let n=this._watches;for(let s in n)n[s](s,t,e)}}),hs=L(()=>"illegal state"),ds=t=>{throw new hs(t)},ms=t=>t&&(t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Int8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Uint8ClampedArray),pt=t=>_(t)?t:w(t)?t.length>0?t.split("."):[]:t!=null?[t]:[],_e=t=>ye(t);function ye(t){let e=pt(t),[n,s,i,r]=e;switch(e.length){case 0:return o=>o;case 1:return o=>o!=null?o[n]:void 0;case 2:return o=>o!=null&&(o=o[n])!=null?o[s]:void 0;case 3:return o=>o!=null&&(o=o[n])!=null&&(o=o[s])!=null?o[i]:void 0;case 4:return o=>o!=null&&(o=o[n])!=null&&(o=o[s])!=null&&(o=o[i])!=null?o[r]:void 0;default:return o=>{let c=e.length-1,a=o;for(let l=0;a!=null&&l<=c;l++)a=a[e[l]];return a}}}var ve=t=>kt(t);function kt(t){let e=pt(t),[n,s,i,r]=e;switch(e.length){case 0:return(c,a)=>a;case 1:return(c,a)=>(c=O(c),c[n]=a,c);case 2:return(c,a)=>{let l;return c=O(c),c[n]=l=O(c[n]),l[s]=a,c};case 3:return(c,a)=>{let l,u;return c=O(c),c[n]=l=O(c[n]),l[s]=u=O(l[s]),u[i]=a,c};case 4:return(c,a)=>{let l,u,h;return c=O(c),c[n]=l=O(c[n]),l[s]=u=O(l[s]),u[i]=h=O(u[i]),h[r]=a,c};default:let o;for(let c=e.length;--c>=0;)o=ps(e[c],o);return o}}var O=t=>_(t)||ms(t)?t.slice():Object.assign({},t),ps=(t,e)=>(n,s)=>(n=O(n),n[t]=e?e(n[t],s):s,n),W=(t,e,n,...s)=>gs(t,e,n,...s);function gs(t,e,n,...s){return kt(e)(t,n.apply(null,(s.unshift(ye(e)(t)),s)))}var gt=(t,e,n)=>kt(e)(t,n),F=class{constructor(e,n){n&&!n(e)&&ds("initial state value did not validate"),this._value=e,this.valid=n}get value(){return this._value}set value(e){this.reset(e)}deref(){return this._value}equiv(e){return this===e}reset(e){let n=this._value;return this.valid&&!this.valid(e)?n:(this._value=e,this.notifyWatches(n,e),e)}resetIn(e,n){return this.reset(gt(this._value,e,n))}resetInUnsafe(e,n){return this.reset(gt(this._value,e,n))}swap(e,...n){return this.reset(e.apply(null,[this._value,...n]))}swapIn(e,n,...s){return this.reset(W(this._value,e,n,...s))}swapInUnsafe(e,n,...s){return this.reset(W(this._value,e,n,...s))}addWatch(e,n){}removeWatch(e){}notifyWatches(e,n){}release(){return delete this._watches,delete this._value,!0}};F=dt([us],F);var Ee=Object.getPrototypeOf({}),yt="function",we="string",j=(t,e)=>{let n;if(t===e)return!0;if(t!=null){if(typeof t.equiv===yt)return t.equiv(e)}else return t==e;if(e!=null){if(typeof e.equiv===yt)return e.equiv(t)}else return t==e;return typeof t===we||typeof e===we?!1:(n=Object.getPrototypeOf(t),(n==null||n===Ee)&&(n=Object.getPrototypeOf(e),n==null||n===Ee)?Es(t,e):typeof t!==yt&&t.length!==void 0&&typeof e!==yt&&e.length!==void 0?ys(t,e):t instanceof Set&&e instanceof Set?_s(t,e):t instanceof Map&&e instanceof Map?vs(t,e):t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():t instanceof RegExp&&e instanceof RegExp?t.toString()===e.toString():t!==t&&e!==e)},ys=(t,e,n=j)=>{let s=t.length;if(s===e.length)for(;--s>=0&&n(t[s],e[s]););return s<0},_s=(t,e,n=j)=>t.size===e.size&&n([...t.keys()].sort(),[...e.keys()].sort()),vs=(t,e,n=j)=>t.size===e.size&&n([...t].sort(),[...e].sort()),Es=(t,e,n=j)=>{if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let s in t)if(!e.hasOwnProperty(s)||!n(t[s],e[s]))return!1;return!0};var ws=0,Ts=()=>ws++;function jt(t,e,n,s,i){return new Te(t,e,n,s,i)}var Te=class{constructor(e,n,s,i=!0,r=j){this.parent=e,this.id=`view-${Ts()}`,this.tx=s||(a=>a),this.path=pt(n),this.isDirty=!0,this.isLazy=i;let o=_e(this.path),c=this.parent.deref();this.unprocessed=c?o(c):void 0,i||(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),e.addWatch(this.id,(a,l,u)=>{let h=l&&o(l),f=u&&o(u);r(f,h)||(i?this.unprocessed=f:this.state=this.tx(f),this.isDirty=!0)})}get value(){return this.deref()}deref(){return this.isDirty&&(this.isLazy&&(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),this.isDirty=!1),this.state}changed(){return this.isDirty}view(){return this.isDirty&&this.isLazy?this.tx(this.unprocessed):this.state}release(){return this.unprocessed=void 0,this.isLazy||(this.state=this.tx(void 0)),this.isDirty=!0,this.parent.removeWatch(this.id)}};var As=L(()=>"illegal argument(s)"),_t=t=>{throw new As(t)};var It;(function(t){t[t.FINE=0]="FINE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.SEVERE=4]="SEVERE",t[t.NONE=5]="NONE"})(It||(It={}));var Os=Object.freeze({level:It.NONE,fine(){},debug(){},info(){},warn(){},severe(){}}),Ss=t=>t instanceof Promise,Q="--set-value",ks="--update-value",Dt="--toggle-value",Mt="--cancel",js="--dispatch",bt="--dispatch-async",Rt="--dispatch-now",Is="--delay",Ft="--fetch",S="--state",Ds="--redo",Ms="--undo",x=Os,Ae=class{constructor(e,n){this.handlers={},this.effects={},this.eventQueue=[],this.priorities=[],this.addBuiltIns(),e&&this.addHandlers(e),n&&this.addEffects(n)}addBuiltIns(){this.addEffects({[js]:[e=>this.dispatch(e),-999],[bt]:[([e,n,s,i],r,o)=>{let c=this.effects[e];if(c){let a=c(n,r,o);Ss(a)?a.then(l=>this.dispatch([s,l])).catch(l=>this.dispatch([i,l])):x.warn("async effect did not return Promise")}else x.warn(`skipping invalid async effect: ${e}`)},-999],[Is]:[([e,n])=>new Promise(s=>setTimeout(()=>s(n),e)),1e3],[Ft]:[e=>fetch(e).then(n=>{if(!n.ok)throw new Error(n.statusText);return n}),1e3]})}addHandler(e,n){let s=this.interceptorsFromSpec(n);s.length>0?(this.handlers[e]&&(this.removeHandler(e),x.warn(`overriding handler for ID: ${e}`)),this.handlers[e]=s):_t(`no handlers in spec for ID: ${e}`)}addHandlers(e){for(let n in e)this.addHandler(n,e[n])}addEffect(e,n,s=1){this.effects[e]&&(this.removeEffect(e),x.warn(`overriding effect for ID: ${e}`)),this.effects[e]=n;let i=[e,s],r=this.priorities;for(let o=0;o<r.length;o++)if(i[1]<r[o][1]){r.splice(o,0,i);return}r.push(i)}addEffects(e){for(let n in e){let s=e[n];_(s)?this.addEffect(n,s[0],s[1]):this.addEffect(n,s)}}instrumentWith(e,n){let s=e.map(Oe),i=this.handlers;for(let r of n||Object.keys(i)){let o=i[r];o&&(i[r]=s.concat(o))}}removeHandler(e){delete this.handlers[e]}removeHandlers(e){for(let n of e)this.removeHandler(n)}removeEffect(e){delete this.effects[e];let n=this.priorities;for(let s=n.length-1;s>=0;s--)if(e===n[s][0]){n.splice(s,1);return}}removeEffects(e){for(let n of e)this.removeEffect(n)}context(){return this.currCtx}dispatch(...e){this.eventQueue.push(...e)}dispatchNow(...e){(this.currQueue||this.eventQueue).push(...e)}dispatchLater(e,n=17){setTimeout(()=>this.dispatch(e),n)}processQueue(e){if(this.eventQueue.length>0){this.currQueue=[...this.eventQueue],this.eventQueue.length=0,e=this.currCtx=e||{};for(let n of this.currQueue)this.processEvent(e,n);return this.currQueue=this.currCtx=void 0,this.processEffects(e),!0}return!1}processEvent(e,n){let s=this.handlers[n[0]];if(!s){x.warn(`missing handler for event type: ${n[0].toString()}`);return}!this.processForward(e,s,n)||this.processReverse(e,s,n)}processForward(e,n,s){let i=!1;for(let r=0,o=n.length;r<o&&!e[Mt];r++){let c=n[r];c.pre&&this.mergeEffects(e,c.pre(e[S],s,this,e)),i=i||!!c.post}return i}processReverse(e,n,s){for(let i=n.length;--i>=0&&!e[Mt];){let r=n[i];r.post&&this.mergeEffects(e,r.post(e[S],s,this,e))}}processEffects(e){let n=this.effects;for(let s of this.priorities){let i=s[0],r=e[i];r!==void 0&&this.processEffect(e,n,i,r)}}processEffect(e,n,s,i){let r=n[s];if(s!==S)for(let o of i)r(o,this,e);else r(i,this,e)}mergeEffects(e,n){if(!!n)for(let s in n){let i=n[s];if(i!=null)if(s===S||s===Mt)e[s]=i;else if(s===Rt)if(_(i[0]))for(let r of i)r&&this.dispatchNow(r);else this.dispatchNow(i);else if(e[s]||(e[s]=[]),_(i[0]))for(let r of i)r!==void 0&&e[s].push(r);else e[s].push(i)}}interceptorsFromSpec(e){return _(e)?e.map(Oe):V(e)?[{pre:e}]:[e]}},Ct=class extends Ae{constructor(e,n,s){super(n,s);this.state=e||new F({})}deref(){return this.state.deref()}addBuiltIns(){super.addBuiltIns(),this.addHandlers({[Q]:(e,[n,[s,i]])=>({[S]:gt(e,s,i)}),[ks]:(e,[n,[s,i,...r]])=>({[S]:W(e,s,i,...r)}),[Dt]:(e,[n,s])=>({[S]:W(e,s,i=>!i)}),[Ms]:Se("undo"),[Ds]:Se("redo")}),this.addEffects({[S]:[e=>this.state.reset(e),-1e3]})}processQueue(e){if(this.eventQueue.length>0){let n=this.state.deref();this.currQueue=[...this.eventQueue],this.eventQueue.length=0,e=this.currCtx=Object.assign(Object.assign({},e),{[S]:n});for(let s of this.currQueue)this.processEvent(e,s);return this.currQueue=this.currCtx=void 0,this.processEffects(e),this.state.deref()!==n}return!1}},Oe=t=>V(t)?{pre:t}:t,Se=t=>(e,[n,s],i,r)=>{let o=s?s[0]:"history";if(R(r[o],t)){let c=r[o][t]();return{[S]:i.state.deref(),[Rt]:s?c!==void 0?s[1]:s[2]:void 0}}else x.warn("no history in context")},ke=(t,e)=>console.log("event:",e),je=t=>()=>({[Rt]:t}),X=(t,e)=>{let n=ve(t);return(s,[i,r])=>({[S]:n(s,e?e(r):r)})};var vt=Symbol(),J=()=>{},Ie="*",bs=L(()=>"illegal arity"),C=t=>{throw new bs(t)};var Rs={},Nt=(()=>{try{return Rs.env.UMBRELLA_ASSERTS==="1"}catch(t){}return!1})()?(t,e="assertion failed")=>{if(typeof t=="function"&&!t()||!t)throw new Error(typeof e=="function"?e():e)}:J,De=(t,e)=>{if(!!t){for(let n=0,s=t.length,i;n<s;n++)if(i=t[n],i[0].call(i[1],e),e.canceled)return}},Fs=mt({addListener(t,e,n){let s=(this._listeners=this._listeners||{})[t];return!s&&(s=this._listeners[t]=[]),this.__listener(s,e,n)===-1?(s.push([e,n]),!0):!1},removeListener(t,e,n){let s;if(!(s=this._listeners))return!1;let i=s[t];if(i){let r=this.__listener(i,e,n);if(r!==-1)return i.splice(r,1),!i.length&&delete s[t],!0}return!1},notify(t){let e;if(!(e=this._listeners))return!1;t.target===void 0&&(t.target=this),De(e[t.id],t),De(e[Ie],t)},__listener(t,e,n){let s=t.length;for(;--s>=0;){let i=t[s];if(i[0]===e&&i[1]===n)break}return s}}),M="route-changed",Ht=class{constructor(e){if(e.authenticator=e.authenticator||((n,s,i)=>({id:n.id,title:n.title,params:i})),e.prefix=e.prefix===void 0?"/":e.prefix,e.separator=e.separator||"/",this.config=e,Nt(this.routeForID(this.config.defaultRouteID)!==void 0,`missing config for default route: '${this.config.defaultRouteID}'`),e.initialRouteID){let n=this.routeForID(e.initialRouteID);Nt(n!==void 0,`missing config for initial route: ${this.config.initialRouteID}`),Nt(!Cs(n),"initial route MUST not be parametric")}}addListener(e,n,s){}removeListener(e,n,s){}notify(e){}start(){if(this.config.initialRouteID){let e=this.routeForID(this.config.initialRouteID);this.current={id:e.id,title:e.title,params:{}},this.notify({id:M,value:this.current})}}route(e){e.charAt(0)==="#"&&(e=e.substr(1)),e=e.substr(this.config.prefix.length);let n=this.matchRoutes(e);if(!n){if(!this.handleRouteFailure())return;let s=this.routeForID(this.config.defaultRouteID);n={id:s.id,title:s.title,params:{}}}return j(n,this.current)||(this.current=n,this.notify({id:M,value:n})),n}format(...e){let[n,s,i]=e,r;switch(e.length){case 3:r={id:n,params:s};break;case 2:w(n)?r={id:n,params:s}:(i=s,r=n);break;case 1:r=w(n)?{id:n}:n;break;default:C(e.length)}let o=this.routeForID(r.id);if(o){let c=r.params||{};return(i?"#":"")+this.config.prefix+o.match.map(a=>a.charAt(0)==="?"?(a=c[a.substr(1)])!=null?a:"NULL":a).join(this.config.separator)}else _t(`invalid route ID: ${r.id}`)}routeForID(e){return this.config.routes.find(n=>n.id===e)}matchRoutes(e){let n=this.config.routes,s=e.split(this.config.separator);for(let i=0,r=n.length;i<r;i++){let o=this.matchRoute(s,n[i]);if(o)return o}}matchRoute(e,n){let s=n.match,i=s.length;if(e.length===i){let r={};for(let o=0;o<i;o++){let c=s[o];if(c.charAt(0)==="?")r[c.substr(1)]=e[o];else if(e[o]!==c)return}return n.validate&&!this.validateRouteParams(r,n.validate)?void 0:n.auth?this.config.authenticator(n,e,r):{id:n.id,title:n.title,params:r}}}validateRouteParams(e,n){for(let s in n)if(e[s]!==void 0){let i=n[s];if(i.coerce&&(e[s]=i.coerce(e[s])),i.check&&!i.check(e[s]))return!1}return!0}handleRouteFailure(){return!0}};Ht=dt([Fs],Ht);var Cs=t=>t.match.some(e=>e.charAt(0)==="?"),Pt=class extends Ht{constructor(e){super(e);this.useFragment=e.useFragment!==!1,this.ignoreHashChange=!1}start(){if(window.addEventListener("popstate",this.handlePopChange()),this.useFragment&&window.addEventListener("hashchange",this.handleHashChange()),this.config.initialRouteID){let e=this.routeForID(this.config.initialRouteID);this.route(this.format({id:e.id,title:e.title}))}else this.route(this.useFragment?location.hash:location.pathname)}release(){window.removeEventListener("popstate",this.popHandler),this.useFragment&&window.removeEventListener("hashchange",this.hashHandler)}route(e,n=!0){let s=this.current,i=super.route(e);return i&&!j(i,s)&&(this.currentPath=this.format(i),n&&history.pushState(this.currentPath,i.title||window.document.title||"",this.currentPath)),i}routeTo(e){this.useFragment&&(location.hash=e),this.route(e)}format(...e){let n;switch(e.length){case 2:n={id:e[0],params:e[1]};break;case 1:n=w(e[0])?{id:e[0]}:e[0];break;default:C(e.length)}return super.format(n,this.useFragment)}handlePopChange(){return this.popHandler=this.popHandler||(e=>{this.route(e.state||(this.useFragment?location.hash:location.pathname),!1)}).bind(this)}handleHashChange(){return this.hashHandler=this.hashHandler||(e=>{if(!this.ignoreHashChange){let n=e.newURL.substr(e.newURL.indexOf("#"));n!==this.currentPath&&this.route(n,!1)}}).bind(this)}handleRouteFailure(){return this.ignoreHashChange=!0,location.hash=this.format({id:this.routeForID(this.config.defaultRouteID).id}),this.ignoreHashChange=!1,!0}};var Ns=1e3,Hs=60*Ns,Ps=[31,28,31,30,31,30,31,31,30,31,30,31],Me=(t,e)=>new U(t,e),U=class{constructor(e=Date.now(),n="t"){let s=Et(e),i="yMdhmst".indexOf(n);this.y=s.getUTCFullYear(),this.M=i>=1?s.getUTCMonth():0,this.d=i>=2?s.getUTCDate():1,this.h=i>=3?s.getUTCHours():0,this.m=i>=4?s.getUTCMinutes():0,this.s=i>=5?s.getUTCSeconds():0,this.t=i>=6?s.getUTCMilliseconds():0}copy(){return new U(this.getTime())}getTime(){return Date.UTC(this.y,this.M,this.d,this.h,this.m,this.s,this.t)}compare(e){return this.getTime()-Et(e).getTime()}equiv(e){return e instanceof U||e instanceof Date||typeof e=="number"?this.compare(e)===0:!1}eqDelta(e,n=0){return Math.abs(this.getTime()-Et(e).getTime())<=n}daysInMonth(){return Ps[this.M]+(this.M===1&&this.isLeapYear()?1:0)}isLeapYear(){return!(this.y%4)&&(!!(this.y%100)||!(this.y%400))}incMillisecond(){return++this.t>999&&(this.t=0,this.incSecond()),this.t}decMillisecond(){return--this.t<0&&(this.t=999,this.decSecond()),this.t}incSecond(){return++this.s>59&&(this.s=0,this.incMinute()),this.s}decSecond(){return--this.s<0&&(this.s=59,this.decMinute()),this.s}incMinute(){return++this.m>59&&(this.m=0,this.incHour()),this.m}decMinute(){return--this.m<0&&(this.m=59,this.decHour()),this.m}incHour(){return++this.h>23&&(this.h=0,this.incDay()),this.h}decHour(){return--this.h<0&&(this.h=23,this.decDay()),this.h}incDay(){return++this.d>this.daysInMonth()&&(this.d=1,this.incMonth()),this.d}decDay(){return--this.d<1&&(this.decMonth(),this.d=this.daysInMonth()),this.d}incWeek(){this.d+=7;let e=this.daysInMonth();return this.d>e&&(this.d-=e,this.incMonth()),this.d}decWeek(){return this.d-=7,this.d<1&&(this.decMonth(),this.d+=this.daysInMonth()),this.d}incMonth(){return++this.M>11&&(this.M=0,++this.y),this.M}decMonth(){return--this.M<0&&(this.M=11,--this.y),this.M}incYear(){return++this.y}decYear(){return--this.y}toDate(){return new Date(this.getTime())}toJSON(){return this.toISOString()}toString(){return this.toDate().toUTCString()}toISOString(){return this.toDate().toISOString()}},Et=t=>typeof t=="number"?new Date(t):t instanceof U?t.toDate():t,Ls={months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},be=Ls,b=t=>t<10?"0"+t:String(t),Re={yyyy:t=>String(t.getFullYear()),yy:t=>String(t.getFullYear()%100),MMM:t=>be.months[t.getMonth()],MM:t=>b(t.getMonth()+1),M:t=>String(t.getMonth()+1),dd:t=>b(t.getDate()),d:t=>String(t.getDate()),E:t=>be.days[t.getDay()],HH:t=>b(t.getHours()),hh:t=>{let e=t.getHours()%12;return b(e>0?e:12)},h:t=>{let e=t.getHours()%12;return String(e>0?e:12)},mm:t=>b(t.getMinutes()),m:t=>String(t.getMinutes()),ss:t=>b(t.getSeconds()),s:t=>String(t.getSeconds()),S:t=>String(t.getMilliseconds()),A:t=>String(t.getHours()<12?"AM":"PM"),Z:t=>{let e=t.getTimezoneOffset(),n=Math.abs(e);return`${e<0?"-":"+"}${b(n/60|0)}:${b(n%60)}`},ZZ:t=>t.getTimezoneOffset()===0?"Z":Re.Z(t)},Fe=t=>(e,n=!1)=>{let s=Et(e);return n&&(s=new Date(s.getTime()+s.getTimezoneOffset()*Hs)),t.map(i=>{let r;return typeof i=="string"?i.startsWith("\\")?i.substr(1):(r=Re[i])?r(s):i:typeof i=="function"?i(s):i}).join("")};var xs=t=>t!=null&&typeof t!="function"&&t.length!==void 0,Ce=t=>t!=null&&typeof t[Symbol.iterator]=="function",Lt=t=>R(t,"xform")?t.xform():t,xt=class{constructor(e){this.value=e}deref(){return this.value}},Ut=t=>t instanceof xt,Ne=t=>t instanceof xt?t.deref():t,Us=t=>t.length===2?[void 0,t[1]]:t.length===3?[t[1],t[2]]:C(t.length);function Vs(...t){let e=t[0],n=e[0],s=e[1],i=e[2];t=Us(t);let r=t[0]==null?n():t[0],o=t[1];return Ne(s(R(o,"$reduce")?o.$reduce(i,r):xs(o)?$s(i,r,o):qs(i,r,o)))}var $s=(t,e,n)=>{for(let s=0,i=n.length;s<i;s++)if(e=t(e,n[s]),Ut(e)){e=e.deref();break}return e},qs=(t,e,n)=>{for(let s of n)if(e=t(e,s),Ut(e)){e=e.deref();break}return e},zs=(t,e)=>[t,n=>n,e];function He(t){return t?[...t]:zs(()=>[],(e,n)=>(e.push(n),e))}function*Pe(t,e){let n=Lt(t)([J,J,(s,i)=>i])[2];for(let s of e){let i=n(vt,s);if(Ut(i)){i=Ne(i.deref()),i!==vt&&(yield i);return}i!==vt&&(yield i)}}var Le=(t,e)=>[t[0],t[1],e];function $(t,e){return Ce(e)?Pe($(t),e):n=>{let s=n[2];return Le(n,(i,r)=>s(i,t(r)))}}function $t(...t){return Gs($t,Vs,t)}var Gs=(t,e,n)=>{let s,i;switch(n.length){case 4:i=n[3],s=n[2];break;case 3:i=n[2];break;case 2:return $(r=>t(n[0],n[1],r));default:C(n.length)}return e(Lt(n[0])(n[1]),s,i)};function xe(...t){let[e,n,s,i,r,o,c,a,l,u]=t;switch(t.length){case 0:C(0);case 1:return e;case 2:return(...f)=>e(n(...f));case 3:return(...f)=>e(n(s(...f)));case 4:return(...f)=>e(n(s(i(...f))));case 5:return(...f)=>e(n(s(i(r(...f)))));case 6:return(...f)=>e(n(s(i(r(o(...f))))));case 7:return(...f)=>e(n(s(i(r(o(c(...f)))))));case 8:return(...f)=>e(n(s(i(r(o(c(a(...f))))))));case 9:return(...f)=>e(n(s(i(r(o(c(a(l(...f)))))))));case 10:default:let h=(...f)=>e(n(s(i(r(o(c(a(l(u(...f))))))))));return t.length===10?h:xe(h,...t.slice(10))}}function qt(t,e){return Ce(e)?Pe(qt(t),e):n=>{let s=n[2],i=t;return Le(n,(r,o)=>i>0?(i--,r):s(r,o))}}function Ue(...t){return t=t.map(Lt),xe.apply(null,t)}var wt=(t,e)=>{if(!e)return t;let n=Object.assign(Object.assign({},t),e);return t.class&&e.class&&(n.class=t.class+" "+e.class),t.style&&e.style&&(n.style=Object.assign(Object.assign({},t.style),e.style)),n},$e=(t,e)=>["a",w(t)?{href:t}:t,e];var qe=(...t)=>["svg",{viewBox:"0 0 32 32"},...t],Ve=qe(["path",{d:"M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4l6.6 6.6L8 22.6 9.4 24l6.6-6.6 6.6 6.6 1.4-1.4-6.6-6.6L24 9.4z"}]),ze=qe(["path",{d:"M4 24h24v2H4zM4 12h24v2H4zM4 18h24v2H4zM4 6h24v2H4z"}]);var Ge=(t,e)=>{let n={};for(let s in e){let i=e[s];n[s]=_(i)?jt(t,i[0],i[1]):jt(t,i)}return n},N=(t,e,n=null)=>{t.dispatch([Q,["nav.visible",!1]]),t.dispatch([v.ROUTE_TO,[e,n]])},Tt=Fe(["yyyy",".","MM"]),Be=(t,e)=>{let n=t.body.getReader(),s=new TextDecoder,i="";n.read().then(function r({done:o,value:c}){if(o)e(JSON.parse(i.replace(/(?:\r\n|\r|\n)/g,"")));else return i+=s.decode(c),n.read().then(r)})};var We=({ui:t},e,n,s)=>$e({href:n,...wt(t.link.default,e)},s),Bs={init(t,e,n,s){let i=t.childNodes[0],r=new Image;r.src=s,r.onload=()=>i.src=s},render({ui:t},e,n,s){let i=s[1]/s[0];return["div",wt(t.image.main,{key:n,class:"h-0",style:{"padding-top":`${(i*100).toFixed(2)}%`}}),["img",t.image.content]]},release(){}},Vt=(t,e,n,s,i)=>["a",{...wt(t.ui.link.default,s),onclick:r=>{r.preventDefault(),N(t.bus,e,n)}},i],Ws=(t,e)=>["div",t.ui.item.thumb.title,[Vt,E.ITEM,{id:e.id},null,e.title]],zt=(t,e)=>{let n=[];for(let s of e)n.push(["span",t.ui.tag.sign,"#"]),n.push(["span",t.ui.tag.normal,s.name]),n.push(["span",", "]);return n.pop(),["div",n]},Qe=(t,e)=>`/assets/${t}/${e}`,Qs=(t,e)=>["div",{...t.ui.item.thumb.cover,onclick:n=>{n.preventDefault(),N(t.bus,E.ITEM,{id:e.id})}},["img",{src:Qe("images",`${e.id}/${e.images[0].name}`),...t.ui.item.thumb.image}]],Xs=(t,e)=>["div",t.ui.item.thumb.main,[Qs,e],["div",t.ui.item.thumb.content,["div",t.ui.item.thumb.date,Tt(e.date)],[Ws,e],[zt,e.tags]]],Xe=(t,e)=>["div",t.ui.item.list,$(n=>[Xs,n],e)],Js=(t,e)=>["div",t.ui.item.full.header,["div",t.ui.item.full.date,Tt(e.date)],["h1",t.ui.item.full.title,e.title],[zt,e.tags]],Je=(t,e,n)=>[Bs,t.ui.item.full.image,Qe("images",`${e.id}/${n.name}`),[n.width,n.height]],Ye=(t,e)=>{let n=$t(Ue(qt(1),$(s=>["p",[Je,e,s]])),He(),e.images);return["div",{key:e.id,...t.ui.item.full.main},[Js,e],["div",t.ui.item.full.content,["p",[Je,e,e.images[0]]],["p",e.description],["p",[We,t.ui.link.external,e.url,"[more]"]],...n]]},Ys=t=>[Vt,E.HOME,null,null,["h1",t.ui.title,"Zihou Ng"]],Zs=t=>{let e=t.views.nav.deref().visible,n={...t.ui.nav.button,onclick:()=>t.bus.dispatch([Dt,"nav.visible"])};return["div",n,e?Ve:ze]},Ks=t=>["div",t.ui.header,Ys,Zs],ti=(t,e)=>["div",t.ui.item.slim.main,["div",t.ui.item.slim.date,Tt(e.date)],["div",t.ui.item.slim.body,[Vt,E.ITEM,{id:e.id},t.ui.item.slim.title,e.title],[zt,e.tags]]],ei=t=>{let e=t.views.items.deref();return["div",$(n=>[ti,n],e)]},Gt=(t,e,n)=>[We,t.ui.link.external,e,n],ni=t=>["div",["div",t.ui.nav.links,["div",[Gt,"https://github.com/stwind","github"]],["div",[Gt,"https://observablehq.com/@stwind","observable"]],["div",[Gt,"https://qiita.com/stwind","qiita"]],["div",t.ui.email,"stwindfy#gmail dot com"]],[ei]],Ze=t=>{let e=t.views.nav.deref().visible;return["div",t.ui.app,Ks,["div",t.ui.profile,"Software Engineer"],["div",t.ui.content,e?ni:t.views.content]]};var E;(function(t){t.HOME="home",t.ITEM="item",t.TAG="tag"})(E||(E={}));var Ke=[{id:E.HOME,title:"Home page",match:["home"]},{id:E.ITEM,title:"Item",match:["items","?id"]}],tn={link:{default:{class:"cursor-pointer hover:underline"},external:{class:"text-red"}},image:{main:{class:"bg-gray-200 relative"},content:{class:"object-cover absolute w-full h-full inset-0"}},email:{class:"text-green"},app:{class:`
    leading-snug
    relative font-light subpixel-antialiased text-black fs--1
    px-4 max-w-4xl mx-auto`},header:{class:"inset-x-0 sticky font-thin text-black top-0 py-5 mb-8 sm:mb-12 md:mb-20 z-10"},title:{class:"fs-1 inline-block"},profile:{class:"text-gray-600 fixed top-12 -z-1"},content:{class:"w-full py-4"},nav:{button:{class:"h-5 w-5 svg-icon absolute top-7 -right-0.5 cursor-pointer"},links:{class:"mb-16"}},item:{list:{class:"grid gap-8 grid-cols-1 sm:grid-cols-2"},thumb:{main:{class:"relative"},cover:{class:"h-52 md:h-60 bg-gray-200 cursor-pointer overflow-hidden mb-2"},image:{class:"h-full w-full object-cover"},content:{class:""},title:{class:"fs-0 text-gray-600"},date:{class:"fs--2"}},full:{main:{class:"item-full relative"},header:{class:"mb-4 sm:mb-6"},date:{class:"fs--2"},title:{class:"font-thin fs-2 sm:fs-3 sm:text-gray-600 leading-tight"},content:{class:"bg-gray-98"},image:{class:"w-full"}},slim:{main:{class:"relative mb-6"},date:{class:"absolute font-mono top-1"},body:{class:"ml-14"},title:{class:"fs-0 text-gray-600"}}},tag:{sign:{class:"text-gray-500 fs--2"},normal:{class:"text-gray-600"},highlight:{class:"tag bg-black text-white"}}},en={nav:{visible:!1}},si={[E.HOME]:t=>[Xe,t.views.featured.deref()||[]],[E.ITEM]:({views:t,bus:e})=>{let n=t.route.deref(),s=t.items.deref();if(s){let i=s.find(r=>r.id==n.params.id);if(i)return[Ye,i];N(e,E.HOME)}}},nn={nav:"nav",items:"items",tags:"tags",featured:"featured",route:"route",content:["route.id",t=>si[t]]},v;(function(t){t.ROUTE_TO="route-to",t.FETCH_DATA="fetch-data",t.FETCH_DATA_DONE="fetch-data-done",t.FETCH_DATA_ERROR="fetch-data-error",t.INITIALIZE="initialize"})(v||(v={}));var Y;(function(t){t.ROUTE_TO="route-to"})(Y||(Y={}));var ii=t=>{let e=Object.fromEntries(t.tags.map(i=>[i.id,i])),n=t.items.map(i=>({...i,date:Me(Date.parse(i.date)),tags:i.tags.map(r=>e[r])})),s=t.featured.map(i=>n.find(r=>r.id==i));return{items:n,tags:e,featured:s}},sn={[v.FETCH_DATA]:()=>({[bt]:[Ft,"/data.json",v.FETCH_DATA_DONE,v.FETCH_DATA_ERROR]}),[v.FETCH_DATA_DONE]:(t,[e,n],s)=>Be(n,i=>s.dispatch([v.INITIALIZE,ii(i)])),[v.FETCH_DATA_ERROR]:ke,[v.INITIALIZE]:[X("items",t=>t.items),X("tags",t=>t.tags),X("featured",t=>t.featured)],[M]:[X("route"),je([Q,["nav.visible",!1]])],[v.ROUTE_TO]:(t,[e,n])=>({[Y.ROUTE_TO]:n})};import.meta.env=Ot;var Bt=new F(en),Z=new Ct(Bt,sn),H=new Pt({useFragment:!0,defaultRouteID:E.HOME,routes:Ke});H.addListener(M,t=>console.log(t.value));H.addListener(M,t=>Z.dispatch([M,t.value]));Z.addEffect(Y.ROUTE_TO,([t,e])=>H.routeTo(H.format(t,e)));var ri={state:Bt,bus:Z,ui:tn,views:Ge(Bt,nn)},oi=ge(({bus:t})=>t.processQueue()?Ze:null,{ctx:ri});Z.dispatch([v.FETCH_DATA]);H.start();function ci(t){let{id:e,params:n}=t;N(Z,e,n)}var K=void 0;K&&(K.accept(({module:t})=>{t.refresh(K.current)}),K.dispose(()=>{K.current=H.current,oi(),H.release()}));export{ci as refresh};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
//# sourceMappingURL=//dist//index.js.map
