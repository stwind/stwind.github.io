var rn=Object.defineProperty;var on=(e,t)=>{for(var n in t)rn(e,n,{get:t[n],enumerable:!0})};var At={};on(At,{MODE:()=>cn,NODE_ENV:()=>an,SSR:()=>ln});var cn="development",an="development",ln=!1;var V=e=>typeof e=="function";var v=Array.isArray;var T=e=>typeof e=="string";var R=(e,t)=>e!=null&&typeof e[t]=="function";var Xt=e=>e!=null&&typeof e!="string"&&typeof e[Symbol.iterator]=="function",Jt=Object.getPrototypeOf,fn=e=>{let t;return e!=null&&typeof e=="object"&&((t=Jt(e))===null||Jt(t)===null)},Yt=Symbol(),Zt=Object.getPrototypeOf({}),K="function",Kt="string",L=(e,t)=>{let n;if(e===t)return!0;if(e!=null){if(typeof e.equiv===K)return e.equiv(t)}else return e==t;if(t!=null){if(typeof t.equiv===K)return t.equiv(e)}else return e==t;return typeof e===Kt||typeof t===Kt?!1:(n=Object.getPrototypeOf(e),(n==null||n===Zt)&&(n=Object.getPrototypeOf(t),n==null||n===Zt)?mn(e,t):typeof e!==K&&e.length!==void 0&&typeof t!==K&&t.length!==void 0?un(e,t):e instanceof Set&&t instanceof Set?hn(e,t):e instanceof Map&&t instanceof Map?dn(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!==e&&t!==t)},un=(e,t,n=L)=>{let s=e.length;if(s===t.length)for(;--s>=0&&n(e[s],t[s]););return s<0},hn=(e,t,n=L)=>e.size===t.size&&n([...e.keys()].sort(),[...t.keys()].sort()),dn=(e,t,n=L)=>e.size===t.size&&n([...e].sort(),[...t].sort()),mn=(e,t,n=L)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let s in e)if(!t.hasOwnProperty(s)||!n(e[s],t[s]))return!1;return!0},tt,et,pn=[],gn=[],yn=e=>tt&&tt.length>=e?tt:tt=new Int32Array(e),_n=e=>et&&et.length>=e?et:et=new Int32Array(e),te=(e,t,n,s,i)=>{let r=t.length,o=e.linear;if(e.distance=r,i!=="only-distance"){for(let c=0,a=0;c<r;c++,a+=3)o[a]=s,o[a+1]=c,o[a+2]=t[c];if(i==="full"){let c=e[n];for(let a=0;a<r;a++)c[a]=t[a]}}return e},Tn=(e,t,n="full",s=L)=>{let i={distance:0,adds:{},dels:{},const:{},linear:[]};if(e===t||e==null&&t==null)return i;if(e==null||e.length===0)return te(i,t,"adds",1,n);if(t==null||t.length===0)return te(i,e,"dels",-1,n);let r=e.length>=t.length,o,c,a,l;r?(o=t,c=e):(o=e,c=t),a=o.length,l=c.length;let u=a+1,h=l-a,f=h+u,d=a+l+3,p=_n(d).fill(-1,0,d),m=yn(d).fill(-1,0,d),_=pn,y=gn,k=(q,Wt,Qt)=>{let Ot,I;Wt>Qt?(Ot=p[q-1],I=Wt):(Ot=p[q+1],I=Qt);let Z=I-(q-u);for(;Z<a&&I<l&&s(o[Z],c[I]);)Z++,I++;p[q]=y.length/3,y.push(Z,I,Ot),m[q]=I},w=-1,O;do{for(w++,O=-w+u;O<f;O++)k(O,m[O-1]+1,m[O+1]);for(O=f+w;O>f;O--)k(O,m[O-1]+1,m[O+1]);k(f,m[f-1]+1,m[f+1])}while(m[f]!==l);if(i.distance=h+2*w,n!=="only-distance"){for(w=p[f]*3;w>=0;)_.push(w),w=y[w+2]*3;n==="full"?vn(_,y,i,o,c,r):En(_,y,i,o,c,r,n==="only-distance-linear")}return _.length=0,y.length=0,i},vn=(e,t,n,s,i,r)=>{let o=n.linear,c=n.const,a=e.length,l=0,u=0,h,f,d,p;for(r?(h=n.dels,f=n.adds,d=-1,p=1):(h=n.adds,f=n.dels,d=1,p=-1);--a>=0;){let m=e[a],_=t[m],y=t[m+1],k=y-_;for(;l<_||u<y;){let w=u-l;k>w?(o.push(d,u,h[u]=i[u]),u++):k<w?(o.push(p,l,f[l]=s[l]),l++):(o.push(0,l,c[l]=s[l]),l++,u++)}}},En=(e,t,n,s,i,r,o)=>{let c=n.linear,a=r?-1:1,l=r?1:-1,u=e.length,h=0,f=0;for(;--u>=0;){let d=e[u],p=t[d],m=t[d+1],_=m-p;for(;h<p||f<m;){let y=f-h;_>y?(c.push(a,f,i[f]),f++):_<y?(c.push(l,h,s[h]),h++):(o&&c.push(0,h,s[h]),h++,f++)}}},An=(e,t,n="full",s=L)=>e===t?{distance:0}:n==="only-distance"?wn(e,t,s):On(e,t,s),wn=(e,t,n)=>{e||(e={}),t||(t={});let s=0;for(let i in e){let r=t[i];(r===void 0||!n(e[i],r))&&s++}for(let i in t)!(i in e)&&s++;return{distance:s}},On=(e,t,n)=>{e||(e={}),t||(t={});let s=0,i=[],r=[],o=[];for(let c in e){let a=t[c];a===void 0?(r.push(c),s++):n(e[c],a)||(o.push(c,a),s++)}for(let c in t)c in e||(i.push(c),s++);return{distance:s,adds:i,dels:r,edits:o}},ee=Object.getPrototypeOf({}),nt="function",ne="string",G=(e,t)=>{let n;if(e===t)return!0;if(e!=null){if(typeof e.equiv===nt)return e.equiv(t)}else return e==t;if(t!=null){if(typeof t.equiv===nt)return t.equiv(e)}else return e==t;return typeof e===ne||typeof t===ne?!1:(n=Object.getPrototypeOf(e),(n==null||n===ee)&&(n=Object.getPrototypeOf(t),n==null||n===ee)?oe(e,t):typeof e!==nt&&e.length!==void 0&&typeof t!==nt&&t.length!==void 0?se(e,t):e instanceof Set&&t instanceof Set?ie(e,t):e instanceof Map&&t instanceof Map?re(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!==e&&t!==t)},se=(e,t,n=G)=>{let s=e.length;if(s===t.length)for(;--s>=0&&n(e[s],t[s]););return s<0},ie=(e,t,n=G)=>e.size===t.size&&n([...e.keys()].sort(),[...t.keys()].sort()),re=(e,t,n=G)=>e.size===t.size&&n([...e].sort(),[...t].sort()),oe=(e,t,n=G)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let s in e)if(!t.hasOwnProperty(s)||!n(e[s],t[s]))return!1;return!0},st=Array.isArray,Sn=Math.max,ce=Object.getPrototypeOf({}),it="function",rt="string",ae=(()=>{let e=new Array(2048);for(let t=2,n=e.length;t<n;t++)e[t]=t-2;return e})(),kn=e=>{if(e<=ae.length)return ae.slice(0,e);let t=new Array(e);for(;--e>=2;)t[e]=e-2;return t},le=(e,t,n,s,i,r=0)=>{let o=i[1];if(o.__skip)return;if(o.__diff===!1){z(s),t.replaceChild(e,n,r,i);return}let c=s[1];if(c&&c.__skip){t.replaceChild(e,n,r,i,!1);return}let a=o.__impl;if(a&&a!==t)return a.diffTree(e,a,n,s,i,r);let l=Tn(s,i,"only-distance-linear",B);if(l.distance===0)return;let u=l.linear,h=t.getChild(n,r),f,d,p;if(u[0]!==0||s[1].key!==o.key){z(s),t.replaceChild(e,n,r,i);return}if((p=s.__release)&&p!==i.__release&&z(s),u[3]!==0&&(Dn(t,h,s[1],i[1]),l.distance===2))return;let m=u.length,_=s.length-1,y=Mn(u),k=kn(_+1);for(f=6;f<m;f+=3)d=u[f],!!d&&(d===-1?jn(e,t,h,s,i,u,f,y,k,_):In(e,t,h,u,f,y,k,_));(p=i.__init)&&p!=s.__init&&p.apply(i,[h,...i.__args])},jn=(e,t,n,s,i,r,o,c,a,l)=>{let u=r[o+2];if(st(u)){let h=u[1].key;if(h!==void 0&&c[h][2]!==void 0){let f=c[h];h=f[0],le(e,t,n,s[h],i[f[2]],a[h])}else{let f=r[o+1];z(u),t.removeChild(n,a[f]),bn(a,l,f)}}else typeof u===rt&&t.setContent(n,"")},In=(e,t,n,s,i,r,o,c)=>{let a=s[i+2];if(typeof a===rt)t.setContent(n,a);else if(st(a)){let l=a[1].key;if(l===void 0||r[l][0]===void 0){let u=s[i+1];t.createTree(e,n,a,o[u]),Rn(o,c,u)}}},bn=(e,t,n)=>{for(;t>n;t--)e[t]=Sn(e[t]-1,0)},Rn=(e,t,n)=>{for(;t>=n;t--)e[t]++},Dn=(e,t,n,s)=>{let i=An(n,s,"full",G);e.removeAttribs(t,i.dels,n);let r=Yt,o,c,a;for(a=i.edits,o=a.length;(o-=2)>=0;)c=a[o],c[0]==="o"&&c[1]==="n"&&e.removeAttribs(t,[c],n),c!=="value"?e.setAttrib(t,c,a[o+1],s):r=a[o+1];for(a=i.adds,o=a.length;--o>=0;)c=a[o],c!=="value"?e.setAttrib(t,c,s[c],s):r=s[c];r!==Yt&&e.setAttrib(t,"value",r,s)},z=e=>{if(st(e)){let t;if((t=e[1])&&t.__release===!1)return;for(e.__release&&(e.__release.apply(e.__this,e.__args),delete e.__release),t=e.length;--t>=2;)z(e[t])}},Mn=e=>{let t,n,s,i={};for(let r=e.length;(r-=3)>=0;)n=e[r+2],st(n)&&(t=n[1].key)!==void 0&&(s=i[t],!s&&(i[t]=s=[,,]),s[e[r]+1]=e[r+1]);return i},B=(e,t)=>{let n;if(e===t)return!0;if(e!=null){if(typeof e.equiv===it)return e.equiv(t)}else return e==t;if(t!=null){if(typeof t.equiv===it)return t.equiv(e)}else return e==t;return typeof e===rt||typeof t===rt?!1:(n=Object.getPrototypeOf(e),(n==null||n===ce)&&(n=Object.getPrototypeOf(t),n==null||n===ce)?!(e.__diff===!1||t.__diff===!1)&&oe(e,t,B):typeof e!==it&&e.length!==void 0&&typeof t!==it&&t.length!==void 0?se(e,t,B):e instanceof Set&&t instanceof Set?ie(e,t,B):e instanceof Map&&t instanceof Map?re(e,t,B):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!==e&&t!==t)},Fn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"},Cn=/^([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?$/;new RegExp(`[${Object.keys(Fn).join("")}]`,"g");var Nn={button:1,option:1,script:1,style:1,text:1,textarea:1,title:1},St=e=>e.split(" ").reduce((t,n)=>(t[n]=!0,t),{}),Pn=St("animate animateColor animateMotion animateTransform circle clipPath color-profile defs desc discard ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feDropShadow feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font foreignObject g image line linearGradient marker mask metadata mpath path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view");St("area base br col command embed hr img input keygen link meta param source stop track use wbr ?xml");St("animate circle ellipse line path polygon polyline rect");var Ln=e=>e!=null&&typeof e.deref=="function",ot=e=>Ln(e)?e.deref():e,fe=(e,t)=>{if(t=ot(t),t==null)return e;if(T(t))return e+" "+t;let n=new Set(e.split(" "));for(let s in t)ot(t[s])?n.add(s):n.delete(s);return[...n].join(" ")},Hn=(e,t,n)=>{t&&(e.id=t);let s=ot(e.class);return n?(n=n.replace(/\./g," "),e.class=s?fe(n,s):n):s&&(e.class=T(s)?s:fe("",s)),e},xn=e=>{let t="",n;for(let s in e)n=ot(e[s]),V(n)&&(n=n(e)),n!=null&&(t+=`${s}:${n};`);return t},Un=(e,t)=>{if(e==null||!t||!t.length)return e;let n=Object.assign({},e);for(let s of t){let i=n[s];R(i,"deref")&&(n[s]=i.deref())}return n},$n=e=>Object.keys(e).reduce((t,n)=>(t.push(`${n}: ${e[n]}`),t),[]).join(" "),qn="http://www.w3.org/2000/svg",ct=v,ue=Xt,he=T,de=(e,t)=>t.__init&&t.__init.apply(t.__this,[e,...t.__args]),at=(e,t,n,s,i,r=!0)=>{if(ct(s)){let o=s[0];if(typeof o=="function")return at(e,t,n,o.apply(null,[e.ctx,...s.slice(1)]),i);let c=s[1];if(c.__impl)return c.__impl.createTree(e,n,s,i,r);let a=t.createElement(n,o,c,i);if(s.length>2){let l=s.length;for(let u=2;u<l;u++)at(e,t,a,s[u],void 0,r)}return r&&de(a,s),a}if(ue(s)){let o=[];for(let c of s)o.push(at(e,t,n,c,i,r));return o}return s==null?n:t.createTextElement(n,s)},lt=(e,t,n,s,i=0)=>{if(ct(s)){let r=t.getChild(n,i);typeof s[0]=="function"&&lt(e,t,n,s[0].apply(null,[e.ctx,...s.slice(1)]),i);let o=s[1];if(o.__impl)return o.__impl.hydrateTree(e,n,s,i);de(r,s);for(let c in o)c[0]==="o"&&c[1]==="n"&&t.setAttrib(r,c,o[c]);for(let c=s.length,a=2;a<c;a++)lt(e,t,r,s[a],a-2)}else if(ue(s))for(let r of s)lt(e,t,n,r,i),i++},Gn=(e,t,n,s)=>{let i=Pn[t]?document.createElementNS(qn,t):document.createElement(t);return n&&Vn(i,n),me(e,i,s)},zn=(e,t,n)=>me(e,document.createTextNode(t),n),me=(e,t,n)=>e?n===void 0?e.appendChild(t):e.insertBefore(t,e.children[n]):t,Bn=(e,t)=>e.children[t],Wn=(e,t,n,s,i,r=!0)=>(t.removeChild(n,s),t.createTree(e,n,i,s,r)),Qn=(e,t)=>e.textContent=t,Vn=(e,t)=>{for(let n in t)pe(e,n,t[n],t);return e},pe=(e,t,n,s)=>{if(t.startsWith("__"))return;let i=t[0]==="o"&&t[1]==="n";if(!i&&typeof n=="function"&&(n=n(s)),n!==void 0&&n!==!1)switch(t){case"style":Jn(e,n);break;case"value":Xn(e,n);break;case"prefix":e.setAttribute(t,he(n)?n:$n(n));break;case"accesskey":e.accessKey=n;break;case"contenteditable":e.contentEditable=n;break;case"tabindex":e.tabIndex=n;break;case"align":case"autocapitalize":case"checked":case"dir":case"draggable":case"hidden":case"id":case"lang":case"namespaceURI":case"scrollTop":case"scrollLeft":case"title":e[t]=n;break;default:i?Yn(e,t.substr(2),n):e.setAttribute(t,n===!0?"":n)}else e[t]!=null?e[t]=null:e.removeAttribute(t);return e},Xn=(e,t)=>{let n;switch(e.type){case"text":case"textarea":case"password":case"search":case"number":case"email":case"url":case"tel":case"date":case"datetime-local":case"time":case"week":case"month":if((n=e.value)!==void 0&&typeof t=="string"){let s=t.length-(n.length-(e.selectionStart||0));e.value=t,e.selectionStart=e.selectionEnd=s;break}default:e.value=t}},Kn=(e,t,n)=>{for(let s=t.length;--s>=0;){let i=t[s];i[0]==="o"&&i[1]==="n"?Zn(e,i.substr(2),n[i]):e.hasAttribute(i)?e.removeAttribute(i):e[i]=null}},Jn=(e,t)=>(e.setAttribute("style",xn(t)),e),Yn=(e,t,n)=>he(n)?e.setAttribute("on"+t,n):ct(n)?e.addEventListener(t,...n):e.addEventListener(t,n),Zn=(e,t,n)=>ct(n)?e.removeEventListener(t,...n):e.removeEventListener(t,n),ts=(e,t)=>{let n=e.children[t];n!==void 0&&e.removeChild(n)},es=(e,t=n=>n!==void 0?": "+n:"")=>class extends Error{constructor(n){super(e(n)+t(n))}},ns=es(()=>"illegal argument(s)"),ss=e=>{throw new ns(e)},ft=v,is=Xt,rs=fn,os=(e,t)=>{let n=e[0],s=rs(e[1]),i,r,o;return(typeof n!="string"||!(i=Cn.exec(n)))&&ss(`${n} is not a valid tag name`),r=i[1],n===r&&s&&(!t||e[1].key)?e:(o=Hn(s?Object.assign({},e[1]):{},i[2],i[3]),o.__skip&&e.length<3?[r,o]:[r,o,...e.slice(s?2:1)])},cs=(e,t)=>D(t,e,e.ctx,[0],e.keys!==!1,e.span!==!1),D=(e,t,n,s,i,r)=>{if(e!=null){if(ft(e)){if(e.length===0)return;let o,c=e[1],a;if(c&&(a=c.__impl)&&(a=a.normalizeTree))return a(t,e);let l=e[0];if(typeof l=="function")return D(l.apply(null,[n,...e.slice(1)]),t,n,s,i,r);if(typeof l.render=="function"){let u=[n,...e.slice(1)];return o=D(l.render.apply(l,u),t,n,s,i,r),ft(o)&&(o.__this=l,o.__init=l.init,o.__release=l.release,o.__args=u),o}return o=os(e,i),c=o[1],c.__normalize===!1?o:(i&&c.key===void 0&&(c.key=s.join("-")),o.length>2?as(o,c,t,n,s,i,r):o)}return typeof e=="function"?D(e(n),t,n,s,i,r):typeof e.toHiccup=="function"?D(e.toHiccup(t.ctx),t,n,s,i,r):typeof e.deref=="function"?D(e.deref(),t,n,s,i,r):r?["span",i?{key:s.join("-")}:{},e.toString()]:e.toString()}},as=(e,t,n,s,i,r,o)=>{let c=e[0],a=[c,t];o=o&&!Nn[c];for(let l=2,u=2,h=0,f=e.length;l<f;l++){let d=e[l];if(d!=null){let p=ft(d);if(p&&ft(d[0])||!p&&is(d))for(let m of d)m=D(m,n,s,i.concat(h),r,o),m!==void 0&&(a[u++]=m),h++;else d=D(d,n,s,i.concat(h),r,o),d!==void 0&&(a[u++]=d),h++}}return a},ls={createTree(e,t,n,s,i){return at(e,this,t,n,s,i)},hydrateTree(e,t,n,s){return lt(e,this,t,n,s)},diffTree(e,t,n,s,i){le(e,this,t,n,s,i)},normalizeTree:cs,getElementById(e){return document.getElementById(e)},getChild:Bn,createElement:Gn,createTextElement:zn,replaceChild(e,t,n,s,i){Wn(e,this,t,n,s,i)},removeChild:ts,setContent:Qn,removeAttribs:Kn,setAttrib:pe},fs=(e,t)=>T(e)?t.getElementById(e):e,ge=(e,t={},n=ls)=>{let s=Object.assign({root:"app"},t),i=[],r=!0,o=fs(s.root,n),c=()=>{if(r){s.ctx=Un(t.ctx,s.autoDerefKeys);let a=n.normalizeTree(s,e);a!=null&&(s.hydrate?(n.hydrateTree(s,o,a),s.hydrate=!1):n.diffTree(s,o,i,a),i=a),r&&requestAnimationFrame(c)}};return requestAnimationFrame(c),()=>r=!1};function ut(e,t,n,s){var i=arguments.length,r=i<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,n,s);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}var ht=(e,t={})=>{let n=Reflect.ownKeys(e),s=Reflect.ownKeys(t),i=Symbol("isa");function r(o){for(let c of n){let a=Object.getOwnPropertyDescriptor(o.prototype,c);!a||a.configurable?Object.defineProperty(o.prototype,c,{value:e[c],writable:!0}):console.log(`not patching: ${o.name}.${c.toString()}`)}return Object.defineProperty(o.prototype,i,{value:!0}),o}for(let o of s)Object.defineProperty(r,o,{value:t[o],enumerable:t.propertyIsEnumerable(o)});return Object.defineProperty(r,Symbol.hasInstance,{value:o=>!!o[i]}),r};var H=(e,t=n=>n!==void 0?": "+n:"")=>class extends Error{constructor(n){super(e(n)+t(n))}};var us=ht({addWatch(e,t){return this._watches=this._watches||{},this._watches[e]?!1:(this._watches[e]=t,!0)},removeWatch(e){if(!!this._watches)return this._watches[e]?(delete this._watches[e],!0):!1},notifyWatches(e,t){if(!this._watches)return;let n=this._watches;for(let s in n)n[s](s,e,t)}}),hs=H(()=>"illegal state"),ds=e=>{throw new hs(e)},ms=e=>e&&(e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Int8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Uint8ClampedArray),dt=e=>v(e)?e:T(e)?e.length>0?e.split("."):[]:e!=null?[e]:[],_e=e=>ye(e);function ye(e){let t=dt(e),[n,s,i,r]=t;switch(t.length){case 0:return o=>o;case 1:return o=>o!=null?o[n]:void 0;case 2:return o=>o!=null&&(o=o[n])!=null?o[s]:void 0;case 3:return o=>o!=null&&(o=o[n])!=null&&(o=o[s])!=null?o[i]:void 0;case 4:return o=>o!=null&&(o=o[n])!=null&&(o=o[s])!=null&&(o=o[i])!=null?o[r]:void 0;default:return o=>{let c=t.length-1,a=o;for(let l=0;a!=null&&l<=c;l++)a=a[t[l]];return a}}}var ve=e=>kt(e);function kt(e){let t=dt(e),[n,s,i,r]=t;switch(t.length){case 0:return(c,a)=>a;case 1:return(c,a)=>(c=A(c),c[n]=a,c);case 2:return(c,a)=>{let l;return c=A(c),c[n]=l=A(c[n]),l[s]=a,c};case 3:return(c,a)=>{let l,u;return c=A(c),c[n]=l=A(c[n]),l[s]=u=A(l[s]),u[i]=a,c};case 4:return(c,a)=>{let l,u,h;return c=A(c),c[n]=l=A(c[n]),l[s]=u=A(l[s]),u[i]=h=A(u[i]),h[r]=a,c};default:let o;for(let c=t.length;--c>=0;)o=ps(t[c],o);return o}}var A=e=>v(e)||ms(e)?e.slice():Object.assign({},e),ps=(e,t)=>(n,s)=>(n=A(n),n[e]=t?t(n[e],s):s,n),W=(e,t,n,...s)=>gs(e,t,n,...s);function gs(e,t,n,...s){return kt(t)(e,n.apply(null,(s.unshift(ye(t)(e)),s)))}var mt=(e,t,n)=>kt(t)(e,n),F=class{constructor(t,n){n&&!n(t)&&ds("initial state value did not validate"),this._value=t,this.valid=n}get value(){return this._value}set value(t){this.reset(t)}deref(){return this._value}equiv(t){return this===t}reset(t){let n=this._value;return this.valid&&!this.valid(t)?n:(this._value=t,this.notifyWatches(n,t),t)}resetIn(t,n){return this.reset(mt(this._value,t,n))}resetInUnsafe(t,n){return this.reset(mt(this._value,t,n))}swap(t,...n){return this.reset(t.apply(null,[this._value,...n]))}swapIn(t,n,...s){return this.reset(W(this._value,t,n,...s))}swapInUnsafe(t,n,...s){return this.reset(W(this._value,t,n,...s))}addWatch(t,n){}removeWatch(t){}notifyWatches(t,n){}release(){return delete this._watches,delete this._value,!0}};F=ut([us],F);var Ee=Object.getPrototypeOf({}),pt="function",Te="string",j=(e,t)=>{let n;if(e===t)return!0;if(e!=null){if(typeof e.equiv===pt)return e.equiv(t)}else return e==t;if(t!=null){if(typeof t.equiv===pt)return t.equiv(e)}else return e==t;return typeof e===Te||typeof t===Te?!1:(n=Object.getPrototypeOf(e),(n==null||n===Ee)&&(n=Object.getPrototypeOf(t),n==null||n===Ee)?Es(e,t):typeof e!==pt&&e.length!==void 0&&typeof t!==pt&&t.length!==void 0?ys(e,t):e instanceof Set&&t instanceof Set?_s(e,t):e instanceof Map&&t instanceof Map?vs(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!==e&&t!==t)},ys=(e,t,n=j)=>{let s=e.length;if(s===t.length)for(;--s>=0&&n(e[s],t[s]););return s<0},_s=(e,t,n=j)=>e.size===t.size&&n([...e.keys()].sort(),[...t.keys()].sort()),vs=(e,t,n=j)=>e.size===t.size&&n([...e].sort(),[...t].sort()),Es=(e,t,n=j)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let s in e)if(!t.hasOwnProperty(s)||!n(e[s],t[s]))return!1;return!0};var Ts=0,ws=()=>Ts++;function jt(e,t,n,s,i){return new we(e,t,n,s,i)}var we=class{constructor(t,n,s,i=!0,r=j){this.parent=t,this.id=`view-${ws()}`,this.tx=s||(a=>a),this.path=dt(n),this.isDirty=!0,this.isLazy=i;let o=_e(this.path),c=this.parent.deref();this.unprocessed=c?o(c):void 0,i||(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),t.addWatch(this.id,(a,l,u)=>{let h=l&&o(l),f=u&&o(u);r(f,h)||(i?this.unprocessed=f:this.state=this.tx(f),this.isDirty=!0)})}get value(){return this.deref()}deref(){return this.isDirty&&(this.isLazy&&(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),this.isDirty=!1),this.state}changed(){return this.isDirty}view(){return this.isDirty&&this.isLazy?this.tx(this.unprocessed):this.state}release(){return this.unprocessed=void 0,this.isLazy||(this.state=this.tx(void 0)),this.isDirty=!0,this.parent.removeWatch(this.id)}};var Os=H(()=>"illegal argument(s)"),gt=e=>{throw new Os(e)};var It;(function(e){e[e.FINE=0]="FINE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.SEVERE=4]="SEVERE",e[e.NONE=5]="NONE"})(It||(It={}));var As=Object.freeze({level:It.NONE,fine(){},debug(){},info(){},warn(){},severe(){}}),Ss=e=>e instanceof Promise,Q="--set-value",ks="--update-value",Dt="--toggle-value",Mt="--cancel",js="--dispatch",bt="--dispatch-async",Rt="--dispatch-now",Is="--delay",Ft="--fetch",S="--state",Ds="--redo",Ms="--undo",x=As,Oe=class{constructor(t,n){this.handlers={},this.effects={},this.eventQueue=[],this.priorities=[],this.addBuiltIns(),t&&this.addHandlers(t),n&&this.addEffects(n)}addBuiltIns(){this.addEffects({[js]:[t=>this.dispatch(t),-999],[bt]:[([t,n,s,i],r,o)=>{let c=this.effects[t];if(c){let a=c(n,r,o);Ss(a)?a.then(l=>this.dispatch([s,l])).catch(l=>this.dispatch([i,l])):x.warn("async effect did not return Promise")}else x.warn(`skipping invalid async effect: ${t}`)},-999],[Is]:[([t,n])=>new Promise(s=>setTimeout(()=>s(n),t)),1e3],[Ft]:[t=>fetch(t).then(n=>{if(!n.ok)throw new Error(n.statusText);return n}),1e3]})}addHandler(t,n){let s=this.interceptorsFromSpec(n);s.length>0?(this.handlers[t]&&(this.removeHandler(t),x.warn(`overriding handler for ID: ${t}`)),this.handlers[t]=s):gt(`no handlers in spec for ID: ${t}`)}addHandlers(t){for(let n in t)this.addHandler(n,t[n])}addEffect(t,n,s=1){this.effects[t]&&(this.removeEffect(t),x.warn(`overriding effect for ID: ${t}`)),this.effects[t]=n;let i=[t,s],r=this.priorities;for(let o=0;o<r.length;o++)if(i[1]<r[o][1]){r.splice(o,0,i);return}r.push(i)}addEffects(t){for(let n in t){let s=t[n];v(s)?this.addEffect(n,s[0],s[1]):this.addEffect(n,s)}}instrumentWith(t,n){let s=t.map(Ae),i=this.handlers;for(let r of n||Object.keys(i)){let o=i[r];o&&(i[r]=s.concat(o))}}removeHandler(t){delete this.handlers[t]}removeHandlers(t){for(let n of t)this.removeHandler(n)}removeEffect(t){delete this.effects[t];let n=this.priorities;for(let s=n.length-1;s>=0;s--)if(t===n[s][0]){n.splice(s,1);return}}removeEffects(t){for(let n of t)this.removeEffect(n)}context(){return this.currCtx}dispatch(...t){this.eventQueue.push(...t)}dispatchNow(...t){(this.currQueue||this.eventQueue).push(...t)}dispatchLater(t,n=17){setTimeout(()=>this.dispatch(t),n)}processQueue(t){if(this.eventQueue.length>0){this.currQueue=[...this.eventQueue],this.eventQueue.length=0,t=this.currCtx=t||{};for(let n of this.currQueue)this.processEvent(t,n);return this.currQueue=this.currCtx=void 0,this.processEffects(t),!0}return!1}processEvent(t,n){let s=this.handlers[n[0]];if(!s){x.warn(`missing handler for event type: ${n[0].toString()}`);return}!this.processForward(t,s,n)||this.processReverse(t,s,n)}processForward(t,n,s){let i=!1;for(let r=0,o=n.length;r<o&&!t[Mt];r++){let c=n[r];c.pre&&this.mergeEffects(t,c.pre(t[S],s,this,t)),i=i||!!c.post}return i}processReverse(t,n,s){for(let i=n.length;--i>=0&&!t[Mt];){let r=n[i];r.post&&this.mergeEffects(t,r.post(t[S],s,this,t))}}processEffects(t){let n=this.effects;for(let s of this.priorities){let i=s[0],r=t[i];r!==void 0&&this.processEffect(t,n,i,r)}}processEffect(t,n,s,i){let r=n[s];if(s!==S)for(let o of i)r(o,this,t);else r(i,this,t)}mergeEffects(t,n){if(!!n)for(let s in n){let i=n[s];if(i!=null)if(s===S||s===Mt)t[s]=i;else if(s===Rt)if(v(i[0]))for(let r of i)r&&this.dispatchNow(r);else this.dispatchNow(i);else if(t[s]||(t[s]=[]),v(i[0]))for(let r of i)r!==void 0&&t[s].push(r);else t[s].push(i)}}interceptorsFromSpec(t){return v(t)?t.map(Ae):V(t)?[{pre:t}]:[t]}},Ct=class extends Oe{constructor(t,n,s){super(n,s);this.state=t||new F({})}deref(){return this.state.deref()}addBuiltIns(){super.addBuiltIns(),this.addHandlers({[Q]:(t,[n,[s,i]])=>({[S]:mt(t,s,i)}),[ks]:(t,[n,[s,i,...r]])=>({[S]:W(t,s,i,...r)}),[Dt]:(t,[n,s])=>({[S]:W(t,s,i=>!i)}),[Ms]:Se("undo"),[Ds]:Se("redo")}),this.addEffects({[S]:[t=>this.state.reset(t),-1e3]})}processQueue(t){if(this.eventQueue.length>0){let n=this.state.deref();this.currQueue=[...this.eventQueue],this.eventQueue.length=0,t=this.currCtx=Object.assign(Object.assign({},t),{[S]:n});for(let s of this.currQueue)this.processEvent(t,s);return this.currQueue=this.currCtx=void 0,this.processEffects(t),this.state.deref()!==n}return!1}},Ae=e=>V(e)?{pre:e}:e,Se=e=>(t,[n,s],i,r)=>{let o=s?s[0]:"history";if(R(r[o],e)){let c=r[o][e]();return{[S]:i.state.deref(),[Rt]:s?c!==void 0?s[1]:s[2]:void 0}}else x.warn("no history in context")},ke=(e,t)=>console.log("event:",t),Nt=e=>(t,[n,s])=>({[e]:s!==void 0?s:!0}),Pt=e=>()=>({[Rt]:e}),X=(e,t)=>{let n=ve(e);return(s,[i,r])=>({[S]:n(s,t?t(r):r)})};var yt=Symbol(),J=()=>{},je="*",bs=H(()=>"illegal arity"),C=e=>{throw new bs(e)};var Rs={},Lt=(()=>{try{return Rs.env.UMBRELLA_ASSERTS==="1"}catch(e){}return!1})()?(e,t="assertion failed")=>{if(typeof e=="function"&&!e()||!e)throw new Error(typeof t=="function"?t():t)}:J,Ie=(e,t)=>{if(!!e){for(let n=0,s=e.length,i;n<s;n++)if(i=e[n],i[0].call(i[1],t),t.canceled)return}},Fs=ht({addListener(e,t,n){let s=(this._listeners=this._listeners||{})[e];return!s&&(s=this._listeners[e]=[]),this.__listener(s,t,n)===-1?(s.push([t,n]),!0):!1},removeListener(e,t,n){let s;if(!(s=this._listeners))return!1;let i=s[e];if(i){let r=this.__listener(i,t,n);if(r!==-1)return i.splice(r,1),!i.length&&delete s[e],!0}return!1},notify(e){let t;if(!(t=this._listeners))return!1;e.target===void 0&&(e.target=this),Ie(t[e.id],e),Ie(t[je],e)},__listener(e,t,n){let s=e.length;for(;--s>=0;){let i=e[s];if(i[0]===t&&i[1]===n)break}return s}}),N="route-changed",Ht=class{constructor(t){if(t.authenticator=t.authenticator||((n,s,i)=>({id:n.id,title:n.title,params:i})),t.prefix=t.prefix===void 0?"/":t.prefix,t.separator=t.separator||"/",this.config=t,Lt(this.routeForID(this.config.defaultRouteID)!==void 0,`missing config for default route: '${this.config.defaultRouteID}'`),t.initialRouteID){let n=this.routeForID(t.initialRouteID);Lt(n!==void 0,`missing config for initial route: ${this.config.initialRouteID}`),Lt(!Cs(n),"initial route MUST not be parametric")}}addListener(t,n,s){}removeListener(t,n,s){}notify(t){}start(){if(this.config.initialRouteID){let t=this.routeForID(this.config.initialRouteID);this.current={id:t.id,title:t.title,params:{}},this.notify({id:N,value:this.current})}}route(t){t.charAt(0)==="#"&&(t=t.substr(1)),t=t.substr(this.config.prefix.length);let n=this.matchRoutes(t);if(!n){if(!this.handleRouteFailure())return;let s=this.routeForID(this.config.defaultRouteID);n={id:s.id,title:s.title,params:{}}}return j(n,this.current)||(this.current=n,this.notify({id:N,value:n})),n}format(...t){let[n,s,i]=t,r;switch(t.length){case 3:r={id:n,params:s};break;case 2:T(n)?r={id:n,params:s}:(i=s,r=n);break;case 1:r=T(n)?{id:n}:n;break;default:C(t.length)}let o=this.routeForID(r.id);if(o){let c=r.params||{};return(i?"#":"")+this.config.prefix+o.match.map(a=>a.charAt(0)==="?"?(a=c[a.substr(1)])!=null?a:"NULL":a).join(this.config.separator)}else gt(`invalid route ID: ${r.id}`)}routeForID(t){return this.config.routes.find(n=>n.id===t)}matchRoutes(t){let n=this.config.routes,s=t.split(this.config.separator);for(let i=0,r=n.length;i<r;i++){let o=this.matchRoute(s,n[i]);if(o)return o}}matchRoute(t,n){let s=n.match,i=s.length;if(t.length===i){let r={};for(let o=0;o<i;o++){let c=s[o];if(c.charAt(0)==="?")r[c.substr(1)]=t[o];else if(t[o]!==c)return}return n.validate&&!this.validateRouteParams(r,n.validate)?void 0:n.auth?this.config.authenticator(n,t,r):{id:n.id,title:n.title,params:r}}}validateRouteParams(t,n){for(let s in n)if(t[s]!==void 0){let i=n[s];if(i.coerce&&(t[s]=i.coerce(t[s])),i.check&&!i.check(t[s]))return!1}return!0}handleRouteFailure(){return!0}};Ht=ut([Fs],Ht);var Cs=e=>e.match.some(t=>t.charAt(0)==="?"),xt=class extends Ht{constructor(t){super(t);this.useFragment=t.useFragment!==!1,this.ignoreHashChange=!1}start(){if(window.addEventListener("popstate",this.handlePopChange()),this.useFragment&&window.addEventListener("hashchange",this.handleHashChange()),this.config.initialRouteID){let t=this.routeForID(this.config.initialRouteID);this.route(this.format({id:t.id,title:t.title}))}else this.route(this.useFragment?location.hash:location.pathname)}release(){window.removeEventListener("popstate",this.popHandler),this.useFragment&&window.removeEventListener("hashchange",this.hashHandler)}route(t,n=!0){let s=this.current,i=super.route(t);return i&&!j(i,s)&&(this.currentPath=this.format(i),n&&history.pushState(this.currentPath,i.title||window.document.title||"",this.currentPath)),i}routeTo(t){this.useFragment&&(location.hash=t),this.route(t)}format(...t){let n;switch(t.length){case 2:n={id:t[0],params:t[1]};break;case 1:n=T(t[0])?{id:t[0]}:t[0];break;default:C(t.length)}return super.format(n,this.useFragment)}handlePopChange(){return this.popHandler=this.popHandler||(t=>{this.route(t.state||(this.useFragment?location.hash:location.pathname),!1)}).bind(this)}handleHashChange(){return this.hashHandler=this.hashHandler||(t=>{if(!this.ignoreHashChange){let n=t.newURL.substr(t.newURL.indexOf("#"));n!==this.currentPath&&this.route(n,!1)}}).bind(this)}handleRouteFailure(){return this.ignoreHashChange=!0,location.hash=this.format({id:this.routeForID(this.config.defaultRouteID).id}),this.ignoreHashChange=!1,!0}};var Ns=1e3,Ps=60*Ns,Ls=[31,28,31,30,31,30,31,31,30,31,30,31],De=(e,t)=>new U(e,t),U=class{constructor(t=Date.now(),n="t"){let s=_t(t),i="yMdhmst".indexOf(n);this.y=s.getUTCFullYear(),this.M=i>=1?s.getUTCMonth():0,this.d=i>=2?s.getUTCDate():1,this.h=i>=3?s.getUTCHours():0,this.m=i>=4?s.getUTCMinutes():0,this.s=i>=5?s.getUTCSeconds():0,this.t=i>=6?s.getUTCMilliseconds():0}copy(){return new U(this.getTime())}getTime(){return Date.UTC(this.y,this.M,this.d,this.h,this.m,this.s,this.t)}compare(t){return this.getTime()-_t(t).getTime()}equiv(t){return t instanceof U||t instanceof Date||typeof t=="number"?this.compare(t)===0:!1}eqDelta(t,n=0){return Math.abs(this.getTime()-_t(t).getTime())<=n}daysInMonth(){return Ls[this.M]+(this.M===1&&this.isLeapYear()?1:0)}isLeapYear(){return!(this.y%4)&&(!!(this.y%100)||!(this.y%400))}incMillisecond(){return++this.t>999&&(this.t=0,this.incSecond()),this.t}decMillisecond(){return--this.t<0&&(this.t=999,this.decSecond()),this.t}incSecond(){return++this.s>59&&(this.s=0,this.incMinute()),this.s}decSecond(){return--this.s<0&&(this.s=59,this.decMinute()),this.s}incMinute(){return++this.m>59&&(this.m=0,this.incHour()),this.m}decMinute(){return--this.m<0&&(this.m=59,this.decHour()),this.m}incHour(){return++this.h>23&&(this.h=0,this.incDay()),this.h}decHour(){return--this.h<0&&(this.h=23,this.decDay()),this.h}incDay(){return++this.d>this.daysInMonth()&&(this.d=1,this.incMonth()),this.d}decDay(){return--this.d<1&&(this.decMonth(),this.d=this.daysInMonth()),this.d}incWeek(){this.d+=7;let t=this.daysInMonth();return this.d>t&&(this.d-=t,this.incMonth()),this.d}decWeek(){return this.d-=7,this.d<1&&(this.decMonth(),this.d+=this.daysInMonth()),this.d}incMonth(){return++this.M>11&&(this.M=0,++this.y),this.M}decMonth(){return--this.M<0&&(this.M=11,--this.y),this.M}incYear(){return++this.y}decYear(){return--this.y}toDate(){return new Date(this.getTime())}toJSON(){return this.toISOString()}toString(){return this.toDate().toUTCString()}toISOString(){return this.toDate().toISOString()}},_t=e=>typeof e=="number"?new Date(e):e instanceof U?e.toDate():e,Hs={months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},Me=Hs,M=e=>e<10?"0"+e:String(e),be={yyyy:e=>String(e.getFullYear()),yy:e=>String(e.getFullYear()%100),MMM:e=>Me.months[e.getMonth()],MM:e=>M(e.getMonth()+1),M:e=>String(e.getMonth()+1),dd:e=>M(e.getDate()),d:e=>String(e.getDate()),E:e=>Me.days[e.getDay()],HH:e=>M(e.getHours()),hh:e=>{let t=e.getHours()%12;return M(t>0?t:12)},h:e=>{let t=e.getHours()%12;return String(t>0?t:12)},mm:e=>M(e.getMinutes()),m:e=>String(e.getMinutes()),ss:e=>M(e.getSeconds()),s:e=>String(e.getSeconds()),S:e=>String(e.getMilliseconds()),A:e=>String(e.getHours()<12?"AM":"PM"),Z:e=>{let t=e.getTimezoneOffset(),n=Math.abs(t);return`${t<0?"-":"+"}${M(n/60|0)}:${M(n%60)}`},ZZ:e=>e.getTimezoneOffset()===0?"Z":be.Z(e)},Re=e=>(t,n=!1)=>{let s=_t(t);return n&&(s=new Date(s.getTime()+s.getTimezoneOffset()*Ps)),e.map(i=>{let r;return typeof i=="string"?i.startsWith("\\")?i.substr(1):(r=be[i])?r(s):i:typeof i=="function"?i(s):i}).join("")};var xs=e=>e!=null&&typeof e!="function"&&e.length!==void 0,Fe=e=>e!=null&&typeof e[Symbol.iterator]=="function",Ut=e=>R(e,"xform")?e.xform():e,$t=class{constructor(t){this.value=t}deref(){return this.value}},qt=e=>e instanceof $t,Ce=e=>e instanceof $t?e.deref():e,Us=e=>e.length===2?[void 0,e[1]]:e.length===3?[e[1],e[2]]:C(e.length);function Vs(...e){let t=e[0],n=t[0],s=t[1],i=t[2];e=Us(e);let r=e[0]==null?n():e[0],o=e[1];return Ce(s(R(o,"$reduce")?o.$reduce(i,r):xs(o)?$s(i,r,o):qs(i,r,o)))}var $s=(e,t,n)=>{for(let s=0,i=n.length;s<i;s++)if(t=e(t,n[s]),qt(t)){t=t.deref();break}return t},qs=(e,t,n)=>{for(let s of n)if(t=e(t,s),qt(t)){t=t.deref();break}return t},Gs=(e,t)=>[e,n=>n,t];function Ne(e){return e?[...e]:Gs(()=>[],(t,n)=>(t.push(n),t))}function*Pe(e,t){let n=Ut(e)([J,J,(s,i)=>i])[2];for(let s of t){let i=n(yt,s);if(qt(i)){i=Ce(i.deref()),i!==yt&&(yield i);return}i!==yt&&(yield i)}}var Le=(e,t)=>[e[0],e[1],t];function $(e,t){return Fe(t)?Pe($(e),t):n=>{let s=n[2];return Le(n,(i,r)=>s(i,e(r)))}}function Vt(...e){return zs(Vt,Vs,e)}var zs=(e,t,n)=>{let s,i;switch(n.length){case 4:i=n[3],s=n[2];break;case 3:i=n[2];break;case 2:return $(r=>e(n[0],n[1],r));default:C(n.length)}return t(Ut(n[0])(n[1]),s,i)};function He(...e){let[t,n,s,i,r,o,c,a,l,u]=e;switch(e.length){case 0:C(0);case 1:return t;case 2:return(...f)=>t(n(...f));case 3:return(...f)=>t(n(s(...f)));case 4:return(...f)=>t(n(s(i(...f))));case 5:return(...f)=>t(n(s(i(r(...f)))));case 6:return(...f)=>t(n(s(i(r(o(...f))))));case 7:return(...f)=>t(n(s(i(r(o(c(...f)))))));case 8:return(...f)=>t(n(s(i(r(o(c(a(...f))))))));case 9:return(...f)=>t(n(s(i(r(o(c(a(l(...f)))))))));case 10:default:let h=(...f)=>t(n(s(i(r(o(c(a(l(u(...f))))))))));return e.length===10?h:He(h,...e.slice(10))}}function Gt(e,t){return Fe(t)?Pe(Gt(e),t):n=>{let s=n[2],i=e;return Le(n,(r,o)=>i>0?(i--,r):s(r,o))}}function xe(...e){return e=e.map(Ut),He.apply(null,e)}var vt=(e,t)=>{if(!t)return e;let n=Object.assign(Object.assign({},e),t);return e.class&&t.class&&(n.class=e.class+" "+t.class),e.style&&t.style&&(n.style=Object.assign(Object.assign({},e.style),t.style)),n},Ue=(e,t)=>["a",T(e)?{href:e}:e,t];var $e=(...e)=>["svg",{viewBox:"0 0 32 32"},...e],qe=$e(["path",{d:"M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4l6.6 6.6L8 22.6 9.4 24l6.6-6.6 6.6 6.6 1.4-1.4-6.6-6.6L24 9.4z"}]),Ve=$e(["path",{d:"M4 24h24v2H4zM4 12h24v2H4zM4 18h24v2H4zM4 6h24v2H4z"}]);var Ge=(e,t)=>{let n={};for(let s in t){let i=t[s];n[s]=v(i)?jt(e,i[0],i[1]):jt(e,i)}return n},P=(e,t,n)=>{e.dispatch([Q,["nav.visible",!1]]),e.dispatch([g.ROUTE_TO,[t,n]])},Et=Re(["yyyy",".","MM"]),ze=e=>{let t=e.body.getReader(),n=new TextDecoder,s="";return new Promise(i=>{t.read().then(function r({done:o,value:c}){if(o)i(JSON.parse(s.replace(/(?:\r\n|\r|\n)/g,"")));else return s+=n.decode(c),t.read().then(r)})})};var Bs=({ui:e},t,n,s)=>Ue({href:n,...vt(e.link.default,t)},s),Tt=(e,t,n)=>[Bs,e.ui.link.external,t,n],Ws={init(e,t,n,s){let i=e.childNodes[0],r=new Image;r.src=s,r.onload=()=>{i.classList.remove("hidden"),i.src=s}},render({ui:e},t,n,s){let i=s[1]/s[0];return["div",vt(e.image.main,{key:n,class:"h-0",style:{"padding-top":`${(i*100).toFixed(2)}%`}}),["img",e.image.content]]},release(){}},zt=(e,t,n,s,i)=>["a",{...vt(e.ui.link.default,s),onclick:r=>{r.preventDefault(),P(e.bus,t,n)}},i],Qs=(e,t)=>["div",e.ui.item.thumb.title,[zt,E.ITEM,{id:t.id},null,t.title]],Bt=(e,t)=>{let n=[];for(let s of t)n.push(["span",e.ui.tag.sign,"#"]),n.push(["span",e.ui.tag.normal,s.name]),n.push(["span",", "]);return n.pop(),["div",n]},Be=(e,t)=>`/assets/${e}/${t}`,Xs=(e,t)=>["div",{...e.ui.item.thumb.cover,onclick:n=>{n.preventDefault(),P(e.bus,E.ITEM,{id:t.id})}},["img",{src:Be("images",`${t.id}/${t.images[0].name}`),...e.ui.item.thumb.image}]],Js=(e,t)=>["div",e.ui.item.thumb.main,[Xs,t],["div",e.ui.item.thumb.content,["div",e.ui.item.thumb.date,Et(t.date)],[Qs,t],[Bt,t.tags]]],We=(e,t)=>["div",e.ui.item.list,$(n=>[Js,n],t)],Ys=(e,t)=>["div",e.ui.item.full.header,["div",e.ui.item.full.date,Et(t.date)],["h1",e.ui.item.full.title,t.title],["div",e.ui.item.full.tags,[Bt,t.tags]]],Qe=(e,t,n)=>[Ws,e.ui.item.full.image,Be("images",`${t.id}/${n.name}`),[n.width,n.height]],Xe=(e,t)=>{let n=Vt(xe(Gt(1),$(s=>["p",[Qe,t,s]])),Ne(),t.images);return["div",{key:t.id,...e.ui.item.full.main},[Ys,t],["div",e.ui.item.full.content,["p",[Qe,t,t.images[0]]],["p",t.description],["p",[Tt,t.url,"[link]"]],...n]]},Zs=e=>[zt,E.HOME,null,null,["h1",e.ui.title,"Zihou Ng"]],Ks=e=>{let t=e.views.nav.deref().visible;return["div",{...e.ui.nav.toggle,onclick:()=>e.bus.dispatch([g.TOGGLE_NAV])},t?qe:Ve]},ti=e=>["div",e.ui.header,Zs,Ks],ei=(e,t)=>["div",e.ui.item.slim.main,["div",e.ui.item.slim.date,Et(t.date)],["div",e.ui.item.slim.body,[zt,E.ITEM,{id:t.id},e.ui.item.slim.title,t.title],[Bt,t.tags]]],ni=e=>{let t=e.views.items.deref();return["div",e.ui.nav.content,$(n=>[ei,n],t)]},si={init(e){let t=e.querySelector('[key="links"]');new IntersectionObserver(([s])=>{s.target.classList.toggle("-z-1",s.intersectionRatio<1)},{threshold:1}).observe(t)},render(e){return["div",e.ui.nav.main,["div",{key:"links",...e.ui.nav.links,style:{top:"-1px","padding-top":"1px"}},["div",[Tt,"https://github.com/stwind","github"]],["div",[Tt,"https://observablehq.com/@stwind","observable"]],["div",[Tt,"https://qiita.com/stwind","qiita"]],["div",e.ui.email,"stwindfy#gmail dot com"]],ni]},release(){}},Je=e=>{let t=e.views.nav.deref().visible;return["div",e.ui.app,ti,["div",e.ui.profile,"Software Engineer"],["div",e.ui.content,t?[si]:e.views.content]]};var E;(function(e){e.HOME="home",e.ITEM="item"})(E||(E={}));var Ye=[{id:E.HOME,title:"Home",match:["home"]},{id:E.ITEM,title:"Item",match:["items","?id"]}],Ze={link:{default:{class:"cursor-pointer hover:underline"},external:{class:"text-red"}},image:{main:{class:"bg-gray-200 relative"},content:{class:"object-cover absolute w-full h-full inset-0 hidden"}},email:{class:"text-green"},app:{class:`
    leading-snug
    relative font-light subpixel-antialiased text-black fs--1
    px-4 max-w-4xl mx-auto`},header:{class:"inset-x-0 sticky font-thin text-black top-0 py-5 mb-8 sm:mb-12 md:mb-20 z-10"},title:{class:"fs-1 inline-block leading-none"},profile:{class:"text-gray-600 fixed top-12 -z-1"},content:{class:"w-full py-4 relative"},nav:{main:{class:""},toggle:{class:"h-5 w-5 svg-icon absolute top-7 -right-0.5 cursor-pointer"},links:{class:"sticky top-0 mb-12"},content:{class:"bg-gray-96"}},item:{list:{class:"grid gap-8 grid-cols-1 sm:grid-cols-2"},thumb:{main:{class:"relative"},cover:{class:"h-52 md:h-60 bg-gray-200 cursor-pointer overflow-hidden mb-2"},image:{class:"h-full w-full object-cover"},content:{class:""},title:{class:"fs-0 text-gray-600"},date:{class:"fs--2"}},full:{main:{class:"item-full relative"},header:{class:"mb-4 sm:mb-6 -z-1 sticky top-0"},date:{class:"fs--2"},title:{class:"font-thin fs-2 sm:fs-3 text-gray-600 sm:text-gray-600 leading-tight"},tags:{class:""},content:{class:"bg-gray-96"},image:{class:"w-full"}},slim:{main:{class:"relative mb-6"},date:{class:"absolute font-mono top-1"},body:{class:"ml-14"},title:{class:"fs-0 text-gray-600"}}},tag:{sign:{class:"text-gray-500 fs--2"},normal:{class:"text-gray-600"},highlight:{class:"tag bg-black text-white"}}},Ke={nav:{visible:!0},items:[],tags:[]},ii={[E.HOME]:e=>[We,e.views.featured.deref()||[]],[E.ITEM]:({views:e,bus:t})=>{let n=e.route.deref(),s=e.items.deref();if(s){let i=s.find(r=>r.id==n.params.id);if(i)return[Xe,i];P(t,E.HOME)}}},tn={nav:"nav",items:"items",tags:"tags",featured:"featured",route:"route",content:["route.id",e=>ii[e]]},g;(function(e){e.ROUTE_TO="route-to",e.FETCH_DATA="fetch-data",e.FETCH_DATA_DONE="fetch-data-done",e.FETCH_DATA_ERROR="fetch-data-error",e.INITIALIZE="initialize",e.TOGGLE_NAV="toggle-nav"})(g||(g={}));var b;(function(e){e.ROUTE_TO="route-to",e.SCROLL_TOP="scroll-top"})(b||(b={}));var ri=e=>{let t=Object.fromEntries(e.tags.map(i=>[i.id,i])),n=e.items.map(i=>({...i,date:De(Date.parse(i.date)),tags:i.tags.map(r=>t[r])})),s=e.featured.map(i=>n.find(r=>r.id==i));return{items:n,tags:t,featured:s}},en={[g.FETCH_DATA]:()=>({[bt]:[Ft,"/data.json",g.FETCH_DATA_DONE,g.FETCH_DATA_ERROR]}),[g.FETCH_DATA_DONE]:(e,[t,n],s)=>ze(n).then(i=>s.dispatch([g.INITIALIZE,ri(i)])),[g.FETCH_DATA_ERROR]:ke,[g.INITIALIZE]:[X("items",e=>e.items),X("tags",e=>e.tags),X("featured",e=>e.featured)],[g.TOGGLE_NAV]:[Pt([Dt,"nav.visible"]),Nt(b.SCROLL_TOP)],[N]:[X("route"),Pt([Q,["nav.visible",!1]]),Nt(b.SCROLL_TOP)],[g.ROUTE_TO]:(e,[t,n])=>({[b.ROUTE_TO]:n})},nn={[b.SCROLL_TOP]:()=>window.scrollTo(0,0)};import.meta.env=At;var sn=class{constructor(){this._stop=()=>!0,this._state=new F(Ke),this.bus=new Ct(this._state,en,nn),this.router=new xt({useFragment:!0,defaultRouteID:E.HOME,routes:Ye}),this.router.addListener(N,t=>this.bus.dispatch([N,t.value])),this.bus.addEffect(b.ROUTE_TO,([t,n])=>this.router.routeTo(this.router.format(t,n)))}start(){this._stop=ge(({bus:t})=>t.processQueue()?[Je]:null,{ctx:{state:this._state,bus:this.bus,ui:Ze,views:Ge(this._state,tn)}}),this.bus.dispatch([g.FETCH_DATA]),this.router.start()}stop(){this._stop(),this.router.release()}get state(){return{route:this.router.current,state:this._state.value}}set state({route:t,state:n}){if(this._state.value=n,t){let{id:s,params:i}=t;P(this.bus,s,i)}}},wt=new sn;wt.start();var Y=void 0;Y&&(Y.accept(({module:e})=>{e.app.state=Y.state}),Y.dispose(()=>{Y.state=wt.state,wt.stop()}));export{wt as app};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
//# sourceMappingURL=//dist//index.js.map
