var on=Object.defineProperty;var cn=(t,e)=>{for(var n in e)on(t,n,{get:e[n],enumerable:!0})};var St={};cn(St,{MODE:()=>an,NODE_ENV:()=>ln,SSR:()=>fn});var an="development",ln="development",fn=!1;var G=t=>typeof t=="function";var v=Array.isArray;var T=t=>typeof t=="string";var b=(t,e)=>t!=null&&typeof t[e]=="function";var Yt=t=>t!=null&&typeof t!="string"&&typeof t[Symbol.iterator]=="function",Zt=Object.getPrototypeOf,un=t=>{let e;return t!=null&&typeof t=="object"&&((e=Zt(t))===null||Zt(e)===null)},Kt=Symbol(),te=Object.getPrototypeOf({}),et="function",ee="string",H=(t,e)=>{let n;if(t===e)return!0;if(t!=null){if(typeof t.equiv===et)return t.equiv(e)}else return t==e;if(e!=null){if(typeof e.equiv===et)return e.equiv(t)}else return t==e;return typeof t===ee||typeof e===ee?!1:(n=Object.getPrototypeOf(t),(n==null||n===te)&&(n=Object.getPrototypeOf(e),n==null||n===te)?pn(t,e):typeof t!==et&&t.length!==void 0&&typeof e!==et&&e.length!==void 0?hn(t,e):t instanceof Set&&e instanceof Set?dn(t,e):t instanceof Map&&e instanceof Map?mn(t,e):t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():t instanceof RegExp&&e instanceof RegExp?t.toString()===e.toString():t!==t&&e!==e)},hn=(t,e,n=H)=>{let s=t.length;if(s===e.length)for(;--s>=0&&n(t[s],e[s]););return s<0},dn=(t,e,n=H)=>t.size===e.size&&n([...t.keys()].sort(),[...e.keys()].sort()),mn=(t,e,n=H)=>t.size===e.size&&n([...t].sort(),[...e].sort()),pn=(t,e,n=H)=>{if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let s in t)if(!e.hasOwnProperty(s)||!n(t[s],e[s]))return!1;return!0},nt,st,gn=[],yn=[],_n=t=>nt&&nt.length>=t?nt:nt=new Int32Array(t),vn=t=>st&&st.length>=t?st:st=new Int32Array(t),ne=(t,e,n,s,i)=>{let r=e.length,o=t.linear;if(t.distance=r,i!=="only-distance"){for(let c=0,a=0;c<r;c++,a+=3)o[a]=s,o[a+1]=c,o[a+2]=e[c];if(i==="full"){let c=t[n];for(let a=0;a<r;a++)c[a]=e[a]}}return t},wn=(t,e,n="full",s=H)=>{let i={distance:0,adds:{},dels:{},const:{},linear:[]};if(t===e||t==null&&e==null)return i;if(t==null||t.length===0)return ne(i,e,"adds",1,n);if(e==null||e.length===0)return ne(i,t,"dels",-1,n);let r=t.length>=e.length,o,c,a,l;r?(o=e,c=t):(o=t,c=e),a=o.length,l=c.length;let u=a+1,h=l-a,f=h+u,d=a+l+3,p=vn(d).fill(-1,0,d),m=_n(d).fill(-1,0,d),_=gn,y=yn,k=(V,Xt,Jt)=>{let At,I;Xt>Jt?(At=p[V-1],I=Xt):(At=p[V+1],I=Jt);let tt=I-(V-u);for(;tt<a&&I<l&&s(o[tt],c[I]);)tt++,I++;p[V]=y.length/3,y.push(tt,I,At),m[V]=I},w=-1,O;do{for(w++,O=-w+u;O<f;O++)k(O,m[O-1]+1,m[O+1]);for(O=f+w;O>f;O--)k(O,m[O-1]+1,m[O+1]);k(f,m[f-1]+1,m[f+1])}while(m[f]!==l);if(i.distance=h+2*w,n!=="only-distance"){for(w=p[f]*3;w>=0;)_.push(w),w=y[w+2]*3;n==="full"?En(_,y,i,o,c,r):Tn(_,y,i,o,c,r,n==="only-distance-linear")}return _.length=0,y.length=0,i},En=(t,e,n,s,i,r)=>{let o=n.linear,c=n.const,a=t.length,l=0,u=0,h,f,d,p;for(r?(h=n.dels,f=n.adds,d=-1,p=1):(h=n.adds,f=n.dels,d=1,p=-1);--a>=0;){let m=t[a],_=e[m],y=e[m+1],k=y-_;for(;l<_||u<y;){let w=u-l;k>w?(o.push(d,u,h[u]=i[u]),u++):k<w?(o.push(p,l,f[l]=s[l]),l++):(o.push(0,l,c[l]=s[l]),l++,u++)}}},Tn=(t,e,n,s,i,r,o)=>{let c=n.linear,a=r?-1:1,l=r?1:-1,u=t.length,h=0,f=0;for(;--u>=0;){let d=t[u],p=e[d],m=e[d+1],_=m-p;for(;h<p||f<m;){let y=f-h;_>y?(c.push(a,f,i[f]),f++):_<y?(c.push(l,h,s[h]),h++):(o&&c.push(0,h,s[h]),h++,f++)}}},Sn=(t,e,n="full",s=H)=>t===e?{distance:0}:n==="only-distance"?On(t,e,s):An(t,e,s),On=(t,e,n)=>{t||(t={}),e||(e={});let s=0;for(let i in t){let r=e[i];(r===void 0||!n(t[i],r))&&s++}for(let i in e)!(i in t)&&s++;return{distance:s}},An=(t,e,n)=>{t||(t={}),e||(e={});let s=0,i=[],r=[],o=[];for(let c in t){let a=e[c];a===void 0?(r.push(c),s++):n(t[c],a)||(o.push(c,a),s++)}for(let c in e)c in t||(i.push(c),s++);return{distance:s,adds:i,dels:r,edits:o}},se=Object.getPrototypeOf({}),it="function",ie="string",z=(t,e)=>{let n;if(t===e)return!0;if(t!=null){if(typeof t.equiv===it)return t.equiv(e)}else return t==e;if(e!=null){if(typeof e.equiv===it)return e.equiv(t)}else return t==e;return typeof t===ie||typeof e===ie?!1:(n=Object.getPrototypeOf(t),(n==null||n===se)&&(n=Object.getPrototypeOf(e),n==null||n===se)?ae(t,e):typeof t!==it&&t.length!==void 0&&typeof e!==it&&e.length!==void 0?re(t,e):t instanceof Set&&e instanceof Set?oe(t,e):t instanceof Map&&e instanceof Map?ce(t,e):t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():t instanceof RegExp&&e instanceof RegExp?t.toString()===e.toString():t!==t&&e!==e)},re=(t,e,n=z)=>{let s=t.length;if(s===e.length)for(;--s>=0&&n(t[s],e[s]););return s<0},oe=(t,e,n=z)=>t.size===e.size&&n([...t.keys()].sort(),[...e.keys()].sort()),ce=(t,e,n=z)=>t.size===e.size&&n([...t].sort(),[...e].sort()),ae=(t,e,n=z)=>{if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let s in t)if(!e.hasOwnProperty(s)||!n(t[s],e[s]))return!1;return!0},rt=Array.isArray,kn=Math.max,le=Object.getPrototypeOf({}),ot="function",ct="string",fe=(()=>{let t=new Array(2048);for(let e=2,n=t.length;e<n;e++)t[e]=e-2;return t})(),jn=t=>{if(t<=fe.length)return fe.slice(0,t);let e=new Array(t);for(;--t>=2;)e[t]=t-2;return e},ue=(t,e,n,s,i,r=0)=>{let o=i[1];if(o.__skip)return;if(o.__diff===!1){B(s),e.replaceChild(t,n,r,i);return}let c=s[1];if(c&&c.__skip){e.replaceChild(t,n,r,i,!1);return}let a=o.__impl;if(a&&a!==e)return a.diffTree(t,a,n,s,i,r);let l=wn(s,i,"only-distance-linear",W);if(l.distance===0)return;let u=l.linear,h=e.getChild(n,r),f,d,p;if(u[0]!==0||s[1].key!==o.key){B(s),e.replaceChild(t,n,r,i);return}if((p=s.__release)&&p!==i.__release&&B(s),u[3]!==0&&(Mn(e,h,s[1],i[1]),l.distance===2))return;let m=u.length,_=s.length-1,y=Rn(u),k=jn(_+1);for(f=6;f<m;f+=3)d=u[f],!!d&&(d===-1?In(t,e,h,s,i,u,f,y,k,_):Dn(t,e,h,u,f,y,k,_));(p=i.__init)&&p!=s.__init&&p.apply(i,[h,...i.__args])},In=(t,e,n,s,i,r,o,c,a,l)=>{let u=r[o+2];if(rt(u)){let h=u[1].key;if(h!==void 0&&c[h][2]!==void 0){let f=c[h];h=f[0],ue(t,e,n,s[h],i[f[2]],a[h])}else{let f=r[o+1];B(u),e.removeChild(n,a[f]),bn(a,l,f)}}else typeof u===ct&&e.setContent(n,"")},Dn=(t,e,n,s,i,r,o,c)=>{let a=s[i+2];if(typeof a===ct)e.setContent(n,a);else if(rt(a)){let l=a[1].key;if(l===void 0||r[l][0]===void 0){let u=s[i+1];e.createTree(t,n,a,o[u]),Fn(o,c,u)}}},bn=(t,e,n)=>{for(;e>n;e--)t[e]=kn(t[e]-1,0)},Fn=(t,e,n)=>{for(;e>=n;e--)t[e]++},Mn=(t,e,n,s)=>{let i=Sn(n,s,"full",z);t.removeAttribs(e,i.dels,n);let r=Kt,o,c,a;for(a=i.edits,o=a.length;(o-=2)>=0;)c=a[o],c[0]==="o"&&c[1]==="n"&&t.removeAttribs(e,[c],n),c!=="value"?t.setAttrib(e,c,a[o+1],s):r=a[o+1];for(a=i.adds,o=a.length;--o>=0;)c=a[o],c!=="value"?t.setAttrib(e,c,s[c],s):r=s[c];r!==Kt&&t.setAttrib(e,"value",r,s)},B=t=>{if(rt(t)){let e;if((e=t[1])&&e.__release===!1)return;for(t.__release&&(t.__release.apply(t.__this,t.__args),delete t.__release),e=t.length;--e>=2;)B(t[e])}},Rn=t=>{let e,n,s,i={};for(let r=t.length;(r-=3)>=0;)n=t[r+2],rt(n)&&(e=n[1].key)!==void 0&&(s=i[e],!s&&(i[e]=s=[,,]),s[t[r]+1]=t[r+1]);return i},W=(t,e)=>{let n;if(t===e)return!0;if(t!=null){if(typeof t.equiv===ot)return t.equiv(e)}else return t==e;if(e!=null){if(typeof e.equiv===ot)return e.equiv(t)}else return t==e;return typeof t===ct||typeof e===ct?!1:(n=Object.getPrototypeOf(t),(n==null||n===le)&&(n=Object.getPrototypeOf(e),n==null||n===le)?!(t.__diff===!1||e.__diff===!1)&&ae(t,e,W):typeof t!==ot&&t.length!==void 0&&typeof e!==ot&&e.length!==void 0?re(t,e,W):t instanceof Set&&e instanceof Set?oe(t,e,W):t instanceof Map&&e instanceof Map?ce(t,e,W):t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():t instanceof RegExp&&e instanceof RegExp?t.toString()===e.toString():t!==t&&e!==e)},Cn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"},Nn=/^([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?$/;new RegExp(`[${Object.keys(Cn).join("")}]`,"g");var Pn={button:1,option:1,script:1,style:1,text:1,textarea:1,title:1},kt=t=>t.split(" ").reduce((e,n)=>(e[n]=!0,e),{}),Hn=kt("animate animateColor animateMotion animateTransform circle clipPath color-profile defs desc discard ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feDropShadow feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font foreignObject g image line linearGradient marker mask metadata mpath path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view");kt("area base br col command embed hr img input keygen link meta param source stop track use wbr ?xml");kt("animate circle ellipse line path polygon polyline rect");var Ln=t=>t!=null&&typeof t.deref=="function",at=t=>Ln(t)?t.deref():t,he=(t,e)=>{if(e=at(e),e==null)return t;if(T(e))return t+" "+e;let n=new Set(t.split(" "));for(let s in e)at(e[s])?n.add(s):n.delete(s);return[...n].join(" ")},xn=(t,e,n)=>{e&&(t.id=e);let s=at(t.class);return n?(n=n.replace(/\./g," "),t.class=s?he(n,s):n):s&&(t.class=T(s)?s:he("",s)),t},Un=t=>{let e="",n;for(let s in t)n=at(t[s]),G(n)&&(n=n(t)),n!=null&&(e+=`${s}:${n};`);return e},$n=(t,e)=>{if(t==null||!e||!e.length)return t;let n=Object.assign({},t);for(let s of e){let i=n[s];b(i,"deref")&&(n[s]=i.deref())}return n},qn=t=>Object.keys(t).reduce((e,n)=>(e.push(`${n}: ${t[n]}`),e),[]).join(" "),Vn="http://www.w3.org/2000/svg",lt=v,de=Yt,me=T,pe=(t,e)=>e.__init&&e.__init.apply(e.__this,[t,...e.__args]),ft=(t,e,n,s,i,r=!0)=>{if(lt(s)){let o=s[0];if(typeof o=="function")return ft(t,e,n,o.apply(null,[t.ctx,...s.slice(1)]),i);let c=s[1];if(c.__impl)return c.__impl.createTree(t,n,s,i,r);let a=e.createElement(n,o,c,i);if(s.length>2){let l=s.length;for(let u=2;u<l;u++)ft(t,e,a,s[u],void 0,r)}return r&&pe(a,s),a}if(de(s)){let o=[];for(let c of s)o.push(ft(t,e,n,c,i,r));return o}return s==null?n:e.createTextElement(n,s)},ut=(t,e,n,s,i=0)=>{if(lt(s)){let r=e.getChild(n,i);typeof s[0]=="function"&&ut(t,e,n,s[0].apply(null,[t.ctx,...s.slice(1)]),i);let o=s[1];if(o.__impl)return o.__impl.hydrateTree(t,n,s,i);pe(r,s);for(let c in o)c[0]==="o"&&c[1]==="n"&&e.setAttrib(r,c,o[c]);for(let c=s.length,a=2;a<c;a++)ut(t,e,r,s[a],a-2)}else if(de(s))for(let r of s)ut(t,e,n,r,i),i++},zn=(t,e,n,s)=>{let i=Hn[e]?document.createElementNS(Vn,e):document.createElement(e);return n&&Gn(i,n),ge(t,i,s)},Bn=(t,e,n)=>ge(t,document.createTextNode(e),n),ge=(t,e,n)=>t?n===void 0?t.appendChild(e):t.insertBefore(e,t.children[n]):e,Wn=(t,e)=>t.children[e],Qn=(t,e,n,s,i,r=!0)=>(e.removeChild(n,s),e.createTree(t,n,i,s,r)),Xn=(t,e)=>t.textContent=e,Gn=(t,e)=>{for(let n in e)ye(t,n,e[n],e);return t},ye=(t,e,n,s)=>{if(e.startsWith("__"))return;let i=e[0]==="o"&&e[1]==="n";if(!i&&typeof n=="function"&&(n=n(s)),n!==void 0&&n!==!1)switch(e){case"style":Yn(t,n);break;case"value":Jn(t,n);break;case"prefix":t.setAttribute(e,me(n)?n:qn(n));break;case"accesskey":t.accessKey=n;break;case"contenteditable":t.contentEditable=n;break;case"tabindex":t.tabIndex=n;break;case"align":case"autocapitalize":case"checked":case"dir":case"draggable":case"hidden":case"id":case"lang":case"namespaceURI":case"scrollTop":case"scrollLeft":case"title":t[e]=n;break;default:i?Zn(t,e.substr(2),n):t.setAttribute(e,n===!0?"":n)}else t[e]!=null?t[e]=null:t.removeAttribute(e);return t},Jn=(t,e)=>{let n;switch(t.type){case"text":case"textarea":case"password":case"search":case"number":case"email":case"url":case"tel":case"date":case"datetime-local":case"time":case"week":case"month":if((n=t.value)!==void 0&&typeof e=="string"){let s=e.length-(n.length-(t.selectionStart||0));t.value=e,t.selectionStart=t.selectionEnd=s;break}default:t.value=e}},ts=(t,e,n)=>{for(let s=e.length;--s>=0;){let i=e[s];i[0]==="o"&&i[1]==="n"?Kn(t,i.substr(2),n[i]):t.hasAttribute(i)?t.removeAttribute(i):t[i]=null}},Yn=(t,e)=>(t.setAttribute("style",Un(e)),t),Zn=(t,e,n)=>me(n)?t.setAttribute("on"+e,n):lt(n)?t.addEventListener(e,...n):t.addEventListener(e,n),Kn=(t,e,n)=>lt(n)?t.removeEventListener(e,...n):t.removeEventListener(e,n),es=(t,e)=>{let n=t.children[e];n!==void 0&&t.removeChild(n)},ns=(t,e=n=>n!==void 0?": "+n:"")=>class extends Error{constructor(n){super(t(n)+e(n))}},ss=ns(()=>"illegal argument(s)"),is=t=>{throw new ss(t)},ht=v,rs=Yt,os=un,cs=(t,e)=>{let n=t[0],s=os(t[1]),i,r,o;return(typeof n!="string"||!(i=Nn.exec(n)))&&is(`${n} is not a valid tag name`),r=i[1],n===r&&s&&(!e||t[1].key)?t:(o=xn(s?Object.assign({},t[1]):{},i[2],i[3]),o.__skip&&t.length<3?[r,o]:[r,o,...t.slice(s?2:1)])},as=(t,e)=>D(e,t,t.ctx,[0],t.keys!==!1,t.span!==!1),D=(t,e,n,s,i,r)=>{if(t!=null){if(ht(t)){if(t.length===0)return;let o,c=t[1],a;if(c&&(a=c.__impl)&&(a=a.normalizeTree))return a(e,t);let l=t[0];if(typeof l=="function")return D(l.apply(null,[n,...t.slice(1)]),e,n,s,i,r);if(typeof l.render=="function"){let u=[n,...t.slice(1)];return o=D(l.render.apply(l,u),e,n,s,i,r),ht(o)&&(o.__this=l,o.__init=l.init,o.__release=l.release,o.__args=u),o}return o=cs(t,i),c=o[1],c.__normalize===!1?o:(i&&c.key===void 0&&(c.key=s.join("-")),o.length>2?ls(o,c,e,n,s,i,r):o)}return typeof t=="function"?D(t(n),e,n,s,i,r):typeof t.toHiccup=="function"?D(t.toHiccup(e.ctx),e,n,s,i,r):typeof t.deref=="function"?D(t.deref(),e,n,s,i,r):r?["span",i?{key:s.join("-")}:{},t.toString()]:t.toString()}},ls=(t,e,n,s,i,r,o)=>{let c=t[0],a=[c,e];o=o&&!Pn[c];for(let l=2,u=2,h=0,f=t.length;l<f;l++){let d=t[l];if(d!=null){let p=ht(d);if(p&&ht(d[0])||!p&&rs(d))for(let m of d)m=D(m,n,s,i.concat(h),r,o),m!==void 0&&(a[u++]=m),h++;else d=D(d,n,s,i.concat(h),r,o),d!==void 0&&(a[u++]=d),h++}}return a},fs={createTree(t,e,n,s,i){return ft(t,this,e,n,s,i)},hydrateTree(t,e,n,s){return ut(t,this,e,n,s)},diffTree(t,e,n,s,i){ue(t,this,e,n,s,i)},normalizeTree:as,getElementById(t){return document.getElementById(t)},getChild:Wn,createElement:zn,createTextElement:Bn,replaceChild(t,e,n,s,i){Qn(t,this,e,n,s,i)},removeChild:es,setContent:Xn,removeAttribs:ts,setAttrib:ye},us=(t,e)=>T(t)?e.getElementById(t):t,_e=(t,e={},n=fs)=>{let s=Object.assign({root:"app"},e),i=[],r=!0,o=us(s.root,n),c=()=>{if(r){s.ctx=$n(e.ctx,s.autoDerefKeys);let a=n.normalizeTree(s,t);a!=null&&(s.hydrate?(n.hydrateTree(s,o,a),s.hydrate=!1):n.diffTree(s,o,i,a),i=a),r&&requestAnimationFrame(c)}};return requestAnimationFrame(c),()=>r=!1};function dt(t,e,n,s){var i=arguments.length,r=i<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(t,e,n,s);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r}var mt=(t,e={})=>{let n=Reflect.ownKeys(t),s=Reflect.ownKeys(e),i=Symbol("isa");function r(o){for(let c of n){let a=Object.getOwnPropertyDescriptor(o.prototype,c);!a||a.configurable?Object.defineProperty(o.prototype,c,{value:t[c],writable:!0}):console.log(`not patching: ${o.name}.${c.toString()}`)}return Object.defineProperty(o.prototype,i,{value:!0}),o}for(let o of s)Object.defineProperty(r,o,{value:e[o],enumerable:e.propertyIsEnumerable(o)});return Object.defineProperty(r,Symbol.hasInstance,{value:o=>!!o[i]}),r};var L=(t,e=n=>n!==void 0?": "+n:"")=>class extends Error{constructor(n){super(t(n)+e(n))}};var hs=mt({addWatch(t,e){return this._watches=this._watches||{},this._watches[t]?!1:(this._watches[t]=e,!0)},removeWatch(t){if(!!this._watches)return this._watches[t]?(delete this._watches[t],!0):!1},notifyWatches(t,e){if(!this._watches)return;let n=this._watches;for(let s in n)n[s](s,t,e)}}),ds=L(()=>"illegal state"),ms=t=>{throw new ds(t)},ps=t=>t&&(t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Int8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Uint8ClampedArray),pt=t=>v(t)?t:T(t)?t.length>0?t.split("."):[]:t!=null?[t]:[],Ee=t=>ve(t);function ve(t){let e=pt(t),[n,s,i,r]=e;switch(e.length){case 0:return o=>o;case 1:return o=>o!=null?o[n]:void 0;case 2:return o=>o!=null&&(o=o[n])!=null?o[s]:void 0;case 3:return o=>o!=null&&(o=o[n])!=null&&(o=o[s])!=null?o[i]:void 0;case 4:return o=>o!=null&&(o=o[n])!=null&&(o=o[s])!=null&&(o=o[i])!=null?o[r]:void 0;default:return o=>{let c=e.length-1,a=o;for(let l=0;a!=null&&l<=c;l++)a=a[e[l]];return a}}}var Te=t=>jt(t);function jt(t){let e=pt(t),[n,s,i,r]=e;switch(e.length){case 0:return(c,a)=>a;case 1:return(c,a)=>(c=A(c),c[n]=a,c);case 2:return(c,a)=>{let l;return c=A(c),c[n]=l=A(c[n]),l[s]=a,c};case 3:return(c,a)=>{let l,u;return c=A(c),c[n]=l=A(c[n]),l[s]=u=A(l[s]),u[i]=a,c};case 4:return(c,a)=>{let l,u,h;return c=A(c),c[n]=l=A(c[n]),l[s]=u=A(l[s]),u[i]=h=A(u[i]),h[r]=a,c};default:let o;for(let c=e.length;--c>=0;)o=gs(e[c],o);return o}}var A=t=>v(t)||ps(t)?t.slice():Object.assign({},t),gs=(t,e)=>(n,s)=>(n=A(n),n[t]=e?e(n[t],s):s,n),Q=(t,e,n,...s)=>ys(t,e,n,...s);function ys(t,e,n,...s){return jt(e)(t,n.apply(null,(s.unshift(ve(e)(t)),s)))}var gt=(t,e,n)=>jt(e)(t,n),F=class{constructor(e,n){n&&!n(e)&&ms("initial state value did not validate"),this._value=e,this.valid=n}get value(){return this._value}set value(e){this.reset(e)}deref(){return this._value}equiv(e){return this===e}reset(e){let n=this._value;return this.valid&&!this.valid(e)?n:(this._value=e,this.notifyWatches(n,e),e)}resetIn(e,n){return this.reset(gt(this._value,e,n))}resetInUnsafe(e,n){return this.reset(gt(this._value,e,n))}swap(e,...n){return this.reset(e.apply(null,[this._value,...n]))}swapIn(e,n,...s){return this.reset(Q(this._value,e,n,...s))}swapInUnsafe(e,n,...s){return this.reset(Q(this._value,e,n,...s))}addWatch(e,n){}removeWatch(e){}notifyWatches(e,n){}release(){return delete this._watches,delete this._value,!0}};F=dt([hs],F);var we=Object.getPrototypeOf({}),yt="function",Oe="string",j=(t,e)=>{let n;if(t===e)return!0;if(t!=null){if(typeof t.equiv===yt)return t.equiv(e)}else return t==e;if(e!=null){if(typeof e.equiv===yt)return e.equiv(t)}else return t==e;return typeof t===Oe||typeof e===Oe?!1:(n=Object.getPrototypeOf(t),(n==null||n===we)&&(n=Object.getPrototypeOf(e),n==null||n===we)?Ts(t,e):typeof t!==yt&&t.length!==void 0&&typeof e!==yt&&e.length!==void 0?_s(t,e):t instanceof Set&&e instanceof Set?vs(t,e):t instanceof Map&&e instanceof Map?Es(t,e):t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():t instanceof RegExp&&e instanceof RegExp?t.toString()===e.toString():t!==t&&e!==e)},_s=(t,e,n=j)=>{let s=t.length;if(s===e.length)for(;--s>=0&&n(t[s],e[s]););return s<0},vs=(t,e,n=j)=>t.size===e.size&&n([...t.keys()].sort(),[...e.keys()].sort()),Es=(t,e,n=j)=>t.size===e.size&&n([...t].sort(),[...e].sort()),Ts=(t,e,n=j)=>{if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let s in t)if(!e.hasOwnProperty(s)||!n(t[s],e[s]))return!1;return!0};var ws=0,Os=()=>ws++;function It(t,e,n,s,i){return new Ae(t,e,n,s,i)}var Ae=class{constructor(e,n,s,i=!0,r=j){this.parent=e,this.id=`view-${Os()}`,this.tx=s||(a=>a),this.path=pt(n),this.isDirty=!0,this.isLazy=i;let o=Ee(this.path),c=this.parent.deref();this.unprocessed=c?o(c):void 0,i||(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),e.addWatch(this.id,(a,l,u)=>{let h=l&&o(l),f=u&&o(u);r(f,h)||(i?this.unprocessed=f:this.state=this.tx(f),this.isDirty=!0)})}get value(){return this.deref()}deref(){return this.isDirty&&(this.isLazy&&(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),this.isDirty=!1),this.state}changed(){return this.isDirty}view(){return this.isDirty&&this.isLazy?this.tx(this.unprocessed):this.state}release(){return this.unprocessed=void 0,this.isLazy||(this.state=this.tx(void 0)),this.isDirty=!0,this.parent.removeWatch(this.id)}};var As=L(()=>"illegal argument(s)"),_t=t=>{throw new As(t)};var Dt;(function(t){t[t.FINE=0]="FINE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.SEVERE=4]="SEVERE",t[t.NONE=5]="NONE"})(Dt||(Dt={}));var Ss=Object.freeze({level:Dt.NONE,fine(){},debug(){},info(){},warn(){},severe(){}}),ks=t=>t instanceof Promise,X="--set-value",js="--update-value",Mt="--toggle-value",Rt="--cancel",Is="--dispatch",bt="--dispatch-async",Ft="--dispatch-now",Ds="--delay",Ct="--fetch",S="--state",Ms="--redo",Rs="--undo",x=Ss,Se=class{constructor(e,n){this.handlers={},this.effects={},this.eventQueue=[],this.priorities=[],this.addBuiltIns(),e&&this.addHandlers(e),n&&this.addEffects(n)}addBuiltIns(){this.addEffects({[Is]:[e=>this.dispatch(e),-999],[bt]:[([e,n,s,i],r,o)=>{let c=this.effects[e];if(c){let a=c(n,r,o);ks(a)?a.then(l=>this.dispatch([s,l])).catch(l=>this.dispatch([i,l])):x.warn("async effect did not return Promise")}else x.warn(`skipping invalid async effect: ${e}`)},-999],[Ds]:[([e,n])=>new Promise(s=>setTimeout(()=>s(n),e)),1e3],[Ct]:[e=>fetch(e).then(n=>{if(!n.ok)throw new Error(n.statusText);return n}),1e3]})}addHandler(e,n){let s=this.interceptorsFromSpec(n);s.length>0?(this.handlers[e]&&(this.removeHandler(e),x.warn(`overriding handler for ID: ${e}`)),this.handlers[e]=s):_t(`no handlers in spec for ID: ${e}`)}addHandlers(e){for(let n in e)this.addHandler(n,e[n])}addEffect(e,n,s=1){this.effects[e]&&(this.removeEffect(e),x.warn(`overriding effect for ID: ${e}`)),this.effects[e]=n;let i=[e,s],r=this.priorities;for(let o=0;o<r.length;o++)if(i[1]<r[o][1]){r.splice(o,0,i);return}r.push(i)}addEffects(e){for(let n in e){let s=e[n];v(s)?this.addEffect(n,s[0],s[1]):this.addEffect(n,s)}}instrumentWith(e,n){let s=e.map(ke),i=this.handlers;for(let r of n||Object.keys(i)){let o=i[r];o&&(i[r]=s.concat(o))}}removeHandler(e){delete this.handlers[e]}removeHandlers(e){for(let n of e)this.removeHandler(n)}removeEffect(e){delete this.effects[e];let n=this.priorities;for(let s=n.length-1;s>=0;s--)if(e===n[s][0]){n.splice(s,1);return}}removeEffects(e){for(let n of e)this.removeEffect(n)}context(){return this.currCtx}dispatch(...e){this.eventQueue.push(...e)}dispatchNow(...e){(this.currQueue||this.eventQueue).push(...e)}dispatchLater(e,n=17){setTimeout(()=>this.dispatch(e),n)}processQueue(e){if(this.eventQueue.length>0){this.currQueue=[...this.eventQueue],this.eventQueue.length=0,e=this.currCtx=e||{};for(let n of this.currQueue)this.processEvent(e,n);return this.currQueue=this.currCtx=void 0,this.processEffects(e),!0}return!1}processEvent(e,n){let s=this.handlers[n[0]];if(!s){x.warn(`missing handler for event type: ${n[0].toString()}`);return}!this.processForward(e,s,n)||this.processReverse(e,s,n)}processForward(e,n,s){let i=!1;for(let r=0,o=n.length;r<o&&!e[Rt];r++){let c=n[r];c.pre&&this.mergeEffects(e,c.pre(e[S],s,this,e)),i=i||!!c.post}return i}processReverse(e,n,s){for(let i=n.length;--i>=0&&!e[Rt];){let r=n[i];r.post&&this.mergeEffects(e,r.post(e[S],s,this,e))}}processEffects(e){let n=this.effects;for(let s of this.priorities){let i=s[0],r=e[i];r!==void 0&&this.processEffect(e,n,i,r)}}processEffect(e,n,s,i){let r=n[s];if(s!==S)for(let o of i)r(o,this,e);else r(i,this,e)}mergeEffects(e,n){if(!!n)for(let s in n){let i=n[s];if(i!=null)if(s===S||s===Rt)e[s]=i;else if(s===Ft)if(v(i[0]))for(let r of i)r&&this.dispatchNow(r);else this.dispatchNow(i);else if(e[s]||(e[s]=[]),v(i[0]))for(let r of i)r!==void 0&&e[s].push(r);else e[s].push(i)}}interceptorsFromSpec(e){return v(e)?e.map(ke):G(e)?[{pre:e}]:[e]}},Nt=class extends Se{constructor(e,n,s){super(n,s);this.state=e||new F({})}deref(){return this.state.deref()}addBuiltIns(){super.addBuiltIns(),this.addHandlers({[X]:(e,[n,[s,i]])=>({[S]:gt(e,s,i)}),[js]:(e,[n,[s,i,...r]])=>({[S]:Q(e,s,i,...r)}),[Mt]:(e,[n,s])=>({[S]:Q(e,s,i=>!i)}),[Rs]:je("undo"),[Ms]:je("redo")}),this.addEffects({[S]:[e=>this.state.reset(e),-1e3]})}processQueue(e){if(this.eventQueue.length>0){let n=this.state.deref();this.currQueue=[...this.eventQueue],this.eventQueue.length=0,e=this.currCtx=Object.assign(Object.assign({},e),{[S]:n});for(let s of this.currQueue)this.processEvent(e,s);return this.currQueue=this.currCtx=void 0,this.processEffects(e),this.state.deref()!==n}return!1}},ke=t=>G(t)?{pre:t}:t,je=t=>(e,[n,s],i,r)=>{let o=s?s[0]:"history";if(b(r[o],t)){let c=r[o][t]();return{[S]:i.state.deref(),[Ft]:s?c!==void 0?s[1]:s[2]:void 0}}else x.warn("no history in context")},Ie=(t,e)=>console.log("event:",e),Pt=t=>(e,[n,s])=>({[t]:s!==void 0?s:!0}),Ht=t=>()=>({[Ft]:t}),J=(t,e)=>{let n=Te(t);return(s,[i,r])=>({[S]:n(s,e?e(r):r)})};var vt=Symbol(),Y=()=>{},De="*",bs=L(()=>"illegal arity"),C=t=>{throw new bs(t)};var Fs={},Lt=(()=>{try{return Fs.env.UMBRELLA_ASSERTS==="1"}catch(t){}return!1})()?(t,e="assertion failed")=>{if(typeof t=="function"&&!t()||!t)throw new Error(typeof e=="function"?e():e)}:Y,Me=(t,e)=>{if(!!t){for(let n=0,s=t.length,i;n<s;n++)if(i=t[n],i[0].call(i[1],e),e.canceled)return}},Cs=mt({addListener(t,e,n){let s=(this._listeners=this._listeners||{})[t];return!s&&(s=this._listeners[t]=[]),this.__listener(s,e,n)===-1?(s.push([e,n]),!0):!1},removeListener(t,e,n){let s;if(!(s=this._listeners))return!1;let i=s[t];if(i){let r=this.__listener(i,e,n);if(r!==-1)return i.splice(r,1),!i.length&&delete s[t],!0}return!1},notify(t){let e;if(!(e=this._listeners))return!1;t.target===void 0&&(t.target=this),Me(e[t.id],t),Me(e[De],t)},__listener(t,e,n){let s=t.length;for(;--s>=0;){let i=t[s];if(i[0]===e&&i[1]===n)break}return s}}),N="route-changed",xt=class{constructor(e){if(e.authenticator=e.authenticator||((n,s,i)=>({id:n.id,title:n.title,params:i})),e.prefix=e.prefix===void 0?"/":e.prefix,e.separator=e.separator||"/",this.config=e,Lt(this.routeForID(this.config.defaultRouteID)!==void 0,`missing config for default route: '${this.config.defaultRouteID}'`),e.initialRouteID){let n=this.routeForID(e.initialRouteID);Lt(n!==void 0,`missing config for initial route: ${this.config.initialRouteID}`),Lt(!Ns(n),"initial route MUST not be parametric")}}addListener(e,n,s){}removeListener(e,n,s){}notify(e){}start(){if(this.config.initialRouteID){let e=this.routeForID(this.config.initialRouteID);this.current={id:e.id,title:e.title,params:{}},this.notify({id:N,value:this.current})}}route(e){e.charAt(0)==="#"&&(e=e.substr(1)),e=e.substr(this.config.prefix.length);let n=this.matchRoutes(e);if(!n){if(!this.handleRouteFailure())return;let s=this.routeForID(this.config.defaultRouteID);n={id:s.id,title:s.title,params:{}}}return j(n,this.current)||(this.current=n,this.notify({id:N,value:n})),n}format(...e){let[n,s,i]=e,r;switch(e.length){case 3:r={id:n,params:s};break;case 2:T(n)?r={id:n,params:s}:(i=s,r=n);break;case 1:r=T(n)?{id:n}:n;break;default:C(e.length)}let o=this.routeForID(r.id);if(o){let c=r.params||{};return(i?"#":"")+this.config.prefix+o.match.map(a=>a.charAt(0)==="?"?(a=c[a.substr(1)])!=null?a:"NULL":a).join(this.config.separator)}else _t(`invalid route ID: ${r.id}`)}routeForID(e){return this.config.routes.find(n=>n.id===e)}matchRoutes(e){let n=this.config.routes,s=e.split(this.config.separator);for(let i=0,r=n.length;i<r;i++){let o=this.matchRoute(s,n[i]);if(o)return o}}matchRoute(e,n){let s=n.match,i=s.length;if(e.length===i){let r={};for(let o=0;o<i;o++){let c=s[o];if(c.charAt(0)==="?")r[c.substr(1)]=e[o];else if(e[o]!==c)return}return n.validate&&!this.validateRouteParams(r,n.validate)?void 0:n.auth?this.config.authenticator(n,e,r):{id:n.id,title:n.title,params:r}}}validateRouteParams(e,n){for(let s in n)if(e[s]!==void 0){let i=n[s];if(i.coerce&&(e[s]=i.coerce(e[s])),i.check&&!i.check(e[s]))return!1}return!0}handleRouteFailure(){return!0}};xt=dt([Cs],xt);var Ns=t=>t.match.some(e=>e.charAt(0)==="?"),Ut=class extends xt{constructor(e){super(e);this.useFragment=e.useFragment!==!1,this.ignoreHashChange=!1}start(){if(window.addEventListener("popstate",this.handlePopChange()),this.useFragment&&window.addEventListener("hashchange",this.handleHashChange()),this.config.initialRouteID){let e=this.routeForID(this.config.initialRouteID);this.route(this.format({id:e.id,title:e.title}))}else this.route(this.useFragment?location.hash:location.pathname)}release(){window.removeEventListener("popstate",this.popHandler),this.useFragment&&window.removeEventListener("hashchange",this.hashHandler)}route(e,n=!0){let s=this.current,i=super.route(e);return i&&!j(i,s)&&(this.currentPath=this.format(i),n&&history.pushState(this.currentPath,i.title||window.document.title||"",this.currentPath)),i}routeTo(e){this.useFragment&&(location.hash=e),this.route(e)}format(...e){let n;switch(e.length){case 2:n={id:e[0],params:e[1]};break;case 1:n=T(e[0])?{id:e[0]}:e[0];break;default:C(e.length)}return super.format(n,this.useFragment)}handlePopChange(){return this.popHandler=this.popHandler||(e=>{this.route(e.state||(this.useFragment?location.hash:location.pathname),!1)}).bind(this)}handleHashChange(){return this.hashHandler=this.hashHandler||(e=>{if(!this.ignoreHashChange){let n=e.newURL.substr(e.newURL.indexOf("#"));n!==this.currentPath&&this.route(n,!1)}}).bind(this)}handleRouteFailure(){return this.ignoreHashChange=!0,location.hash=this.format({id:this.routeForID(this.config.defaultRouteID).id}),this.ignoreHashChange=!1,!0}};var Ps=1e3,Hs=60*Ps,Ls=[31,28,31,30,31,30,31,31,30,31,30,31],Re=(t,e)=>new U(t,e),U=class{constructor(e=Date.now(),n="t"){let s=Et(e),i="yMdhmst".indexOf(n);this.y=s.getUTCFullYear(),this.M=i>=1?s.getUTCMonth():0,this.d=i>=2?s.getUTCDate():1,this.h=i>=3?s.getUTCHours():0,this.m=i>=4?s.getUTCMinutes():0,this.s=i>=5?s.getUTCSeconds():0,this.t=i>=6?s.getUTCMilliseconds():0}copy(){return new U(this.getTime())}getTime(){return Date.UTC(this.y,this.M,this.d,this.h,this.m,this.s,this.t)}compare(e){return this.getTime()-Et(e).getTime()}equiv(e){return e instanceof U||e instanceof Date||typeof e=="number"?this.compare(e)===0:!1}eqDelta(e,n=0){return Math.abs(this.getTime()-Et(e).getTime())<=n}daysInMonth(){return Ls[this.M]+(this.M===1&&this.isLeapYear()?1:0)}isLeapYear(){return!(this.y%4)&&(!!(this.y%100)||!(this.y%400))}incMillisecond(){return++this.t>999&&(this.t=0,this.incSecond()),this.t}decMillisecond(){return--this.t<0&&(this.t=999,this.decSecond()),this.t}incSecond(){return++this.s>59&&(this.s=0,this.incMinute()),this.s}decSecond(){return--this.s<0&&(this.s=59,this.decMinute()),this.s}incMinute(){return++this.m>59&&(this.m=0,this.incHour()),this.m}decMinute(){return--this.m<0&&(this.m=59,this.decHour()),this.m}incHour(){return++this.h>23&&(this.h=0,this.incDay()),this.h}decHour(){return--this.h<0&&(this.h=23,this.decDay()),this.h}incDay(){return++this.d>this.daysInMonth()&&(this.d=1,this.incMonth()),this.d}decDay(){return--this.d<1&&(this.decMonth(),this.d=this.daysInMonth()),this.d}incWeek(){this.d+=7;let e=this.daysInMonth();return this.d>e&&(this.d-=e,this.incMonth()),this.d}decWeek(){return this.d-=7,this.d<1&&(this.decMonth(),this.d+=this.daysInMonth()),this.d}incMonth(){return++this.M>11&&(this.M=0,++this.y),this.M}decMonth(){return--this.M<0&&(this.M=11,--this.y),this.M}incYear(){return++this.y}decYear(){return--this.y}toDate(){return new Date(this.getTime())}toJSON(){return this.toISOString()}toString(){return this.toDate().toUTCString()}toISOString(){return this.toDate().toISOString()}},Et=t=>typeof t=="number"?new Date(t):t instanceof U?t.toDate():t,xs={months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},be=xs,M=t=>t<10?"0"+t:String(t),Fe={yyyy:t=>String(t.getFullYear()),yy:t=>String(t.getFullYear()%100),MMM:t=>be.months[t.getMonth()],MM:t=>M(t.getMonth()+1),M:t=>String(t.getMonth()+1),dd:t=>M(t.getDate()),d:t=>String(t.getDate()),E:t=>be.days[t.getDay()],HH:t=>M(t.getHours()),hh:t=>{let e=t.getHours()%12;return M(e>0?e:12)},h:t=>{let e=t.getHours()%12;return String(e>0?e:12)},mm:t=>M(t.getMinutes()),m:t=>String(t.getMinutes()),ss:t=>M(t.getSeconds()),s:t=>String(t.getSeconds()),S:t=>String(t.getMilliseconds()),A:t=>String(t.getHours()<12?"AM":"PM"),Z:t=>{let e=t.getTimezoneOffset(),n=Math.abs(e);return`${e<0?"-":"+"}${M(n/60|0)}:${M(n%60)}`},ZZ:t=>t.getTimezoneOffset()===0?"Z":Fe.Z(t)},Ce=t=>(e,n=!1)=>{let s=Et(e);return n&&(s=new Date(s.getTime()+s.getTimezoneOffset()*Hs)),t.map(i=>{let r;return typeof i=="string"?i.startsWith("\\")?i.substr(1):(r=Fe[i])?r(s):i:typeof i=="function"?i(s):i}).join("")};var Us=t=>t!=null&&typeof t!="function"&&t.length!==void 0,Ne=t=>t!=null&&typeof t[Symbol.iterator]=="function",$t=t=>b(t,"xform")?t.xform():t,qt=class{constructor(e){this.value=e}deref(){return this.value}},Vt=t=>t instanceof qt,Pe=t=>t instanceof qt?t.deref():t,$s=t=>t.length===2?[void 0,t[1]]:t.length===3?[t[1],t[2]]:C(t.length);function Gs(...t){let e=t[0],n=e[0],s=e[1],i=e[2];t=$s(t);let r=t[0]==null?n():t[0],o=t[1];return Pe(s(b(o,"$reduce")?o.$reduce(i,r):Us(o)?qs(i,r,o):Vs(i,r,o)))}var qs=(t,e,n)=>{for(let s=0,i=n.length;s<i;s++)if(e=t(e,n[s]),Vt(e)){e=e.deref();break}return e},Vs=(t,e,n)=>{for(let s of n)if(e=t(e,s),Vt(e)){e=e.deref();break}return e},zs=(t,e)=>[t,n=>n,e];function He(t){return t?[...t]:zs(()=>[],(e,n)=>(e.push(n),e))}function*Le(t,e){let n=$t(t)([Y,Y,(s,i)=>i])[2];for(let s of e){let i=n(vt,s);if(Vt(i)){i=Pe(i.deref()),i!==vt&&(yield i);return}i!==vt&&(yield i)}}var xe=(t,e)=>[t[0],t[1],e];function $(t,e){return Ne(e)?Le($(t),e):n=>{let s=n[2];return xe(n,(i,r)=>s(i,t(r)))}}function Gt(...t){return Bs(Gt,Gs,t)}var Bs=(t,e,n)=>{let s,i;switch(n.length){case 4:i=n[3],s=n[2];break;case 3:i=n[2];break;case 2:return $(r=>t(n[0],n[1],r));default:C(n.length)}return e($t(n[0])(n[1]),s,i)};function Ue(...t){let[e,n,s,i,r,o,c,a,l,u]=t;switch(t.length){case 0:C(0);case 1:return e;case 2:return(...f)=>e(n(...f));case 3:return(...f)=>e(n(s(...f)));case 4:return(...f)=>e(n(s(i(...f))));case 5:return(...f)=>e(n(s(i(r(...f)))));case 6:return(...f)=>e(n(s(i(r(o(...f))))));case 7:return(...f)=>e(n(s(i(r(o(c(...f)))))));case 8:return(...f)=>e(n(s(i(r(o(c(a(...f))))))));case 9:return(...f)=>e(n(s(i(r(o(c(a(l(...f)))))))));case 10:default:let h=(...f)=>e(n(s(i(r(o(c(a(l(u(...f))))))))));return t.length===10?h:Ue(h,...t.slice(10))}}function zt(t,e){return Ne(e)?Le(zt(t),e):n=>{let s=n[2],i=t;return xe(n,(r,o)=>i>0?(i--,r):s(r,o))}}function $e(...t){return t=t.map($t),Ue.apply(null,t)}var Tt=(t,e)=>{if(!e)return t;let n=Object.assign(Object.assign({},t),e);return t.class&&e.class&&(n.class=t.class+" "+e.class),t.style&&e.style&&(n.style=Object.assign(Object.assign({},t.style),e.style)),n},qe=(t,e)=>["a",T(t)?{href:t}:t,e];var Ve=(...t)=>["svg",{viewBox:"0 0 32 32"},...t],Ge=Ve(["path",{d:"M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4l6.6 6.6L8 22.6 9.4 24l6.6-6.6 6.6 6.6 1.4-1.4-6.6-6.6L24 9.4z"}]),ze=Ve(["path",{d:"M4 24h24v2H4zM4 12h24v2H4zM4 18h24v2H4zM4 6h24v2H4z"}]);var Be=(t,e)=>{let n={};for(let s in e){let i=e[s];n[s]=v(i)?It(t,i[0],i[1]):It(t,i)}return n},P=(t,e,n=null)=>{t.dispatch([X,["nav.visible",!1]]),t.dispatch([g.ROUTE_TO,[e,n]])},wt=Ce(["yyyy",".","MM"]),We=t=>{let e=t.body.getReader(),n=new TextDecoder,s="";return new Promise(i=>{e.read().then(function r({done:o,value:c}){if(o)i(JSON.parse(s.replace(/(?:\r\n|\r|\n)/g,"")));else return s+=n.decode(c),e.read().then(r)})})};var Ws=({ui:t},e,n,s)=>qe({href:n,...Tt(t.link.default,e)},s),Ot=(t,e,n)=>[Ws,t.ui.link.external,e,n],Qs={init(t,e,n,s){let i=t.childNodes[0],r=new Image;r.src=s,r.onload=()=>{i.classList.remove("hidden"),i.src=s}},render({ui:t},e,n,s){let i=s[1]/s[0];return["div",Tt(t.image.main,{key:n,class:"h-0",style:{"padding-top":`${(i*100).toFixed(2)}%`}}),["img",t.image.content]]},release(){}},Bt=(t,e,n,s,i)=>["a",{...Tt(t.ui.link.default,s),onclick:r=>{r.preventDefault(),P(t.bus,e,n)}},i],Xs=(t,e)=>["div",t.ui.item.thumb.title,[Bt,E.ITEM,{id:e.id},null,e.title]],Wt=(t,e)=>{let n=[];for(let s of e)n.push(["span",t.ui.tag.sign,"#"]),n.push(["span",t.ui.tag.normal,s.name]),n.push(["span",", "]);return n.pop(),["div",n]},Qe=(t,e)=>`/assets/${t}/${e}`,Js=(t,e)=>["div",{...t.ui.item.thumb.cover,onclick:n=>{n.preventDefault(),P(t.bus,E.ITEM,{id:e.id})}},["img",{src:Qe("images",`${e.id}/${e.images[0].name}`),...t.ui.item.thumb.image}]],Ys=(t,e)=>["div",t.ui.item.thumb.main,[Js,e],["div",t.ui.item.thumb.content,["div",t.ui.item.thumb.date,wt(e.date)],[Xs,e],[Wt,e.tags]]],Xe=(t,e)=>["div",t.ui.item.list,$(n=>[Ys,n],e)],Zs=(t,e)=>["div",t.ui.item.full.header,["div",t.ui.item.full.date,wt(e.date)],["h1",t.ui.item.full.title,e.title],["div",t.ui.item.full.tags,[Wt,e.tags]]],Je=(t,e,n)=>[Qs,t.ui.item.full.image,Qe("images",`${e.id}/${n.name}`),[n.width,n.height]],Ye=(t,e)=>{let n=Gt($e(zt(1),$(s=>["p",[Je,e,s]])),He(),e.images);return["div",{key:e.id,...t.ui.item.full.main},[Zs,e],["div",t.ui.item.full.content,["p",[Je,e,e.images[0]]],["p",e.description],["p",[Ot,e.url,"[link]"]],...n]]},Ks=t=>[Bt,E.HOME,null,null,["h1",t.ui.title,"Zihou Ng"]],ti=t=>{let e=t.views.nav.deref().visible;return["div",{...t.ui.nav.toggle,onclick:()=>t.bus.dispatch([g.TOGGLE_NAV])},e?Ge:ze]},ei=t=>["div",t.ui.header,Ks,ti],ni=(t,e)=>["div",t.ui.item.slim.main,["div",t.ui.item.slim.date,wt(e.date)],["div",t.ui.item.slim.body,[Bt,E.ITEM,{id:e.id},t.ui.item.slim.title,e.title],[Wt,e.tags]]],si=t=>{let e=t.views.items.deref();return["div",t.ui.nav.content,$(n=>[ni,n],e)]},ii=t=>["div",["div",t.ui.nav.links,["div",[Ot,"https://github.com/stwind","github"]],["div",[Ot,"https://observablehq.com/@stwind","observable"]],["div",[Ot,"https://qiita.com/stwind","qiita"]],["div",t.ui.email,"stwindfy#gmail dot com"]],si],Ze=t=>{let e=t.views.nav.deref().visible;return["div",t.ui.app,ei,["div",t.ui.profile,"Software Engineer"],["div",t.ui.content,e?ii:t.views.content]]};var E;(function(t){t.HOME="home",t.ITEM="item"})(E||(E={}));var Ke=[{id:E.HOME,title:"Home",match:["home"]},{id:E.ITEM,title:"Item",match:["items","?id"]}],tn={link:{default:{class:"cursor-pointer hover:underline"},external:{class:"text-red"}},image:{main:{class:"bg-gray-200 relative"},content:{class:"object-cover absolute w-full h-full inset-0 hidden"}},email:{class:"text-green"},app:{class:`
    leading-snug
    relative font-light subpixel-antialiased text-black fs--1
    px-4 max-w-4xl mx-auto`},header:{class:"inset-x-0 sticky font-thin text-black top-0 py-5 mb-8 sm:mb-12 md:mb-20 z-10"},title:{class:"fs-1 inline-block leading-none"},profile:{class:"text-gray-600 fixed top-12 -z-1"},content:{class:"w-full py-4"},nav:{toggle:{class:"h-5 w-5 svg-icon absolute top-7 -right-0.5 cursor-pointer"},links:{class:"mb-16 -z-1 sticky top-0"},content:{class:"bg-gray-96"}},item:{list:{class:"grid gap-8 grid-cols-1 sm:grid-cols-2"},thumb:{main:{class:"relative"},cover:{class:"h-52 md:h-60 bg-gray-200 cursor-pointer overflow-hidden mb-2"},image:{class:"h-full w-full object-cover"},content:{class:""},title:{class:"fs-0 text-gray-600"},date:{class:"fs--2"}},full:{main:{class:"item-full relative"},header:{class:"mb-4 sm:mb-6 -z-1 sticky top-0"},date:{class:"fs--2"},title:{class:"font-thin fs-2 sm:fs-3 text-gray-600 sm:text-gray-600 leading-tight"},tags:{class:""},content:{class:"bg-gray-96"},image:{class:"w-full"}},slim:{main:{class:"relative mb-6"},date:{class:"absolute font-mono top-1"},body:{class:"ml-14"},title:{class:"fs-0 text-gray-600"}}},tag:{sign:{class:"text-gray-500 fs--2"},normal:{class:"text-gray-600"},highlight:{class:"tag bg-black text-white"}}},en={nav:{visible:!1}},ri={[E.HOME]:t=>[Xe,t.views.featured.deref()||[]],[E.ITEM]:({views:t,bus:e})=>{let n=t.route.deref(),s=t.items.deref();if(s){let i=s.find(r=>r.id==n.params.id);if(i)return[Ye,i];P(e,E.HOME)}}},nn={nav:"nav",items:"items",tags:"tags",featured:"featured",route:"route",content:["route.id",t=>ri[t]]},g;(function(t){t.ROUTE_TO="route-to",t.FETCH_DATA="fetch-data",t.FETCH_DATA_DONE="fetch-data-done",t.FETCH_DATA_ERROR="fetch-data-error",t.INITIALIZE="initialize",t.TOGGLE_NAV="toggle-nav"})(g||(g={}));var R;(function(t){t.ROUTE_TO="route-to",t.SCROLL_TOP="scroll-top"})(R||(R={}));var oi=t=>{let e=Object.fromEntries(t.tags.map(i=>[i.id,i])),n=t.items.map(i=>({...i,date:Re(Date.parse(i.date)),tags:i.tags.map(r=>e[r])})),s=t.featured.map(i=>n.find(r=>r.id==i));return{items:n,tags:e,featured:s}},sn={[g.FETCH_DATA]:()=>({[bt]:[Ct,"/data.json",g.FETCH_DATA_DONE,g.FETCH_DATA_ERROR]}),[g.FETCH_DATA_DONE]:(t,[e,n],s)=>We(n).then(i=>s.dispatch([g.INITIALIZE,oi(i)])),[g.FETCH_DATA_ERROR]:Ie,[g.INITIALIZE]:[J("items",t=>t.items),J("tags",t=>t.tags),J("featured",t=>t.featured)],[g.TOGGLE_NAV]:[Ht([Mt,"nav.visible"]),Pt(R.SCROLL_TOP)],[N]:[J("route"),Ht([X,["nav.visible",!1]]),Pt(R.SCROLL_TOP)],[g.ROUTE_TO]:(t,[e,n])=>({[R.ROUTE_TO]:n})},rn={[R.SCROLL_TOP]:()=>window.scrollTo(0,0)};import.meta.env=St;var Qt=new F(en),Z=new Nt(Qt,sn,rn),q=new Ut({useFragment:!0,defaultRouteID:E.HOME,routes:Ke});q.addListener(N,t=>Z.dispatch([N,t.value]));Z.addEffect(R.ROUTE_TO,([t,e])=>q.routeTo(q.format(t,e)));var ci={state:Qt,bus:Z,ui:tn,views:Be(Qt,nn)},ai=_e(({bus:t})=>t.processQueue()?[Ze]:null,{ctx:ci});Z.dispatch([g.FETCH_DATA]);q.start();function li(t){let{id:e,params:n}=t;P(Z,e,n)}var K=void 0;K&&(K.accept(({module:t})=>{t.refresh(K.current)}),K.dispose(()=>{K.current=q.current,ai(),q.release()}));export{li as refresh};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
//# sourceMappingURL=//dist//index.js.map
